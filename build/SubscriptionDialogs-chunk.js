import { ProgrammingError } from "./ProgrammingError-chunk.js";
import { assertNotNull, downcast, isEmpty, neverNull } from "./dist2-chunk.js";
import { Const, NewBusinessPlans, NewPaidPlans, NewPersonalPlans } from "./TutanotaConstants-chunk.js";
import { GENERATED_MAX_ID } from "./EntityUtils-chunk.js";
import { BookingTypeRef } from "./TypeRefs2-chunk.js";
import { Dialog } from "./Dialog-chunk.js";
import { locator } from "./CommonLocator-chunk.js";

//#region src/common/misc/SubscriptionDialogs.ts
async function showNotAvailableForFreeDialog(acceptedPlans = NewPaidPlans) {
	const wizard = await import("./UpgradeSubscriptionWizard-chunk.js");
	const customerInfo = await locator.logins.getUserController().loadCustomerInfo();
	const businessPlanRequired = acceptedPlans.filter((plan) => NewBusinessPlans.includes(plan)).length === acceptedPlans.length && NewPersonalPlans.includes(downcast(customerInfo.plan));
	const msg = businessPlanRequired ? "pricing.notSupportedByPersonalPlan_msg" : "newPaidPlanRequired_msg";
	await wizard.showUpgradeWizard(locator.logins, acceptedPlans, msg);
}
function createNotAvailableForFreeClickHandler(acceptedPlans, click, available) {
	return (e, dom) => {
		if (!available()) showNotAvailableForFreeDialog(acceptedPlans);
else click(e, dom);
	};
}
async function checkPaidSubscription() {
	if (locator.logins.getUserController().isFreeAccount()) {
		showNotAvailableForFreeDialog();
		return false;
	}
	return true;
}
async function showMoreStorageNeededOrderDialog(messageIdOrMessageFunction) {
	const userController = locator.logins.getUserController();
	if (!userController.isGlobalAdmin()) return Dialog.message("insufficientStorageWarning_msg");
	const confirmed = await Dialog.confirm(messageIdOrMessageFunction, "upgrade_action");
	if (confirmed) if (userController.isFreeAccount()) {
		const wizard = await import("./UpgradeSubscriptionWizard-chunk.js");
		return wizard.showUpgradeWizard(locator.logins);
	} else {
		const usedStorage = Number(await locator.userManagementFacade.readUsedUserStorage(userController.user));
		const { getAvailableMatchingPlans } = await import("./SubscriptionUtils2-chunk.js");
		const plansWithMoreStorage = await getAvailableMatchingPlans(locator.serviceExecutor, (config) => Number(config.storageGb) * Const.MEMORY_GB_FACTOR > usedStorage);
		if (isEmpty(plansWithMoreStorage)) await Dialog.message(userController.isGlobalAdmin() ? "insufficientStorageAdmin_msg" : "insufficientStorageUser_msg");
else await showPlanUpgradeRequiredDialog(plansWithMoreStorage);
	}
}
async function showPlanUpgradeRequiredDialog(acceptedPlans, reason) {
	if (isEmpty(acceptedPlans)) throw new ProgrammingError("no plans specified");
	const userController = locator.logins.getUserController();
	if (userController.isFreeAccount()) {
		showNotAvailableForFreeDialog(acceptedPlans);
		return false;
	} else if (!userController.isGlobalAdmin()) {
		Dialog.message("contactAdmin_msg");
		return false;
	} else {
		if (reason == null) {
			let customerInfo = await userController.loadCustomerInfo();
			const businessPlanRequired = acceptedPlans.filter((plan) => NewBusinessPlans.includes(plan)).length === acceptedPlans.length && !NewBusinessPlans.includes(downcast(customerInfo.plan));
			reason = businessPlanRequired ? "pricing.notSupportedByPersonalPlan_msg" : "newPaidPlanRequired_msg";
		}
		await showSwitchPlanDialog(userController, acceptedPlans, reason);
		return acceptedPlans.includes(downcast(await userController.getPlanType()));
	}
}
async function showUpgradeWizardOrSwitchSubscriptionDialog(userController) {
	if (userController.isFreeAccount()) {
		const { showUpgradeWizard } = await import("./UpgradeSubscriptionWizard-chunk.js");
		await showUpgradeWizard(locator.logins);
	} else await showSwitchPlanDialog(userController, NewPaidPlans);
}
async function showSwitchPlanDialog(userController, acceptedPlans, reason) {
	let customerInfo = await userController.loadCustomerInfo();
	const bookings = await locator.entityClient.loadRange(BookingTypeRef, neverNull(customerInfo.bookings).items, GENERATED_MAX_ID, 1, true);
	const { showSwitchDialog } = await import("./SwitchSubscriptionDialog2-chunk.js");
	return showSwitchDialog(await userController.loadCustomer(), customerInfo, await userController.loadAccountingInfo(), assertNotNull(bookings[0]), acceptedPlans, reason ?? null);
}

//#endregion
export { checkPaidSubscription, createNotAvailableForFreeClickHandler, showMoreStorageNeededOrderDialog, showNotAvailableForFreeDialog, showPlanUpgradeRequiredDialog, showUpgradeWizardOrSwitchSubscriptionDialog };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Vic2NyaXB0aW9uRGlhbG9ncy1jaHVuay5qcyIsIm5hbWVzIjpbImFjY2VwdGVkUGxhbnM6IEF2YWlsYWJsZVBsYW5UeXBlW10iLCJjbGljazogQ2xpY2tIYW5kbGVyIiwiYXZhaWxhYmxlOiAoKSA9PiBib29sZWFuIiwibWVzc2FnZUlkT3JNZXNzYWdlRnVuY3Rpb246IFRyYW5zbGF0aW9uS2V5IiwicmVhc29uPzogTWF5YmVUcmFuc2xhdGlvbiIsInVzZXJDb250cm9sbGVyOiBVc2VyQ29udHJvbGxlciJdLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tb24vbWlzYy9TdWJzY3JpcHRpb25EaWFsb2dzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydE5vdE51bGwsIGRvd25jYXN0LCBpc0VtcHR5LCBuZXZlck51bGwgfSBmcm9tIFwiQHR1dGFvL3R1dGFub3RhLXV0aWxzXCJcbmltcG9ydCB7IERpYWxvZyB9IGZyb20gXCIuLi9ndWkvYmFzZS9EaWFsb2dcIlxuaW1wb3J0IHR5cGUgeyBUcmFuc2xhdGlvbktleSwgTWF5YmVUcmFuc2xhdGlvbiB9IGZyb20gXCIuL0xhbmd1YWdlVmlld01vZGVsXCJcbmltcG9ydCB7IGxhbmcgfSBmcm9tIFwiLi9MYW5ndWFnZVZpZXdNb2RlbFwiXG5pbXBvcnQgdHlwZSB7IENsaWNrSGFuZGxlciB9IGZyb20gXCIuLi9ndWkvYmFzZS9HdWlVdGlsc1wiXG5pbXBvcnQgeyBsb2NhdG9yIH0gZnJvbSBcIi4uL2FwaS9tYWluL0NvbW1vbkxvY2F0b3JcIlxuaW1wb3J0IHR5cGUgeyBVc2VyQ29udHJvbGxlciB9IGZyb20gXCIuLi9hcGkvbWFpbi9Vc2VyQ29udHJvbGxlci5qc1wiXG5pbXBvcnQgeyBCb29raW5nVHlwZVJlZiB9IGZyb20gXCIuLi9hcGkvZW50aXRpZXMvc3lzL1R5cGVSZWZzLmpzXCJcbmltcG9ydCB7IEdFTkVSQVRFRF9NQVhfSUQgfSBmcm9tIFwiLi4vYXBpL2NvbW1vbi91dGlscy9FbnRpdHlVdGlscy5qc1wiXG5pbXBvcnQgeyBBdmFpbGFibGVQbGFuVHlwZSwgQ29uc3QsIE5ld0J1c2luZXNzUGxhbnMsIE5ld1BhaWRQbGFucywgTmV3UGVyc29uYWxQbGFucywgUGxhblR5cGUgfSBmcm9tIFwiLi4vYXBpL2NvbW1vbi9UdXRhbm90YUNvbnN0YW50cy5qc1wiXG5pbXBvcnQgeyBQcm9ncmFtbWluZ0Vycm9yIH0gZnJvbSBcIi4uL2FwaS9jb21tb24vZXJyb3IvUHJvZ3JhbW1pbmdFcnJvci5qc1wiXG5cbi8qKlxuICogT3BlbnMgYSBkaWFsb2cgd2hpY2ggc3RhdGVzIHRoYXQgdGhlIGZ1bmN0aW9uIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIEZyZWUgc3Vic2NyaXB0aW9uIGFuZCBwcm92aWRlcyBhbiBvcHRpb24gdG8gdXBncmFkZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNob3dOb3RBdmFpbGFibGVGb3JGcmVlRGlhbG9nKGFjY2VwdGVkUGxhbnM6IEF2YWlsYWJsZVBsYW5UeXBlW10gPSBOZXdQYWlkUGxhbnMpIHtcblx0Y29uc3Qgd2l6YXJkID0gYXdhaXQgaW1wb3J0KFwiLi4vc3Vic2NyaXB0aW9uL1VwZ3JhZGVTdWJzY3JpcHRpb25XaXphcmRcIilcblx0Y29uc3QgY3VzdG9tZXJJbmZvID0gYXdhaXQgbG9jYXRvci5sb2dpbnMuZ2V0VXNlckNvbnRyb2xsZXIoKS5sb2FkQ3VzdG9tZXJJbmZvKClcblxuXHRjb25zdCBidXNpbmVzc1BsYW5SZXF1aXJlZCA9XG5cdFx0YWNjZXB0ZWRQbGFucy5maWx0ZXIoKHBsYW4pID0+IE5ld0J1c2luZXNzUGxhbnMuaW5jbHVkZXMocGxhbikpLmxlbmd0aCA9PT0gYWNjZXB0ZWRQbGFucy5sZW5ndGggJiZcblx0XHROZXdQZXJzb25hbFBsYW5zLmluY2x1ZGVzKGRvd25jYXN0KGN1c3RvbWVySW5mby5wbGFuKSlcblx0Y29uc3QgbXNnID0gYnVzaW5lc3NQbGFuUmVxdWlyZWQgPyBcInByaWNpbmcubm90U3VwcG9ydGVkQnlQZXJzb25hbFBsYW5fbXNnXCIgOiBcIm5ld1BhaWRQbGFuUmVxdWlyZWRfbXNnXCJcblxuXHRhd2FpdCB3aXphcmQuc2hvd1VwZ3JhZGVXaXphcmQobG9jYXRvci5sb2dpbnMsIGFjY2VwdGVkUGxhbnMsIG1zZylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdEF2YWlsYWJsZUZvckZyZWVDbGlja0hhbmRsZXIoYWNjZXB0ZWRQbGFuczogQXZhaWxhYmxlUGxhblR5cGVbXSwgY2xpY2s6IENsaWNrSGFuZGxlciwgYXZhaWxhYmxlOiAoKSA9PiBib29sZWFuKTogQ2xpY2tIYW5kbGVyIHtcblx0cmV0dXJuIChlLCBkb20pID0+IHtcblx0XHRpZiAoIWF2YWlsYWJsZSgpKSB7XG5cdFx0XHRzaG93Tm90QXZhaWxhYmxlRm9yRnJlZURpYWxvZyhhY2NlcHRlZFBsYW5zKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjbGljayhlLCBkb20pXG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIGEgcGFpZCBzdWJzY3JpcHRpbm8gaXMgYWN0aXZlIGFuZCBzaG93cyBvbmUgb2YgdGhlIHNob3dOb3RBdmFpbGFibGVGb3JGcmVlRGlhbG9nIG9yIHN1YnNjcmlwdGlvbiBjYW5jZWxsZWQgZGlhbG9ncyBpZiBuZWVkZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja1BhaWRTdWJzY3JpcHRpb24oKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdGlmIChsb2NhdG9yLmxvZ2lucy5nZXRVc2VyQ29udHJvbGxlcigpLmlzRnJlZUFjY291bnQoKSkge1xuXHRcdHNob3dOb3RBdmFpbGFibGVGb3JGcmVlRGlhbG9nKClcblx0XHRyZXR1cm4gZmFsc2Vcblx0fVxuXHRyZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd01vcmVTdG9yYWdlTmVlZGVkT3JkZXJEaWFsb2cobWVzc2FnZUlkT3JNZXNzYWdlRnVuY3Rpb246IFRyYW5zbGF0aW9uS2V5KTogUHJvbWlzZTxQbGFuVHlwZSB8IHZvaWQ+IHtcblx0Y29uc3QgdXNlckNvbnRyb2xsZXIgPSBsb2NhdG9yLmxvZ2lucy5nZXRVc2VyQ29udHJvbGxlcigpXG5cdGlmICghdXNlckNvbnRyb2xsZXIuaXNHbG9iYWxBZG1pbigpKSB7XG5cdFx0cmV0dXJuIERpYWxvZy5tZXNzYWdlKFwiaW5zdWZmaWNpZW50U3RvcmFnZVdhcm5pbmdfbXNnXCIpXG5cdH1cblx0Y29uc3QgY29uZmlybWVkID0gYXdhaXQgRGlhbG9nLmNvbmZpcm0obWVzc2FnZUlkT3JNZXNzYWdlRnVuY3Rpb24sIFwidXBncmFkZV9hY3Rpb25cIilcblx0aWYgKGNvbmZpcm1lZCkge1xuXHRcdGlmICh1c2VyQ29udHJvbGxlci5pc0ZyZWVBY2NvdW50KCkpIHtcblx0XHRcdGNvbnN0IHdpemFyZCA9IGF3YWl0IGltcG9ydChcIi4uL3N1YnNjcmlwdGlvbi9VcGdyYWRlU3Vic2NyaXB0aW9uV2l6YXJkXCIpXG5cdFx0XHRyZXR1cm4gd2l6YXJkLnNob3dVcGdyYWRlV2l6YXJkKGxvY2F0b3IubG9naW5zKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCB1c2VkU3RvcmFnZSA9IE51bWJlcihhd2FpdCBsb2NhdG9yLnVzZXJNYW5hZ2VtZW50RmFjYWRlLnJlYWRVc2VkVXNlclN0b3JhZ2UodXNlckNvbnRyb2xsZXIudXNlcikpXG5cdFx0XHRjb25zdCB7IGdldEF2YWlsYWJsZU1hdGNoaW5nUGxhbnMgfSA9IGF3YWl0IGltcG9ydChcIi4uL3N1YnNjcmlwdGlvbi9TdWJzY3JpcHRpb25VdGlscy5qc1wiKVxuXHRcdFx0Y29uc3QgcGxhbnNXaXRoTW9yZVN0b3JhZ2UgPSBhd2FpdCBnZXRBdmFpbGFibGVNYXRjaGluZ1BsYW5zKFxuXHRcdFx0XHRsb2NhdG9yLnNlcnZpY2VFeGVjdXRvcixcblx0XHRcdFx0KGNvbmZpZykgPT4gTnVtYmVyKGNvbmZpZy5zdG9yYWdlR2IpICogQ29uc3QuTUVNT1JZX0dCX0ZBQ1RPUiA+IHVzZWRTdG9yYWdlLFxuXHRcdFx0KVxuXHRcdFx0aWYgKGlzRW1wdHkocGxhbnNXaXRoTW9yZVN0b3JhZ2UpKSB7XG5cdFx0XHRcdGF3YWl0IERpYWxvZy5tZXNzYWdlKHVzZXJDb250cm9sbGVyLmlzR2xvYmFsQWRtaW4oKSA/IFwiaW5zdWZmaWNpZW50U3RvcmFnZUFkbWluX21zZ1wiIDogXCJpbnN1ZmZpY2llbnRTdG9yYWdlVXNlcl9tc2dcIilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGF3YWl0IHNob3dQbGFuVXBncmFkZVJlcXVpcmVkRGlhbG9nKHBsYW5zV2l0aE1vcmVTdG9yYWdlKVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIG5lZWRlZCBwbGFuIGhhcyBiZWVuIG9yZGVyZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNob3dQbGFuVXBncmFkZVJlcXVpcmVkRGlhbG9nKGFjY2VwdGVkUGxhbnM6IEF2YWlsYWJsZVBsYW5UeXBlW10sIHJlYXNvbj86IE1heWJlVHJhbnNsYXRpb24pOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0aWYgKGlzRW1wdHkoYWNjZXB0ZWRQbGFucykpIHtcblx0XHR0aHJvdyBuZXcgUHJvZ3JhbW1pbmdFcnJvcihcIm5vIHBsYW5zIHNwZWNpZmllZFwiKVxuXHR9XG5cdGNvbnN0IHVzZXJDb250cm9sbGVyID0gbG9jYXRvci5sb2dpbnMuZ2V0VXNlckNvbnRyb2xsZXIoKVxuXHRpZiAodXNlckNvbnRyb2xsZXIuaXNGcmVlQWNjb3VudCgpKSB7XG5cdFx0c2hvd05vdEF2YWlsYWJsZUZvckZyZWVEaWFsb2coYWNjZXB0ZWRQbGFucylcblx0XHRyZXR1cm4gZmFsc2Vcblx0fSBlbHNlIGlmICghdXNlckNvbnRyb2xsZXIuaXNHbG9iYWxBZG1pbigpKSB7XG5cdFx0RGlhbG9nLm1lc3NhZ2UoXCJjb250YWN0QWRtaW5fbXNnXCIpXG5cdFx0cmV0dXJuIGZhbHNlXG5cdH0gZWxzZSB7XG5cdFx0aWYgKHJlYXNvbiA9PSBudWxsKSB7XG5cdFx0XHQvLyBzaG93IGdlbmVyaWMgcmVhc29uIGlmIG5vdCBzdXBwbGllZFxuXHRcdFx0bGV0IGN1c3RvbWVySW5mbyA9IGF3YWl0IHVzZXJDb250cm9sbGVyLmxvYWRDdXN0b21lckluZm8oKVxuXHRcdFx0Y29uc3QgYnVzaW5lc3NQbGFuUmVxdWlyZWQgPVxuXHRcdFx0XHRhY2NlcHRlZFBsYW5zLmZpbHRlcigocGxhbikgPT4gTmV3QnVzaW5lc3NQbGFucy5pbmNsdWRlcyhwbGFuKSkubGVuZ3RoID09PSBhY2NlcHRlZFBsYW5zLmxlbmd0aCAmJlxuXHRcdFx0XHQhTmV3QnVzaW5lc3NQbGFucy5pbmNsdWRlcyhkb3duY2FzdChjdXN0b21lckluZm8ucGxhbikpXG5cdFx0XHRyZWFzb24gPSBidXNpbmVzc1BsYW5SZXF1aXJlZCA/IFwicHJpY2luZy5ub3RTdXBwb3J0ZWRCeVBlcnNvbmFsUGxhbl9tc2dcIiA6IFwibmV3UGFpZFBsYW5SZXF1aXJlZF9tc2dcIlxuXHRcdH1cblx0XHRhd2FpdCBzaG93U3dpdGNoUGxhbkRpYWxvZyh1c2VyQ29udHJvbGxlciwgYWNjZXB0ZWRQbGFucywgcmVhc29uKVxuXHRcdHJldHVybiBhY2NlcHRlZFBsYW5zLmluY2x1ZGVzKGRvd25jYXN0PEF2YWlsYWJsZVBsYW5UeXBlPihhd2FpdCB1c2VyQ29udHJvbGxlci5nZXRQbGFuVHlwZSgpKSlcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd1VwZ3JhZGVXaXphcmRPclN3aXRjaFN1YnNjcmlwdGlvbkRpYWxvZyh1c2VyQ29udHJvbGxlcjogVXNlckNvbnRyb2xsZXIpOiBQcm9taXNlPHZvaWQ+IHtcblx0aWYgKHVzZXJDb250cm9sbGVyLmlzRnJlZUFjY291bnQoKSkge1xuXHRcdGNvbnN0IHsgc2hvd1VwZ3JhZGVXaXphcmQgfSA9IGF3YWl0IGltcG9ydChcIi4uL3N1YnNjcmlwdGlvbi9VcGdyYWRlU3Vic2NyaXB0aW9uV2l6YXJkXCIpXG5cdFx0YXdhaXQgc2hvd1VwZ3JhZGVXaXphcmQobG9jYXRvci5sb2dpbnMpXG5cdH0gZWxzZSB7XG5cdFx0YXdhaXQgc2hvd1N3aXRjaFBsYW5EaWFsb2codXNlckNvbnRyb2xsZXIsIE5ld1BhaWRQbGFucylcblx0fVxufVxuXG5hc3luYyBmdW5jdGlvbiBzaG93U3dpdGNoUGxhbkRpYWxvZyh1c2VyQ29udHJvbGxlcjogVXNlckNvbnRyb2xsZXIsIGFjY2VwdGVkUGxhbnM6IEF2YWlsYWJsZVBsYW5UeXBlW10sIHJlYXNvbj86IE1heWJlVHJhbnNsYXRpb24pOiBQcm9taXNlPHZvaWQ+IHtcblx0bGV0IGN1c3RvbWVySW5mbyA9IGF3YWl0IHVzZXJDb250cm9sbGVyLmxvYWRDdXN0b21lckluZm8oKVxuXHRjb25zdCBib29raW5ncyA9IGF3YWl0IGxvY2F0b3IuZW50aXR5Q2xpZW50LmxvYWRSYW5nZShCb29raW5nVHlwZVJlZiwgbmV2ZXJOdWxsKGN1c3RvbWVySW5mby5ib29raW5ncykuaXRlbXMsIEdFTkVSQVRFRF9NQVhfSUQsIDEsIHRydWUpXG5cdGNvbnN0IHsgc2hvd1N3aXRjaERpYWxvZyB9ID0gYXdhaXQgaW1wb3J0KFwiLi4vc3Vic2NyaXB0aW9uL1N3aXRjaFN1YnNjcmlwdGlvbkRpYWxvZ1wiKVxuXHRyZXR1cm4gc2hvd1N3aXRjaERpYWxvZyhcblx0XHRhd2FpdCB1c2VyQ29udHJvbGxlci5sb2FkQ3VzdG9tZXIoKSxcblx0XHRjdXN0b21lckluZm8sXG5cdFx0YXdhaXQgdXNlckNvbnRyb2xsZXIubG9hZEFjY291bnRpbmdJbmZvKCksXG5cdFx0YXNzZXJ0Tm90TnVsbChib29raW5nc1swXSksXG5cdFx0YWNjZXB0ZWRQbGFucyxcblx0XHRyZWFzb24gPz8gbnVsbCxcblx0KVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFlTyxlQUFlLDhCQUE4QkEsZ0JBQXFDLGNBQWM7Q0FDdEcsTUFBTSxTQUFTLE1BQU0sT0FBTztDQUM1QixNQUFNLGVBQWUsTUFBTSxRQUFRLE9BQU8sbUJBQW1CLENBQUMsa0JBQWtCO0NB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