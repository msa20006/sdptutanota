import { lang } from "./LanguageViewModel-chunk.js";
import { GroupType, MailMethod } from "./TutanotaConstants-chunk.js";
import { getDefaultGroupName, getInvitationGroupType, getSharedGroupName } from "./GroupUtils2-chunk.js";
import { locator } from "./CommonLocator-chunk.js";
import { showProgressDialog } from "./ProgressDialog-chunk.js";
import { getDefaultSender, getEnabledMailAddressesWithUser, getSenderNameForUser } from "./SharedMailUtils-chunk.js";

//#region src/common/sharing/GroupSharingUtils.ts
function sendShareNotificationEmail(sharedGroupInfo, recipients, texts) {
	locator.mailboxModel.getUserMailboxDetails().then((mailboxDetails) => {
		const senderMailAddress = getDefaultSender(locator.logins, mailboxDetails);
		const userName = getSenderNameForUser(mailboxDetails, locator.logins.getUserController());
		const bcc = recipients.map(({ name, address }) => ({
			name,
			address
		}));
		let senderDisplayName;
		if (!userName) senderDisplayName = senderMailAddress;
else senderDisplayName = `${userName} &lt;${senderMailAddress}&gt;`;
		_sendNotificationEmail({ bcc }, texts.shareEmailSubject, texts.shareEmailBody(senderDisplayName, getSharedGroupName(sharedGroupInfo, locator.logins.getUserController(), true)), senderMailAddress);
	});
}
function sendAcceptNotificationEmail(invitation, texts) {
	const to = [{
		name: invitation.inviterName,
		address: invitation.inviterMailAddress
	}];
	const userName = invitation.inviterMailAddress;
	const invitee = invitation.inviteeMailAddress;
	const groupName = invitation.sharedGroupName || getDefaultGroupName(getInvitationGroupType(invitation));
	const senderMailAddress = invitation.inviteeMailAddress;
	_sendNotificationEmail({ to }, texts.acceptEmailSubject, texts.acceptEmailBody(userName, invitee, groupName), senderMailAddress);
}
function sendRejectNotificationEmail(invitation, texts) {
	const to = [{
		name: invitation.inviterName,
		address: invitation.inviterMailAddress
	}];
	const userName = invitation.inviterMailAddress;
	const invitee = invitation.inviteeMailAddress;
	const groupName = invitation.sharedGroupName || getDefaultGroupName(getInvitationGroupType(invitation));
	const senderMailAddress = invitation.inviteeMailAddress;
	_sendNotificationEmail({ to }, texts.declineEmailSubject, texts.declineEmailBody(userName, invitee, groupName), senderMailAddress);
}
function _sendNotificationEmail(recipients, subject, body, senderMailAddress) {
	import("./HtmlSanitizer2-chunk.js").then(({ htmlSanitizer }) => {
		const sanitizedBody = htmlSanitizer.sanitizeHTML(body, {
			blockExternalContent: false,
			allowRelativeLinks: false,
			usePlaceholderForInlineImages: false
		}).html;
		locator.mailboxModel.getUserMailboxDetails().then(async (mailboxDetails) => {
			const sender = getEnabledMailAddressesWithUser(mailboxDetails, locator.logins.getUserController().userGroupInfo).includes(senderMailAddress) ? senderMailAddress : getDefaultSender(locator.logins, mailboxDetails);
			const confirm = () => Promise.resolve(true);
			const wait = showProgressDialog;
			const mailboxProperties = await locator.mailboxModel.getMailboxProperties(mailboxDetails.mailboxGroupRoot);
			const model = await locator.sendMailModel(mailboxDetails, mailboxProperties);
			await model.initWithTemplate(recipients, subject, sanitizedBody, [], true, sender);
			await model.send(MailMethod.NONE, confirm, wait, "tooManyMailsAuto_msg");
		});
	});
}

//#endregion
//#region src/common/sharing/GroupGuiUtils.ts
const CALENDAR_SHARING_TEXTS = () => ({
	groupNameLabel: "calendarName_label",
	participantsLabel: (groupName) => lang.get("calendarParticipants_label", { "{name}": groupName }),
	acceptEmailSubject: lang.get("shareCalendarAcceptEmailSubject_msg"),
	acceptEmailBody: (userName, invitee, groupName) => lang.get("shareCalendarAcceptEmailBody_msg", {
		"{invitee}": invitee,
		"{calendarName}": groupName,
		"{recipientName}": userName
	}),
	declineEmailSubject: lang.get("shareCalendarDeclineEmailSubject_msg"),
	declineEmailBody: (userName, invitee, groupName) => lang.get("shareCalendarDeclineEmailBody_msg", {
		"{invitee}": invitee,
		"{calendarName}": groupName,
		"{recipientName}": userName
	}),
	shareEmailSubject: lang.get("shareCalendarInvitationEmailSubject_msg"),
	shareEmailBody: (sender, calendarName) => lang.get("shareCalendarInvitationEmailBody_msg", {
		"{inviter}": sender,
		"{calendarName}": calendarName
	}),
	addMemberMessage: (_) => `${lang.get("shareCalendarWarning_msg")} ${lang.get("shareWarningAliases_msg")}`,
	removeMemberMessage: (calendarName, invitee) => lang.get("removeCalendarParticipantConfirm_msg", {
		"{participant}": invitee,
		"{calendarName}": calendarName
	}),
	alreadyGroupMemberMessage: "sharedCalendarAlreadyMember_msg",
	receivedGroupInvitationMessage: `${lang.get("shareCalendarWarning_msg")} ${lang.get("shareWarningAliases_msg")}`,
	sharedGroupDefaultCustomName: (groupOwnerName) => getDefaultGroupName(GroupType.Calendar),
	yourCustomNameLabel: (groupName) => lang.get("calendarCustomName_label", { "{customName}": groupName })
});
const TEMPLATE_SHARING_TEXTS = () => ({
	groupNameLabel: "templateGroupName_label",
	participantsLabel: (groupName) => lang.get("sharedGroupParticipants_label", { "{groupName}": groupName }),
	acceptEmailSubject: lang.get("acceptTemplateGroupEmailSubject_msg"),
	acceptEmailBody: (userName, invitee, groupName) => `${lang.get("sharedGroupAcceptEmailBody_msg", {
		"{recipientName}": userName,
		"{invitee}": invitee,
		"{groupName}": groupName
	})} ${lang.get("automatedMessage_msg")}`,
	declineEmailSubject: lang.get("declineTemplateGroupEmailSubject_msg"),
	declineEmailBody: (userName, invitee, groupName) => `${lang.get("sharedGroupDeclineEmailBody_msg", {
		"{recipientName}": userName,
		"{invitee}": invitee,
		"{groupName}": groupName
	})} ${lang.get("automatedMessage_msg")}`,
	shareEmailSubject: lang.get("shareTemplateGroupEmailSubject_msg"),
	shareEmailBody: (sharer, groupName) => lang.get("shareTemplateGroupEmailBody_msg", {
		"{inviter}": sharer,
		"{groupName}": groupName
	}),
	addMemberMessage: (groupName) => `${lang.get("shareGroupWarning_msg")} ${lang.get("shareWarningAliases_msg")}`,
	removeMemberMessage: (groupName, member) => lang.get("removeSharedMemberConfirm_msg", {
		"{member}": member,
		"{groupName}": groupName
	}),
	alreadyGroupMemberMessage: "alreadySharedGroupMember_msg",
	receivedGroupInvitationMessage: `${lang.get("shareGroupWarning_msg")} ${lang.get("shareWarningAliases_msg")}`,
	sharedGroupDefaultCustomName: (invitation) => lang.get("sharedTemplateGroupDefaultName_label", { "{ownerName}": invitation.inviterName || invitation.inviterMailAddress }),
	yourCustomNameLabel: (groupName) => lang.get("customName_label", { "{customName}": groupName })
});
const CONTACT_LIST_SHARING_TEXTS = () => ({
	groupNameLabel: "contactListName_label",
	participantsLabel: (groupName) => lang.get("sharedGroupParticipants_label", { "{groupName}": groupName }),
	acceptEmailSubject: lang.get("acceptContactListEmailSubject_msg"),
	acceptEmailBody: (userName, invitee, groupName) => `${lang.get("sharedGroupAcceptEmailBody_msg", {
		"{recipientName}": userName,
		"{invitee}": invitee,
		"{groupName}": groupName
	})} ${lang.get("automatedMessage_msg")}`,
	declineEmailSubject: lang.get("declineContactListEmailSubject_msg"),
	declineEmailBody: (userName, invitee, groupName) => `${lang.get("sharedGroupDeclineEmailBody_msg", {
		"{recipientName}": userName,
		"{invitee}": invitee,
		"{groupName}": groupName
	})} ${lang.get("automatedMessage_msg")}`,
	shareEmailSubject: lang.get("shareContactListEmailSubject_msg"),
	shareEmailBody: (sharer, groupName) => `${lang.get("shareContactListEmailBody_msg", {
		"{inviter}": sharer,
		"{groupName}": groupName
	})} ${lang.get("automatedMessage_msg")}`,
	addMemberMessage: (groupName) => `${lang.get("shareGroupWarning_msg")} ${lang.get("shareWarningAliases_msg")}`,
	removeMemberMessage: (groupName, member) => lang.get("removeSharedMemberConfirm_msg", {
		"{member}": member,
		"{groupName}": groupName
	}),
	alreadyGroupMemberMessage: "alreadySharedGroupMember_msg",
	receivedGroupInvitationMessage: `${lang.get("shareGroupWarning_msg")} ${lang.get("shareWarningAliases_msg")}`,
	sharedGroupDefaultCustomName: (invitation) => lang.get("sharedContactListDefaultName_label", { "{ownerName}": invitation.inviterName || invitation.inviterMailAddress }),
	yourCustomNameLabel: (groupName) => lang.get("customName_label", { "{customName}": groupName })
});
function getTextsForGroupType(groupType) {
	switch (groupType) {
		case GroupType.Calendar: return CALENDAR_SHARING_TEXTS();
		case GroupType.Template: return TEMPLATE_SHARING_TEXTS();
		case GroupType.ContactList: return CONTACT_LIST_SHARING_TEXTS();
	}
}

//#endregion
export { getTextsForGroupType, sendAcceptNotificationEmail, sendRejectNotificationEmail, sendShareNotificationEmail };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3JvdXBHdWlVdGlscy1jaHVuay5qcyIsIm5hbWVzIjpbInNoYXJlZEdyb3VwSW5mbzogR3JvdXBJbmZvIiwicmVjaXBpZW50czogQXJyYXk8UGFydGlhbFJlY2lwaWVudD4iLCJ0ZXh0czogR3JvdXBTaGFyaW5nVGV4dHMiLCJpbnZpdGF0aW9uOiBSZWNlaXZlZEdyb3VwSW52aXRhdGlvbiIsInJlY2lwaWVudHM6IFJlY2lwaWVudHMiLCJzdWJqZWN0OiBzdHJpbmciLCJib2R5OiBzdHJpbmciLCJzZW5kZXJNYWlsQWRkcmVzczogc3RyaW5nIiwiQ0FMRU5EQVJfU0hBUklOR19URVhUUzogbGF6eTxHcm91cFNoYXJpbmdUZXh0cz4iLCJURU1QTEFURV9TSEFSSU5HX1RFWFRTOiBsYXp5PEdyb3VwU2hhcmluZ1RleHRzPiIsInNoYXJlcjogc3RyaW5nIiwiZ3JvdXBOYW1lOiBzdHJpbmciLCJtZW1iZXI6IHN0cmluZyIsIkNPTlRBQ1RfTElTVF9TSEFSSU5HX1RFWFRTOiBsYXp5PEdyb3VwU2hhcmluZ1RleHRzPiIsImdyb3VwVHlwZTogU2hhcmVhYmxlR3JvdXBUeXBlIl0sInNvdXJjZXMiOlsiLi4vc3JjL2NvbW1vbi9zaGFyaW5nL0dyb3VwU2hhcmluZ1V0aWxzLnRzIiwiLi4vc3JjL2NvbW1vbi9zaGFyaW5nL0dyb3VwR3VpVXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBHcm91cEluZm8sIFJlY2VpdmVkR3JvdXBJbnZpdGF0aW9uIH0gZnJvbSBcIi4uL2FwaS9lbnRpdGllcy9zeXMvVHlwZVJlZnMuanNcIlxuaW1wb3J0IHsgbG9jYXRvciB9IGZyb20gXCIuLi9hcGkvbWFpbi9Db21tb25Mb2NhdG9yXCJcbmltcG9ydCB7IE1haWxNZXRob2QgfSBmcm9tIFwiLi4vYXBpL2NvbW1vbi9UdXRhbm90YUNvbnN0YW50c1wiXG5pbXBvcnQgeyBzaG93UHJvZ3Jlc3NEaWFsb2cgfSBmcm9tIFwiLi4vZ3VpL2RpYWxvZ3MvUHJvZ3Jlc3NEaWFsb2dcIlxuaW1wb3J0IHR5cGUgeyBHcm91cFNoYXJpbmdUZXh0cyB9IGZyb20gXCIuL0dyb3VwR3VpVXRpbHNcIlxuaW1wb3J0IHsgZ2V0RGVmYXVsdEdyb3VwTmFtZSwgZ2V0SW52aXRhdGlvbkdyb3VwVHlwZSwgZ2V0U2hhcmVkR3JvdXBOYW1lIH0gZnJvbSBcIi4vR3JvdXBVdGlsc1wiXG5pbXBvcnQgeyBQYXJ0aWFsUmVjaXBpZW50LCBSZWNpcGllbnRzIH0gZnJvbSBcIi4uL2FwaS9jb21tb24vcmVjaXBpZW50cy9SZWNpcGllbnRcIlxuaW1wb3J0IHsgZ2V0RGVmYXVsdFNlbmRlciwgZ2V0RW5hYmxlZE1haWxBZGRyZXNzZXNXaXRoVXNlciwgZ2V0TWFpbEFkZHJlc3NEaXNwbGF5VGV4dCwgZ2V0U2VuZGVyTmFtZUZvclVzZXIgfSBmcm9tIFwiLi4vbWFpbEZ1bmN0aW9uYWxpdHkvU2hhcmVkTWFpbFV0aWxzLmpzXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRTaGFyZU5vdGlmaWNhdGlvbkVtYWlsKHNoYXJlZEdyb3VwSW5mbzogR3JvdXBJbmZvLCByZWNpcGllbnRzOiBBcnJheTxQYXJ0aWFsUmVjaXBpZW50PiwgdGV4dHM6IEdyb3VwU2hhcmluZ1RleHRzKSB7XG5cdGxvY2F0b3IubWFpbGJveE1vZGVsLmdldFVzZXJNYWlsYm94RGV0YWlscygpLnRoZW4oKG1haWxib3hEZXRhaWxzKSA9PiB7XG5cdFx0Y29uc3Qgc2VuZGVyTWFpbEFkZHJlc3MgPSBnZXREZWZhdWx0U2VuZGVyKGxvY2F0b3IubG9naW5zLCBtYWlsYm94RGV0YWlscylcblx0XHRjb25zdCB1c2VyTmFtZSA9IGdldFNlbmRlck5hbWVGb3JVc2VyKG1haWxib3hEZXRhaWxzLCBsb2NhdG9yLmxvZ2lucy5nZXRVc2VyQ29udHJvbGxlcigpKVxuXHRcdC8vIFNlbmRpbmcgbm90aWZpY2F0aW9ucyBhcyBiY2Mgc28gdGhhdCBpbnZpdGVkIHBlb3BsZSBkb24ndCBzZWUgZWFjaCBvdGhlclxuXHRcdGNvbnN0IGJjYyA9IHJlY2lwaWVudHMubWFwKCh7IG5hbWUsIGFkZHJlc3MgfSkgPT4gKHtcblx0XHRcdG5hbWUsXG5cdFx0XHRhZGRyZXNzLFxuXHRcdH0pKVxuXG5cdFx0bGV0IHNlbmRlckRpc3BsYXlOYW1lXG5cblx0XHRpZiAoIXVzZXJOYW1lKSB7XG5cdFx0XHRzZW5kZXJEaXNwbGF5TmFtZSA9IHNlbmRlck1haWxBZGRyZXNzXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHVzZSBodG1sIGNvZGUgZm9yIDwgPiBzbyB0aGF0IHRoZXkgKGFuZCB0aGUgZW5jbG9zZWQgZW1haWwgYWRkcmVzcykgZG8gbm90IGdldCBzYW5pdGl6ZWQgYXdheVxuXHRcdFx0c2VuZGVyRGlzcGxheU5hbWUgPSBgJHt1c2VyTmFtZX0gJmx0OyR7c2VuZGVyTWFpbEFkZHJlc3N9Jmd0O2Bcblx0XHR9XG5cblx0XHRfc2VuZE5vdGlmaWNhdGlvbkVtYWlsKFxuXHRcdFx0e1xuXHRcdFx0XHRiY2MsXG5cdFx0XHR9LFxuXHRcdFx0dGV4dHMuc2hhcmVFbWFpbFN1YmplY3QsXG5cdFx0XHR0ZXh0cy5zaGFyZUVtYWlsQm9keShzZW5kZXJEaXNwbGF5TmFtZSwgZ2V0U2hhcmVkR3JvdXBOYW1lKHNoYXJlZEdyb3VwSW5mbywgbG9jYXRvci5sb2dpbnMuZ2V0VXNlckNvbnRyb2xsZXIoKSwgdHJ1ZSkpLFxuXHRcdFx0c2VuZGVyTWFpbEFkZHJlc3MsXG5cdFx0KVxuXHR9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZEFjY2VwdE5vdGlmaWNhdGlvbkVtYWlsKGludml0YXRpb246IFJlY2VpdmVkR3JvdXBJbnZpdGF0aW9uLCB0ZXh0czogR3JvdXBTaGFyaW5nVGV4dHMpIHtcblx0Y29uc3QgdG8gPSBbXG5cdFx0e1xuXHRcdFx0bmFtZTogaW52aXRhdGlvbi5pbnZpdGVyTmFtZSxcblx0XHRcdGFkZHJlc3M6IGludml0YXRpb24uaW52aXRlck1haWxBZGRyZXNzLFxuXHRcdH0sXG5cdF1cblx0Y29uc3QgdXNlck5hbWUgPSBpbnZpdGF0aW9uLmludml0ZXJNYWlsQWRkcmVzc1xuXHRjb25zdCBpbnZpdGVlID0gaW52aXRhdGlvbi5pbnZpdGVlTWFpbEFkZHJlc3Ncblx0Y29uc3QgZ3JvdXBOYW1lID0gaW52aXRhdGlvbi5zaGFyZWRHcm91cE5hbWUgfHwgZ2V0RGVmYXVsdEdyb3VwTmFtZShnZXRJbnZpdGF0aW9uR3JvdXBUeXBlKGludml0YXRpb24pKVxuXHRjb25zdCBzZW5kZXJNYWlsQWRkcmVzcyA9IGludml0YXRpb24uaW52aXRlZU1haWxBZGRyZXNzXG5cblx0X3NlbmROb3RpZmljYXRpb25FbWFpbChcblx0XHR7XG5cdFx0XHR0byxcblx0XHR9LFxuXHRcdHRleHRzLmFjY2VwdEVtYWlsU3ViamVjdCxcblx0XHR0ZXh0cy5hY2NlcHRFbWFpbEJvZHkodXNlck5hbWUsIGludml0ZWUsIGdyb3VwTmFtZSksXG5cdFx0c2VuZGVyTWFpbEFkZHJlc3MsXG5cdClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRSZWplY3ROb3RpZmljYXRpb25FbWFpbChpbnZpdGF0aW9uOiBSZWNlaXZlZEdyb3VwSW52aXRhdGlvbiwgdGV4dHM6IEdyb3VwU2hhcmluZ1RleHRzKSB7XG5cdGNvbnN0IHRvID0gW1xuXHRcdHtcblx0XHRcdG5hbWU6IGludml0YXRpb24uaW52aXRlck5hbWUsXG5cdFx0XHRhZGRyZXNzOiBpbnZpdGF0aW9uLmludml0ZXJNYWlsQWRkcmVzcyxcblx0XHR9LFxuXHRdXG5cdGNvbnN0IHVzZXJOYW1lID0gaW52aXRhdGlvbi5pbnZpdGVyTWFpbEFkZHJlc3Ncblx0Y29uc3QgaW52aXRlZSA9IGludml0YXRpb24uaW52aXRlZU1haWxBZGRyZXNzXG5cdGNvbnN0IGdyb3VwTmFtZSA9IGludml0YXRpb24uc2hhcmVkR3JvdXBOYW1lIHx8IGdldERlZmF1bHRHcm91cE5hbWUoZ2V0SW52aXRhdGlvbkdyb3VwVHlwZShpbnZpdGF0aW9uKSlcblx0Y29uc3Qgc2VuZGVyTWFpbEFkZHJlc3MgPSBpbnZpdGF0aW9uLmludml0ZWVNYWlsQWRkcmVzc1xuXG5cdF9zZW5kTm90aWZpY2F0aW9uRW1haWwoXG5cdFx0e1xuXHRcdFx0dG8sXG5cdFx0fSxcblx0XHR0ZXh0cy5kZWNsaW5lRW1haWxTdWJqZWN0LFxuXHRcdHRleHRzLmRlY2xpbmVFbWFpbEJvZHkodXNlck5hbWUsIGludml0ZWUsIGdyb3VwTmFtZSksXG5cdFx0c2VuZGVyTWFpbEFkZHJlc3MsXG5cdClcbn1cblxuZnVuY3Rpb24gX3NlbmROb3RpZmljYXRpb25FbWFpbChyZWNpcGllbnRzOiBSZWNpcGllbnRzLCBzdWJqZWN0OiBzdHJpbmcsIGJvZHk6IHN0cmluZywgc2VuZGVyTWFpbEFkZHJlc3M6IHN0cmluZykge1xuXHRpbXBvcnQoXCIuLi9taXNjL0h0bWxTYW5pdGl6ZXJcIikudGhlbigoeyBodG1sU2FuaXRpemVyIH0pID0+IHtcblx0XHRjb25zdCBzYW5pdGl6ZWRCb2R5ID0gaHRtbFNhbml0aXplci5zYW5pdGl6ZUhUTUwoYm9keSwge1xuXHRcdFx0YmxvY2tFeHRlcm5hbENvbnRlbnQ6IGZhbHNlLFxuXHRcdFx0YWxsb3dSZWxhdGl2ZUxpbmtzOiBmYWxzZSxcblx0XHRcdHVzZVBsYWNlaG9sZGVyRm9ySW5saW5lSW1hZ2VzOiBmYWxzZSxcblx0XHR9KS5odG1sXG5cdFx0bG9jYXRvci5tYWlsYm94TW9kZWwuZ2V0VXNlck1haWxib3hEZXRhaWxzKCkudGhlbihhc3luYyAobWFpbGJveERldGFpbHMpID0+IHtcblx0XHRcdGNvbnN0IHNlbmRlciA9IGdldEVuYWJsZWRNYWlsQWRkcmVzc2VzV2l0aFVzZXIobWFpbGJveERldGFpbHMsIGxvY2F0b3IubG9naW5zLmdldFVzZXJDb250cm9sbGVyKCkudXNlckdyb3VwSW5mbykuaW5jbHVkZXMoc2VuZGVyTWFpbEFkZHJlc3MpXG5cdFx0XHRcdD8gc2VuZGVyTWFpbEFkZHJlc3Ncblx0XHRcdFx0OiBnZXREZWZhdWx0U2VuZGVyKGxvY2F0b3IubG9naW5zLCBtYWlsYm94RGV0YWlscylcblxuXHRcdFx0Y29uc3QgY29uZmlybSA9ICgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKVxuXG5cdFx0XHRjb25zdCB3YWl0ID0gc2hvd1Byb2dyZXNzRGlhbG9nXG5cdFx0XHRjb25zdCBtYWlsYm94UHJvcGVydGllcyA9IGF3YWl0IGxvY2F0b3IubWFpbGJveE1vZGVsLmdldE1haWxib3hQcm9wZXJ0aWVzKG1haWxib3hEZXRhaWxzLm1haWxib3hHcm91cFJvb3QpXG5cdFx0XHRjb25zdCBtb2RlbCA9IGF3YWl0IGxvY2F0b3Iuc2VuZE1haWxNb2RlbChtYWlsYm94RGV0YWlscywgbWFpbGJveFByb3BlcnRpZXMpXG5cdFx0XHRhd2FpdCBtb2RlbC5pbml0V2l0aFRlbXBsYXRlKHJlY2lwaWVudHMsIHN1YmplY3QsIHNhbml0aXplZEJvZHksIFtdLCB0cnVlLCBzZW5kZXIpXG5cdFx0XHRhd2FpdCBtb2RlbC5zZW5kKE1haWxNZXRob2QuTk9ORSwgY29uZmlybSwgd2FpdCwgXCJ0b29NYW55TWFpbHNBdXRvX21zZ1wiKVxuXHRcdH0pXG5cdH0pXG59XG4iLCJpbXBvcnQgdHlwZSB7IFRyYW5zbGF0aW9uS2V5LCBNYXliZVRyYW5zbGF0aW9uIH0gZnJvbSBcIi4uL21pc2MvTGFuZ3VhZ2VWaWV3TW9kZWxcIlxuaW1wb3J0IHsgbGFuZyB9IGZyb20gXCIuLi9taXNjL0xhbmd1YWdlVmlld01vZGVsXCJcbmltcG9ydCB7IEdyb3VwVHlwZSB9IGZyb20gXCIuLi9hcGkvY29tbW9uL1R1dGFub3RhQ29uc3RhbnRzXCJcbmltcG9ydCB7IGdldERlZmF1bHRHcm91cE5hbWUsIFNoYXJlYWJsZUdyb3VwVHlwZSB9IGZyb20gXCIuL0dyb3VwVXRpbHNcIlxuaW1wb3J0IHR5cGUgeyBSZWNlaXZlZEdyb3VwSW52aXRhdGlvbiB9IGZyb20gXCIuLi9hcGkvZW50aXRpZXMvc3lzL1R5cGVSZWZzLmpzXCJcbmltcG9ydCB0eXBlIHsgbGF6eSB9IGZyb20gXCJAdHV0YW8vdHV0YW5vdGEtdXRpbHNcIlxuXG5leHBvcnQgdHlwZSBHcm91cFNoYXJpbmdUZXh0cyA9IHtcblx0cmVhZG9ubHkgZ3JvdXBOYW1lTGFiZWw6IFRyYW5zbGF0aW9uS2V5XG5cdHJlYWRvbmx5IHBhcnRpY2lwYW50c0xhYmVsOiAoZ3JvdXBOYW1lOiBzdHJpbmcpID0+IHN0cmluZ1xuXHRyZWFkb25seSBhY2NlcHRFbWFpbFN1YmplY3Q6IHN0cmluZ1xuXHRyZWFkb25seSBhY2NlcHRFbWFpbEJvZHk6ICh1c2VyTmFtZTogc3RyaW5nLCBpbnZpdGVlOiBzdHJpbmcsIGdyb3VwTmFtZTogc3RyaW5nKSA9PiBzdHJpbmdcblx0cmVhZG9ubHkgZGVjbGluZUVtYWlsU3ViamVjdDogc3RyaW5nXG5cdHJlYWRvbmx5IGRlY2xpbmVFbWFpbEJvZHk6ICh1c2VyTmFtZTogc3RyaW5nLCBpbnZpdGVlOiBzdHJpbmcsIGdyb3VwTmFtZTogc3RyaW5nKSA9PiBzdHJpbmdcblx0cmVhZG9ubHkgc2hhcmVFbWFpbFN1YmplY3Q6IHN0cmluZ1xuXHRyZWFkb25seSBzaGFyZUVtYWlsQm9keTogKHNoYXJlcjogc3RyaW5nLCBncm91cE5hbWU6IHN0cmluZykgPT4gc3RyaW5nXG5cdHJlYWRvbmx5IGFkZE1lbWJlck1lc3NhZ2U6IChncm91cE5hbWU6IHN0cmluZykgPT4gc3RyaW5nXG5cdHJlYWRvbmx5IHJlbW92ZU1lbWJlck1lc3NhZ2U6IChncm91cE5hbWU6IHN0cmluZywgbWVtYmVyOiBzdHJpbmcpID0+IHN0cmluZ1xuXHRyZWFkb25seSBhbHJlYWR5R3JvdXBNZW1iZXJNZXNzYWdlOiBNYXliZVRyYW5zbGF0aW9uXG5cdHJlYWRvbmx5IHJlY2VpdmVkR3JvdXBJbnZpdGF0aW9uTWVzc2FnZTogc3RyaW5nXG5cdHJlYWRvbmx5IHNoYXJlZEdyb3VwRGVmYXVsdEN1c3RvbU5hbWU6IChpbnZpdGF0aW9uOiBSZWNlaXZlZEdyb3VwSW52aXRhdGlvbikgPT4gc3RyaW5nXG5cdHJlYWRvbmx5IHlvdXJDdXN0b21OYW1lTGFiZWw6IChncm91cE5hbWU6IHN0cmluZykgPT4gc3RyaW5nXG59XG5cbmNvbnN0IENBTEVOREFSX1NIQVJJTkdfVEVYVFM6IGxhenk8R3JvdXBTaGFyaW5nVGV4dHM+ID0gKCkgPT4gKHtcblx0Z3JvdXBOYW1lTGFiZWw6IFwiY2FsZW5kYXJOYW1lX2xhYmVsXCIsXG5cdHBhcnRpY2lwYW50c0xhYmVsOiAoZ3JvdXBOYW1lKSA9PlxuXHRcdGxhbmcuZ2V0KFwiY2FsZW5kYXJQYXJ0aWNpcGFudHNfbGFiZWxcIiwge1xuXHRcdFx0XCJ7bmFtZX1cIjogZ3JvdXBOYW1lLFxuXHRcdH0pLFxuXHRhY2NlcHRFbWFpbFN1YmplY3Q6IGxhbmcuZ2V0KFwic2hhcmVDYWxlbmRhckFjY2VwdEVtYWlsU3ViamVjdF9tc2dcIiksXG5cdGFjY2VwdEVtYWlsQm9keTogKHVzZXJOYW1lLCBpbnZpdGVlLCBncm91cE5hbWUpID0+XG5cdFx0bGFuZy5nZXQoXCJzaGFyZUNhbGVuZGFyQWNjZXB0RW1haWxCb2R5X21zZ1wiLCB7XG5cdFx0XHRcIntpbnZpdGVlfVwiOiBpbnZpdGVlLFxuXHRcdFx0XCJ7Y2FsZW5kYXJOYW1lfVwiOiBncm91cE5hbWUsXG5cdFx0XHRcIntyZWNpcGllbnROYW1lfVwiOiB1c2VyTmFtZSxcblx0XHR9KSxcblx0ZGVjbGluZUVtYWlsU3ViamVjdDogbGFuZy5nZXQoXCJzaGFyZUNhbGVuZGFyRGVjbGluZUVtYWlsU3ViamVjdF9tc2dcIiksXG5cdGRlY2xpbmVFbWFpbEJvZHk6ICh1c2VyTmFtZSwgaW52aXRlZSwgZ3JvdXBOYW1lKSA9PlxuXHRcdGxhbmcuZ2V0KFwic2hhcmVDYWxlbmRhckRlY2xpbmVFbWFpbEJvZHlfbXNnXCIsIHtcblx0XHRcdFwie2ludml0ZWV9XCI6IGludml0ZWUsXG5cdFx0XHRcIntjYWxlbmRhck5hbWV9XCI6IGdyb3VwTmFtZSxcblx0XHRcdFwie3JlY2lwaWVudE5hbWV9XCI6IHVzZXJOYW1lLFxuXHRcdH0pLFxuXHRzaGFyZUVtYWlsU3ViamVjdDogbGFuZy5nZXQoXCJzaGFyZUNhbGVuZGFySW52aXRhdGlvbkVtYWlsU3ViamVjdF9tc2dcIiksXG5cdHNoYXJlRW1haWxCb2R5OiAoc2VuZGVyLCBjYWxlbmRhck5hbWUpID0+XG5cdFx0bGFuZy5nZXQoXCJzaGFyZUNhbGVuZGFySW52aXRhdGlvbkVtYWlsQm9keV9tc2dcIiwge1xuXHRcdFx0Ly8gU2VuZGVyIGlzIGRpc3BsYXllZCBsaWtlIE5hbWUgPG1haWwuYWRkcmVzc0B0dXRhbm90YS5jb20+LiBMZXNzLXRoYW4gYW5kIGdyZWF0ZXItdGhhbiBtdXN0IGJlIGVuY29kZWQgZm9yIEhUTUxcblx0XHRcdFwie2ludml0ZXJ9XCI6IHNlbmRlcixcblx0XHRcdFwie2NhbGVuZGFyTmFtZX1cIjogY2FsZW5kYXJOYW1lLFxuXHRcdH0pLFxuXHRhZGRNZW1iZXJNZXNzYWdlOiAoXykgPT4gYCR7bGFuZy5nZXQoXCJzaGFyZUNhbGVuZGFyV2FybmluZ19tc2dcIil9ICR7bGFuZy5nZXQoXCJzaGFyZVdhcm5pbmdBbGlhc2VzX21zZ1wiKX1gLFxuXHRyZW1vdmVNZW1iZXJNZXNzYWdlOiAoY2FsZW5kYXJOYW1lLCBpbnZpdGVlKSA9PlxuXHRcdGxhbmcuZ2V0KFwicmVtb3ZlQ2FsZW5kYXJQYXJ0aWNpcGFudENvbmZpcm1fbXNnXCIsIHtcblx0XHRcdFwie3BhcnRpY2lwYW50fVwiOiBpbnZpdGVlLFxuXHRcdFx0XCJ7Y2FsZW5kYXJOYW1lfVwiOiBjYWxlbmRhck5hbWUsXG5cdFx0fSksXG5cdGFscmVhZHlHcm91cE1lbWJlck1lc3NhZ2U6IFwic2hhcmVkQ2FsZW5kYXJBbHJlYWR5TWVtYmVyX21zZ1wiLFxuXHRyZWNlaXZlZEdyb3VwSW52aXRhdGlvbk1lc3NhZ2U6IGAke2xhbmcuZ2V0KFwic2hhcmVDYWxlbmRhcldhcm5pbmdfbXNnXCIpfSAke2xhbmcuZ2V0KFwic2hhcmVXYXJuaW5nQWxpYXNlc19tc2dcIil9YCxcblx0c2hhcmVkR3JvdXBEZWZhdWx0Q3VzdG9tTmFtZTogKGdyb3VwT3duZXJOYW1lKSA9PiBnZXREZWZhdWx0R3JvdXBOYW1lKEdyb3VwVHlwZS5DYWxlbmRhciksXG5cdHlvdXJDdXN0b21OYW1lTGFiZWw6IChncm91cE5hbWUpID0+XG5cdFx0bGFuZy5nZXQoXCJjYWxlbmRhckN1c3RvbU5hbWVfbGFiZWxcIiwge1xuXHRcdFx0XCJ7Y3VzdG9tTmFtZX1cIjogZ3JvdXBOYW1lLFxuXHRcdH0pLFxufSlcblxuY29uc3QgVEVNUExBVEVfU0hBUklOR19URVhUUzogbGF6eTxHcm91cFNoYXJpbmdUZXh0cz4gPSAoKSA9PiAoe1xuXHRncm91cE5hbWVMYWJlbDogXCJ0ZW1wbGF0ZUdyb3VwTmFtZV9sYWJlbFwiLFxuXHRwYXJ0aWNpcGFudHNMYWJlbDogKGdyb3VwTmFtZSkgPT5cblx0XHRsYW5nLmdldChcInNoYXJlZEdyb3VwUGFydGljaXBhbnRzX2xhYmVsXCIsIHtcblx0XHRcdFwie2dyb3VwTmFtZX1cIjogZ3JvdXBOYW1lLFxuXHRcdH0pLFxuXHRhY2NlcHRFbWFpbFN1YmplY3Q6IGxhbmcuZ2V0KFwiYWNjZXB0VGVtcGxhdGVHcm91cEVtYWlsU3ViamVjdF9tc2dcIiksXG5cdGFjY2VwdEVtYWlsQm9keTogKHVzZXJOYW1lLCBpbnZpdGVlLCBncm91cE5hbWUpID0+XG5cdFx0YCR7bGFuZy5nZXQoXCJzaGFyZWRHcm91cEFjY2VwdEVtYWlsQm9keV9tc2dcIiwge1xuXHRcdFx0XCJ7cmVjaXBpZW50TmFtZX1cIjogdXNlck5hbWUsXG5cdFx0XHRcIntpbnZpdGVlfVwiOiBpbnZpdGVlLFxuXHRcdFx0XCJ7Z3JvdXBOYW1lfVwiOiBncm91cE5hbWUsXG5cdFx0fSl9ICR7bGFuZy5nZXQoXCJhdXRvbWF0ZWRNZXNzYWdlX21zZ1wiKX1gLFxuXHRkZWNsaW5lRW1haWxTdWJqZWN0OiBsYW5nLmdldChcImRlY2xpbmVUZW1wbGF0ZUdyb3VwRW1haWxTdWJqZWN0X21zZ1wiKSxcblx0ZGVjbGluZUVtYWlsQm9keTogKHVzZXJOYW1lLCBpbnZpdGVlLCBncm91cE5hbWUpID0+XG5cdFx0YCR7bGFuZy5nZXQoXCJzaGFyZWRHcm91cERlY2xpbmVFbWFpbEJvZHlfbXNnXCIsIHtcblx0XHRcdFwie3JlY2lwaWVudE5hbWV9XCI6IHVzZXJOYW1lLFxuXHRcdFx0XCJ7aW52aXRlZX1cIjogaW52aXRlZSxcblx0XHRcdFwie2dyb3VwTmFtZX1cIjogZ3JvdXBOYW1lLFxuXHRcdH0pfSAke2xhbmcuZ2V0KFwiYXV0b21hdGVkTWVzc2FnZV9tc2dcIil9YCxcblx0c2hhcmVFbWFpbFN1YmplY3Q6IGxhbmcuZ2V0KFwic2hhcmVUZW1wbGF0ZUdyb3VwRW1haWxTdWJqZWN0X21zZ1wiKSxcblx0c2hhcmVFbWFpbEJvZHk6IChzaGFyZXI6IHN0cmluZywgZ3JvdXBOYW1lOiBzdHJpbmcpID0+XG5cdFx0bGFuZy5nZXQoXCJzaGFyZVRlbXBsYXRlR3JvdXBFbWFpbEJvZHlfbXNnXCIsIHtcblx0XHRcdFwie2ludml0ZXJ9XCI6IHNoYXJlcixcblx0XHRcdFwie2dyb3VwTmFtZX1cIjogZ3JvdXBOYW1lLFxuXHRcdH0pLFxuXHRhZGRNZW1iZXJNZXNzYWdlOiAoZ3JvdXBOYW1lOiBzdHJpbmcpID0+IGAke2xhbmcuZ2V0KFwic2hhcmVHcm91cFdhcm5pbmdfbXNnXCIpfSAke2xhbmcuZ2V0KFwic2hhcmVXYXJuaW5nQWxpYXNlc19tc2dcIil9YCxcblx0cmVtb3ZlTWVtYmVyTWVzc2FnZTogKGdyb3VwTmFtZTogc3RyaW5nLCBtZW1iZXI6IHN0cmluZykgPT5cblx0XHRsYW5nLmdldChcInJlbW92ZVNoYXJlZE1lbWJlckNvbmZpcm1fbXNnXCIsIHtcblx0XHRcdFwie21lbWJlcn1cIjogbWVtYmVyLFxuXHRcdFx0XCJ7Z3JvdXBOYW1lfVwiOiBncm91cE5hbWUsXG5cdFx0fSksXG5cdGFscmVhZHlHcm91cE1lbWJlck1lc3NhZ2U6IFwiYWxyZWFkeVNoYXJlZEdyb3VwTWVtYmVyX21zZ1wiLFxuXHRyZWNlaXZlZEdyb3VwSW52aXRhdGlvbk1lc3NhZ2U6IGAke2xhbmcuZ2V0KFwic2hhcmVHcm91cFdhcm5pbmdfbXNnXCIpfSAke2xhbmcuZ2V0KFwic2hhcmVXYXJuaW5nQWxpYXNlc19tc2dcIil9YCxcblx0c2hhcmVkR3JvdXBEZWZhdWx0Q3VzdG9tTmFtZTogKGludml0YXRpb24pID0+XG5cdFx0bGFuZy5nZXQoXCJzaGFyZWRUZW1wbGF0ZUdyb3VwRGVmYXVsdE5hbWVfbGFiZWxcIiwge1xuXHRcdFx0XCJ7b3duZXJOYW1lfVwiOiBpbnZpdGF0aW9uLmludml0ZXJOYW1lIHx8IGludml0YXRpb24uaW52aXRlck1haWxBZGRyZXNzLFxuXHRcdH0pLFxuXHR5b3VyQ3VzdG9tTmFtZUxhYmVsOiAoZ3JvdXBOYW1lKSA9PlxuXHRcdGxhbmcuZ2V0KFwiY3VzdG9tTmFtZV9sYWJlbFwiLCB7XG5cdFx0XHRcIntjdXN0b21OYW1lfVwiOiBncm91cE5hbWUsXG5cdFx0fSksXG59KVxuXG5jb25zdCBDT05UQUNUX0xJU1RfU0hBUklOR19URVhUUzogbGF6eTxHcm91cFNoYXJpbmdUZXh0cz4gPSAoKSA9PiAoe1xuXHRncm91cE5hbWVMYWJlbDogXCJjb250YWN0TGlzdE5hbWVfbGFiZWxcIixcblx0cGFydGljaXBhbnRzTGFiZWw6IChncm91cE5hbWUpID0+XG5cdFx0bGFuZy5nZXQoXCJzaGFyZWRHcm91cFBhcnRpY2lwYW50c19sYWJlbFwiLCB7XG5cdFx0XHRcIntncm91cE5hbWV9XCI6IGdyb3VwTmFtZSxcblx0XHR9KSxcblx0YWNjZXB0RW1haWxTdWJqZWN0OiBsYW5nLmdldChcImFjY2VwdENvbnRhY3RMaXN0RW1haWxTdWJqZWN0X21zZ1wiKSxcblx0YWNjZXB0RW1haWxCb2R5OiAodXNlck5hbWUsIGludml0ZWUsIGdyb3VwTmFtZSkgPT5cblx0XHRgJHtsYW5nLmdldChcInNoYXJlZEdyb3VwQWNjZXB0RW1haWxCb2R5X21zZ1wiLCB7XG5cdFx0XHRcIntyZWNpcGllbnROYW1lfVwiOiB1c2VyTmFtZSxcblx0XHRcdFwie2ludml0ZWV9XCI6IGludml0ZWUsXG5cdFx0XHRcIntncm91cE5hbWV9XCI6IGdyb3VwTmFtZSxcblx0XHR9KX0gJHtsYW5nLmdldChcImF1dG9tYXRlZE1lc3NhZ2VfbXNnXCIpfWAsXG5cdGRlY2xpbmVFbWFpbFN1YmplY3Q6IGxhbmcuZ2V0KFwiZGVjbGluZUNvbnRhY3RMaXN0RW1haWxTdWJqZWN0X21zZ1wiKSxcblx0ZGVjbGluZUVtYWlsQm9keTogKHVzZXJOYW1lLCBpbnZpdGVlLCBncm91cE5hbWUpID0+XG5cdFx0YCR7bGFuZy5nZXQoXCJzaGFyZWRHcm91cERlY2xpbmVFbWFpbEJvZHlfbXNnXCIsIHtcblx0XHRcdFwie3JlY2lwaWVudE5hbWV9XCI6IHVzZXJOYW1lLFxuXHRcdFx0XCJ7aW52aXRlZX1cIjogaW52aXRlZSxcblx0XHRcdFwie2dyb3VwTmFtZX1cIjogZ3JvdXBOYW1lLFxuXHRcdH0pfSAke2xhbmcuZ2V0KFwiYXV0b21hdGVkTWVzc2FnZV9tc2dcIil9YCxcblx0c2hhcmVFbWFpbFN1YmplY3Q6IGxhbmcuZ2V0KFwic2hhcmVDb250YWN0TGlzdEVtYWlsU3ViamVjdF9tc2dcIiksXG5cdHNoYXJlRW1haWxCb2R5OiAoc2hhcmVyOiBzdHJpbmcsIGdyb3VwTmFtZTogc3RyaW5nKSA9PlxuXHRcdGAke2xhbmcuZ2V0KFwic2hhcmVDb250YWN0TGlzdEVtYWlsQm9keV9tc2dcIiwge1xuXHRcdFx0XCJ7aW52aXRlcn1cIjogc2hhcmVyLFxuXHRcdFx0XCJ7Z3JvdXBOYW1lfVwiOiBncm91cE5hbWUsXG5cdFx0fSl9ICR7bGFuZy5nZXQoXCJhdXRvbWF0ZWRNZXNzYWdlX21zZ1wiKX1gLFxuXHRhZGRNZW1iZXJNZXNzYWdlOiAoZ3JvdXBOYW1lOiBzdHJpbmcpID0+IGAke2xhbmcuZ2V0KFwic2hhcmVHcm91cFdhcm5pbmdfbXNnXCIpfSAke2xhbmcuZ2V0KFwic2hhcmVXYXJuaW5nQWxpYXNlc19tc2dcIil9YCxcblx0cmVtb3ZlTWVtYmVyTWVzc2FnZTogKGdyb3VwTmFtZTogc3RyaW5nLCBtZW1iZXI6IHN0cmluZykgPT5cblx0XHRsYW5nLmdldChcInJlbW92ZVNoYXJlZE1lbWJlckNvbmZpcm1fbXNnXCIsIHtcblx0XHRcdFwie21lbWJlcn1cIjogbWVtYmVyLFxuXHRcdFx0XCJ7Z3JvdXBOYW1lfVwiOiBncm91cE5hbWUsXG5cdFx0fSksXG5cdGFscmVhZHlHcm91cE1lbWJlck1lc3NhZ2U6IFwiYWxyZWFkeVNoYXJlZEdyb3VwTWVtYmVyX21zZ1wiLFxuXHRyZWNlaXZlZEdyb3VwSW52aXRhdGlvbk1lc3NhZ2U6IGAke2xhbmcuZ2V0KFwic2hhcmVHcm91cFdhcm5pbmdfbXNnXCIpfSAke2xhbmcuZ2V0KFwic2hhcmVXYXJuaW5nQWxpYXNlc19tc2dcIil9YCxcblx0c2hhcmVkR3JvdXBEZWZhdWx0Q3VzdG9tTmFtZTogKGludml0YXRpb24pID0+XG5cdFx0bGFuZy5nZXQoXCJzaGFyZWRDb250YWN0TGlzdERlZmF1bHROYW1lX2xhYmVsXCIsIHtcblx0XHRcdFwie293bmVyTmFtZX1cIjogaW52aXRhdGlvbi5pbnZpdGVyTmFtZSB8fCBpbnZpdGF0aW9uLmludml0ZXJNYWlsQWRkcmVzcyxcblx0XHR9KSxcblx0eW91ckN1c3RvbU5hbWVMYWJlbDogKGdyb3VwTmFtZSkgPT5cblx0XHRsYW5nLmdldChcImN1c3RvbU5hbWVfbGFiZWxcIiwge1xuXHRcdFx0XCJ7Y3VzdG9tTmFtZX1cIjogZ3JvdXBOYW1lLFxuXHRcdH0pLFxufSlcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRzRm9yR3JvdXBUeXBlKGdyb3VwVHlwZTogU2hhcmVhYmxlR3JvdXBUeXBlKTogR3JvdXBTaGFyaW5nVGV4dHMge1xuXHRzd2l0Y2ggKGdyb3VwVHlwZSkge1xuXHRcdGNhc2UgR3JvdXBUeXBlLkNhbGVuZGFyOlxuXHRcdFx0cmV0dXJuIENBTEVOREFSX1NIQVJJTkdfVEVYVFMoKVxuXG5cdFx0Y2FzZSBHcm91cFR5cGUuVGVtcGxhdGU6XG5cdFx0XHRyZXR1cm4gVEVNUExBVEVfU0hBUklOR19URVhUUygpXG5cblx0XHRjYXNlIEdyb3VwVHlwZS5Db250YWN0TGlzdDpcblx0XHRcdHJldHVybiBDT05UQUNUX0xJU1RfU0hBUklOR19URVhUUygpXG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFTTyxTQUFTLDJCQUEyQkEsaUJBQTRCQyxZQUFxQ0MsT0FBMEI7QUFDckksU0FBUSxhQUFhLHVCQUF1QixDQUFDLEtBQUssQ0FBQyxtQkFBbUI7RUFDckUsTUFBTSxvQkFBb0IsaUJBQWlCLFFBQVEsUUFBUSxlQUFlO0VBQzFFLE1BQU0sV0FBVyxxQkFBcUIsZ0JBQWdCLFFBQVEsT0FBTyxtQkFBbUIsQ0FBQztFQUV6RixNQUFNLE1BQU0sV0FBVyxJQUFJLENBQUMsRUFBRSxNQUFNLFNBQVMsTUFBTTtHQUNsRDtHQUNBO0VBQ0EsR0FBRTtFQUVILElBQUk7QUFFSixPQUFLLFNBQ0oscUJBQW9CO0lBR3BCLHNCQUFxQixFQUFFLFNBQVMsT0FBTyxrQkFBa0I7QUFHMUQseUJBQ0MsRUFDQyxJQUNBLEdBQ0QsTUFBTSxtQkFDTixNQUFNLGVBQWUsbUJBQW1CLG1CQUFtQixpQkFBaUIsUUFBUSxPQUFPLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxFQUN0SCxrQkFDQTtDQUNELEVBQUM7QUFDRjtBQUVNLFNBQVMsNEJBQTRCQyxZQUFxQ0QsT0FBMEI7Q0FDMUcsTUFBTSxLQUFLLENBQ1Y7RUFDQyxNQUFNLFdBQVc7RUFDakIsU0FBUyxXQUFXO0NBQ3BCLENBQ0Q7Q0FDRCxNQUFNLFdBQVcsV0FBVztDQUM1QixNQUFNLFVBQVUsV0FBVztDQUMzQixNQUFNLFlBQVksV0FBVyxtQkFBbUIsb0JBQW9CLHVCQUF1QixXQUFXLENBQUM7Q0FDdkcsTUFBTSxvQkFBb0IsV0FBVztBQUVyQyx3QkFDQyxFQUNDLEdBQ0EsR0FDRCxNQUFNLG9CQUNOLE1BQU0sZ0JBQWdCLFVBQVUsU0FBUyxVQUFVLEVBQ25ELGtCQUNBO0FBQ0Q7QUFFTSxTQUFTLDRCQUE0QkMsWUFBcUNELE9BQTBCO0NBQzFHLE1BQU0sS0FBSyxDQUNWO0VBQ0MsTUFBTSxXQUFXO0VBQ2pCLFNBQVMsV0FBVztDQUNwQixDQUNEO0NBQ0QsTUFBTSxXQUFXLFdBQVc7Q0FDNUIsTUFBTSxVQUFVLFdBQVc7Q0FDM0IsTUFBTSxZQUFZLFdBQVcsbUJBQW1CLG9CQUFvQix1QkFBdUIsV0FBVyxDQUFDO0NBQ3ZHLE1BQU0sb0JBQW9CLFdBQVc7QUFFckMsd0JBQ0MsRUFDQyxHQUNBLEdBQ0QsTUFBTSxxQkFDTixNQUFNLGlCQUFpQixVQUFVLFNBQVMsVUFBVSxFQUNwRCxrQkFDQTtBQUNEO0FBRUQsU0FBUyx1QkFBdUJFLFlBQXdCQyxTQUFpQkMsTUFBY0MsbUJBQTJCO0FBQ2pILFFBQU8sNkJBQXlCLEtBQUssQ0FBQyxFQUFFLGVBQWUsS0FBSztFQUMzRCxNQUFNLGdCQUFnQixjQUFjLGFBQWEsTUFBTTtHQUN0RCxzQkFBc0I7R0FDdEIsb0JBQW9CO0dBQ3BCLCtCQUErQjtFQUMvQixFQUFDLENBQUM7QUFDSCxVQUFRLGFBQWEsdUJBQXVCLENBQUMsS0FBSyxPQUFPLG1CQUFtQjtHQUMzRSxNQUFNLFNBQVMsZ0NBQWdDLGdCQUFnQixRQUFRLE9BQU8sbUJBQW1CLENBQUMsY0FBYyxDQUFDLFNBQVMsa0JBQWtCLEdBQ3pJLG9CQUNBLGlCQUFpQixRQUFRLFFBQVEsZUFBZTtHQUVuRCxNQUFNLFVBQVUsTUFBTSxRQUFRLFFBQVEsS0FBSztHQUUzQyxNQUFNLE9BQU87R0FDYixNQUFNLG9CQUFvQixNQUFNLFFBQVEsYUFBYSxxQkFBcUIsZUFBZSxpQkFBaUI7R0FDMUcsTUFBTSxRQUFRLE1BQU0sUUFBUSxjQUFjLGdCQUFnQixrQkFBa0I7QUFDNUUsU0FBTSxNQUFNLGlCQUFpQixZQUFZLFNBQVMsZUFBZSxDQUFFLEdBQUUsTUFBTSxPQUFPO0FBQ2xGLFNBQU0sTUFBTSxLQUFLLFdBQVcsTUFBTSxTQUFTLE1BQU0sdUJBQXVCO0VBQ3hFLEVBQUM7Q0FDRixFQUFDO0FBQ0Y7Ozs7QUNoRkQsTUFBTUMseUJBQWtELE9BQU87Q0FDOUQsZ0JBQWdCO0NBQ2hCLG1CQUFtQixDQUFDLGNBQ25CLEtBQUssSUFBSSw4QkFBOEIsRUFDdEMsVUFBVSxVQUNWLEVBQUM7Q0FDSCxvQkFBb0IsS0FBSyxJQUFJLHNDQUFzQztDQUNuRSxpQkFBaUIsQ0FBQyxVQUFVLFNBQVMsY0FDcEMsS0FBSyxJQUFJLG9DQUFvQztFQUM1QyxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLG1CQUFtQjtDQUNuQixFQUFDO0NBQ0gscUJBQXFCLEtBQUssSUFBSSx1Q0FBdUM7Q0FDckUsa0JBQWtCLENBQUMsVUFBVSxTQUFTLGNBQ3JDLEtBQUssSUFBSSxxQ0FBcUM7RUFDN0MsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixtQkFBbUI7Q0FDbkIsRUFBQztDQUNILG1CQUFtQixLQUFLLElBQUksMENBQTBDO0NBQ3RFLGdCQUFnQixDQUFDLFFBQVEsaUJBQ3hCLEtBQUssSUFBSSx3Q0FBd0M7RUFFaEQsYUFBYTtFQUNiLGtCQUFrQjtDQUNsQixFQUFDO0NBQ0gsa0JBQWtCLENBQUMsT0FBTyxFQUFFLEtBQUssSUFBSSwyQkFBMkIsQ0FBQyxHQUFHLEtBQUssSUFBSSwwQkFBMEIsQ0FBQztDQUN4RyxxQkFBcUIsQ0FBQyxjQUFjLFlBQ25DLEtBQUssSUFBSSx3Q0FBd0M7RUFDaEQsaUJBQWlCO0VBQ2pCLGtCQUFrQjtDQUNsQixFQUFDO0NBQ0gsMkJBQTJCO0NBQzNCLGlDQUFpQyxFQUFFLEtBQUssSUFBSSwyQkFBMkIsQ0FBQyxHQUFHLEtBQUssSUFBSSwwQkFBMEIsQ0FBQztDQUMvRyw4QkFBOEIsQ0FBQyxtQkFBbUIsb0JBQW9CLFVBQVUsU0FBUztDQUN6RixxQkFBcUIsQ0FBQyxjQUNyQixLQUFLLElBQUksNEJBQTRCLEVBQ3BDLGdCQUFnQixVQUNoQixFQUFDO0FBQ0g7QUFFRCxNQUFNQyx5QkFBa0QsT0FBTztDQUM5RCxnQkFBZ0I7Q0FDaEIsbUJBQW1CLENBQUMsY0FDbkIsS0FBSyxJQUFJLGlDQUFpQyxFQUN6QyxlQUFlLFVBQ2YsRUFBQztDQUNILG9CQUFvQixLQUFLLElBQUksc0NBQXNDO0NBQ25FLGlCQUFpQixDQUFDLFVBQVUsU0FBUyxlQUNuQyxFQUFFLEtBQUssSUFBSSxrQ0FBa0M7RUFDN0MsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixlQUFlO0NBQ2YsRUFBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLHVCQUF1QixDQUFDO0NBQ3hDLHFCQUFxQixLQUFLLElBQUksdUNBQXVDO0NBQ3JFLGtCQUFrQixDQUFDLFVBQVUsU0FBUyxlQUNwQyxFQUFFLEtBQUssSUFBSSxtQ0FBbUM7RUFDOUMsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixlQUFlO0NBQ2YsRUFBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLHVCQUF1QixDQUFDO0NBQ3hDLG1CQUFtQixLQUFLLElBQUkscUNBQXFDO0NBQ2pFLGdCQUFnQixDQUFDQyxRQUFnQkMsY0FDaEMsS0FBSyxJQUFJLG1DQUFtQztFQUMzQyxhQUFhO0VBQ2IsZUFBZTtDQUNmLEVBQUM7Q0FDSCxrQkFBa0IsQ0FBQ0EsZUFBdUIsRUFBRSxLQUFLLElBQUksd0JBQXdCLENBQUMsR0FBRyxLQUFLLElBQUksMEJBQTBCLENBQUM7Q0FDckgscUJBQXFCLENBQUNBLFdBQW1CQyxXQUN4QyxLQUFLLElBQUksaUNBQWlDO0VBQ3pDLFlBQVk7RUFDWixlQUFlO0NBQ2YsRUFBQztDQUNILDJCQUEyQjtDQUMzQixpQ0FBaUMsRUFBRSxLQUFLLElBQUksd0JBQXdCLENBQUMsR0FBRyxLQUFLLElBQUksMEJBQTBCLENBQUM7Q0FDNUcsOEJBQThCLENBQUMsZUFDOUIsS0FBSyxJQUFJLHdDQUF3QyxFQUNoRCxlQUFlLFdBQVcsZUFBZSxXQUFXLG1CQUNwRCxFQUFDO0NBQ0gscUJBQXFCLENBQUMsY0FDckIsS0FBSyxJQUFJLG9CQUFvQixFQUM1QixnQkFBZ0IsVUFDaEIsRUFBQztBQUNIO0FBRUQsTUFBTUMsNkJBQXNELE9BQU87Q0FDbEUsZ0JBQWdCO0NBQ2hCLG1CQUFtQixDQUFDLGNBQ25CLEtBQUssSUFBSSxpQ0FBaUMsRUFDekMsZUFBZSxVQUNmLEVBQUM7Q0FDSCxvQkFBb0IsS0FBSyxJQUFJLG9DQUFvQztDQUNqRSxpQkFBaUIsQ0FBQyxVQUFVLFNBQVMsZUFDbkMsRUFBRSxLQUFLLElBQUksa0NBQWtDO0VBQzdDLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsZUFBZTtDQUNmLEVBQUMsQ0FBQyxHQUFHLEtBQUssSUFBSSx1QkFBdUIsQ0FBQztDQUN4QyxxQkFBcUIsS0FBSyxJQUFJLHFDQUFxQztDQUNuRSxrQkFBa0IsQ0FBQyxVQUFVLFNBQVMsZUFDcEMsRUFBRSxLQUFLLElBQUksbUNBQW1DO0VBQzlDLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsZUFBZTtDQUNmLEVBQUMsQ0FBQyxHQUFHLEtBQUssSUFBSSx1QkFBdUIsQ0FBQztDQUN4QyxtQkFBbUIsS0FBSyxJQUFJLG1DQUFtQztDQUMvRCxnQkFBZ0IsQ0FBQ0gsUUFBZ0JDLGVBQy9CLEVBQUUsS0FBSyxJQUFJLGlDQUFpQztFQUM1QyxhQUFhO0VBQ2IsZUFBZTtDQUNmLEVBQUMsQ0FBQyxHQUFHLEtBQUssSUFBSSx1QkFBdUIsQ0FBQztDQUN4QyxrQkFBa0IsQ0FBQ0EsZUFBdUIsRUFBRSxLQUFLLElBQUksd0JBQXdCLENBQUMsR0FBRyxLQUFLLElBQUksMEJBQTBCLENBQUM7Q0FDckgscUJBQXFCLENBQUNBLFdBQW1CQyxXQUN4QyxLQUFLLElBQUksaUNBQWlDO0VBQ3pDLFlBQVk7RUFDWixlQUFlO0NBQ2YsRUFBQztDQUNILDJCQUEyQjtDQUMzQixpQ0FBaUMsRUFBRSxLQUFLLElBQUksd0JBQXdCLENBQUMsR0FBRyxLQUFLLElBQUksMEJBQTBCLENBQUM7Q0FDNUcsOEJBQThCLENBQUMsZUFDOUIsS0FBSyxJQUFJLHNDQUFzQyxFQUM5QyxlQUFlLFdBQVcsZUFBZSxXQUFXLG1CQUNwRCxFQUFDO0NBQ0gscUJBQXFCLENBQUMsY0FDckIsS0FBSyxJQUFJLG9CQUFvQixFQUM1QixnQkFBZ0IsVUFDaEIsRUFBQztBQUNIO0FBRU0sU0FBUyxxQkFBcUJFLFdBQWtEO0FBQ3RGLFNBQVEsV0FBUjtBQUNDLE9BQUssVUFBVSxTQUNkLFFBQU8sd0JBQXdCO0FBRWhDLE9BQUssVUFBVSxTQUNkLFFBQU8sd0JBQXdCO0FBRWhDLE9BQUssVUFBVSxZQUNkLFFBQU8sNEJBQTRCO0NBQ3BDO0FBQ0QifQ==