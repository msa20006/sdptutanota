import { AccountType, TUTA_MAIL_ADDRESS_SIGNUP_DOMAINS } from "./TutanotaConstants-chunk.js";
import { getCustomMailDomains } from "./CustomerUtils-chunk.js";

//#region src/common/settings/mailaddress/MailAddressesUtils.ts
async function getAvailableDomains(logins, onlyCustomDomains) {
	const customerInfo = await logins.getUserController().loadCustomerInfo();
	let availableDomains = getCustomMailDomains(customerInfo).map((info) => info.domain);
	if (!onlyCustomDomains && logins.getUserController().user.accountType !== AccountType.STARTER && (availableDomains.length === 0 || logins.getUserController().isGlobalAdmin())) availableDomains.push(...TUTA_MAIL_ADDRESS_SIGNUP_DOMAINS);
	return availableDomains.map((domain) => ({
		domain,
		isPaid: isPaidPlanDomain(domain)
	}));
}
function isPaidPlanDomain(domain) {
	return domain === "tuta.com";
}

//#endregion
export { getAvailableDomains, isPaidPlanDomain };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFpbEFkZHJlc3Nlc1V0aWxzLWNodW5rLmpzIiwibmFtZXMiOlsibG9naW5zOiBMb2dpbkNvbnRyb2xsZXIiLCJvbmx5Q3VzdG9tRG9tYWlucz86IGJvb2xlYW4iLCJkb21haW46IHN0cmluZyJdLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tb24vc2V0dGluZ3MvbWFpbGFkZHJlc3MvTWFpbEFkZHJlc3Nlc1V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjY291bnRUeXBlLCBUVVRBX01BSUxfQUREUkVTU19TSUdOVVBfRE9NQUlOUyB9IGZyb20gXCIuLi8uLi9hcGkvY29tbW9uL1R1dGFub3RhQ29uc3RhbnRzLmpzXCJcbmltcG9ydCB7IExvZ2luQ29udHJvbGxlciB9IGZyb20gXCIuLi8uLi9hcGkvbWFpbi9Mb2dpbkNvbnRyb2xsZXIuanNcIlxuaW1wb3J0IHsgZ2V0Q3VzdG9tTWFpbERvbWFpbnMgfSBmcm9tIFwiLi4vLi4vYXBpL2NvbW1vbi91dGlscy9DdXN0b21lclV0aWxzLmpzXCJcblxuZXhwb3J0IGludGVyZmFjZSBFbWFpbERvbWFpbkRhdGEge1xuXHRkb21haW46IHN0cmluZ1xuXHRpc1BhaWQ6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF2YWlsYWJsZURvbWFpbnMobG9naW5zOiBMb2dpbkNvbnRyb2xsZXIsIG9ubHlDdXN0b21Eb21haW5zPzogYm9vbGVhbik6IFByb21pc2U8RW1haWxEb21haW5EYXRhW10+IHtcblx0Y29uc3QgY3VzdG9tZXJJbmZvID0gYXdhaXQgbG9naW5zLmdldFVzZXJDb250cm9sbGVyKCkubG9hZEN1c3RvbWVySW5mbygpXG5cdGxldCBhdmFpbGFibGVEb21haW5zID0gZ2V0Q3VzdG9tTWFpbERvbWFpbnMoY3VzdG9tZXJJbmZvKS5tYXAoKGluZm8pID0+IGluZm8uZG9tYWluKVxuXG5cdGlmIChcblx0XHQhb25seUN1c3RvbURvbWFpbnMgJiZcblx0XHRsb2dpbnMuZ2V0VXNlckNvbnRyb2xsZXIoKS51c2VyLmFjY291bnRUeXBlICE9PSBBY2NvdW50VHlwZS5TVEFSVEVSICYmXG5cdFx0KGF2YWlsYWJsZURvbWFpbnMubGVuZ3RoID09PSAwIHx8IGxvZ2lucy5nZXRVc2VyQ29udHJvbGxlcigpLmlzR2xvYmFsQWRtaW4oKSlcblx0KSB7XG5cdFx0YXZhaWxhYmxlRG9tYWlucy5wdXNoKC4uLlRVVEFfTUFJTF9BRERSRVNTX1NJR05VUF9ET01BSU5TKVxuXHR9XG5cblx0cmV0dXJuIGF2YWlsYWJsZURvbWFpbnMubWFwKChkb21haW4pID0+ICh7IGRvbWFpbiwgaXNQYWlkOiBpc1BhaWRQbGFuRG9tYWluKGRvbWFpbikgfSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BhaWRQbGFuRG9tYWluKGRvbWFpbjogc3RyaW5nKTogYm9vbGVhbiB7XG5cdHJldHVybiBkb21haW4gPT09IFwidHV0YS5jb21cIlxufVxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBU08sZUFBZSxvQkFBb0JBLFFBQXlCQyxtQkFBeUQ7Q0FDM0gsTUFBTSxlQUFlLE1BQU0sT0FBTyxtQkFBbUIsQ0FBQyxrQkFBa0I7Q0FDeEUsSUFBSSxtQkFBbUIscUJBQXFCLGFBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLE9BQU87QUFFcEYsTUFDRSxxQkFDRCxPQUFPLG1CQUFtQixDQUFDLEtBQUssZ0JBQWdCLFlBQVksWUFDM0QsaUJBQWlCLFdBQVcsS0FBSyxPQUFPLG1CQUFtQixDQUFDLGVBQWUsRUFFNUUsa0JBQWlCLEtBQUssR0FBRyxpQ0FBaUM7QUFHM0QsUUFBTyxpQkFBaUIsSUFBSSxDQUFDLFlBQVk7RUFBRTtFQUFRLFFBQVEsaUJBQWlCLE9BQU87Q0FBRSxHQUFFO0FBQ3ZGO0FBRU0sU0FBUyxpQkFBaUJDLFFBQXlCO0FBQ3pELFFBQU8sV0FBVztBQUNsQiJ9