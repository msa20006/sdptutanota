import { isAdminClient, isBrowser } from "./Env-chunk.js";
import { CredentialType } from "./CredentialType-chunk.js";

//#region src/common/misc/credentials/CredentialsProvider.ts
var CredentialsProvider = class {
	constructor(credentialsFacade, sqliteCipherFacade, interWindowEventSender) {
		this.credentialsFacade = credentialsFacade;
		this.sqliteCipherFacade = sqliteCipherFacade;
		this.interWindowEventSender = interWindowEventSender;
	}
	/**
	* Stores credentials. If credentials already exist for login, they will be overwritten.
	*/
	async store(credentials) {
		return this.credentialsFacade.store(credentials);
	}
	/**
	* Change the encrypted password for the stored credentials.
	*/
	async replacePassword(credentials, encryptedPassword, encryptedPassphraseKey) {
		const encryptedCredentials = await this.getCredentialsByUserId(credentials.userId);
		if (encryptedCredentials == null) throw new Error(`Trying to replace password for credentials but credentials are not persisted: ${credentials.userId}`);
		const newEncryptedCredentials = {
			...encryptedCredentials,
			encryptedPassword,
			encryptedPassphraseKey
		};
		await this.credentialsFacade.storeEncrypted(newEncryptedCredentials);
	}
	async getCredentialsInfoByUserId(userId) {
		return (await this.getCredentialsByUserId(userId))?.credentialInfo ?? null;
	}
	async getAllInternalCredentials() {
		return this.credentialsFacade.loadAll();
	}
	async getCredentialsByUserId(userId) {
		const allCredentials = await this.credentialsFacade.loadAll();
		return allCredentials.find((credential) => credential.credentialInfo.userId === userId) ?? null;
	}
	/**
	* Returns the full credentials for the userId passed in.
	* @param userId
	*/
	async getDecryptedCredentialsByUserId(userId) {
		return this.credentialsFacade.loadByUserId(userId);
	}
	/**
	* Returns the stored credentials infos of all internal users, i.e. users that have a "real" tutanota account and not the ones that
	* have a secure external mailbox. The returned array will be sorted by login.
	*/
	async getInternalCredentialsInfos() {
		const allCredentials = await this.credentialsFacade.loadAll();
		return allCredentials.filter((credential) => credential.credentialInfo.type === CredentialType.Internal).map((credential) => credential.credentialInfo).sort((a, b) => a.login.localeCompare(b.login));
	}
	/**
	* Deletes stored credentials with specified userId.
	* No-op if credentials are not there.
	* @param opts.deleteOfflineDb whether to delete offline database. Will delete by default.
	*/
	async deleteByUserId(userId, opts = { deleteOfflineDb: true }) {
		await this.interWindowEventSender?.localUserDataInvalidated(userId);
		if (opts.deleteOfflineDb) await this.sqliteCipherFacade?.deleteDb(userId);
		await this.credentialsFacade.deleteByUserId(userId);
	}
	/**
	* Sets the credentials encryption mode, i.e. how the intermediate key used for encrypting credentials is protected.
	* @param encryptionMode
	* @throws KeyPermanentlyInvalidatedError
	* @throws CredentialAuthenticationError
	*/
	async setCredentialEncryptionMode(encryptionMode) {
		await this.credentialsFacade.setCredentialEncryptionMode(encryptionMode);
		this.interWindowEventSender?.reloadDeviceConfig();
	}
	/**
	* Returns the credentials encryption mode, i.e. how the intermediate key used for encrypting credentials is protected.
	*/
	getCredentialEncryptionMode() {
		return this.credentialsFacade.getCredentialEncryptionMode();
	}
	/**
	* Returns all credentials encryption modes that are supported by the device.
	*/
	async getSupportedEncryptionModes() {
		return await this.credentialsFacade.getSupportedEncryptionModes();
	}
	/**
	* Removes all stored credentials as well as any settings associated with credentials encryption.
	*/
	async clearCredentials(reason) {
		console.warn("clearing all stored credentials:", reason);
		await this.credentialsFacade.clear();
	}
};
function usingKeychainAuthenticationWithOptions() {
	return !isBrowser() && !isAdminClient();
}

//#endregion
export { CredentialsProvider, usingKeychainAuthenticationWithOptions };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ3JlZGVudGlhbHNQcm92aWRlci1jaHVuay5qcyIsIm5hbWVzIjpbImNyZWRlbnRpYWxzRmFjYWRlOiBOYXRpdmVDcmVkZW50aWFsc0ZhY2FkZSIsInNxbGl0ZUNpcGhlckZhY2FkZTogU3FsQ2lwaGVyRmFjYWRlIHwgbnVsbCIsImludGVyV2luZG93RXZlbnRTZW5kZXI6IEludGVyV2luZG93RXZlbnRGYWNhZGVTZW5kRGlzcGF0Y2hlciB8IG51bGwiLCJjcmVkZW50aWFsczogVW5lbmNyeXB0ZWRDcmVkZW50aWFscyIsImNyZWRlbnRpYWxzOiBDcmVkZW50aWFsc0luZm8iLCJlbmNyeXB0ZWRQYXNzd29yZDogc3RyaW5nIiwiZW5jcnlwdGVkUGFzc3BocmFzZUtleTogVWludDhBcnJheSIsIm5ld0VuY3J5cHRlZENyZWRlbnRpYWxzOiBQZXJzaXN0ZWRDcmVkZW50aWFscyIsInVzZXJJZDogSWQiLCJvcHRzOiB7IGRlbGV0ZU9mZmxpbmVEYjogYm9vbGVhbiB9IiwiZW5jcnlwdGlvbk1vZGU6IENyZWRlbnRpYWxFbmNyeXB0aW9uTW9kZSIsInJlYXNvbjogRXJyb3IgfCBzdHJpbmciXSwic291cmNlcyI6WyIuLi9zcmMvY29tbW9uL21pc2MvY3JlZGVudGlhbHMvQ3JlZGVudGlhbHNQcm92aWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENyZWRlbnRpYWxFbmNyeXB0aW9uTW9kZSB9IGZyb20gXCIuL0NyZWRlbnRpYWxFbmNyeXB0aW9uTW9kZS5qc1wiXG5pbXBvcnQgeyBJbnRlcldpbmRvd0V2ZW50RmFjYWRlU2VuZERpc3BhdGNoZXIgfSBmcm9tIFwiLi4vLi4vbmF0aXZlL2NvbW1vbi9nZW5lcmF0ZWRpcGMvSW50ZXJXaW5kb3dFdmVudEZhY2FkZVNlbmREaXNwYXRjaGVyLmpzXCJcbmltcG9ydCB7IFNxbENpcGhlckZhY2FkZSB9IGZyb20gXCIuLi8uLi9uYXRpdmUvY29tbW9uL2dlbmVyYXRlZGlwYy9TcWxDaXBoZXJGYWNhZGUuanNcIlxuaW1wb3J0IHsgQ3JlZGVudGlhbHNJbmZvIH0gZnJvbSBcIi4uLy4uL25hdGl2ZS9jb21tb24vZ2VuZXJhdGVkaXBjL0NyZWRlbnRpYWxzSW5mby5qc1wiXG5pbXBvcnQgeyBDcmVkZW50aWFsVHlwZSB9IGZyb20gXCIuL0NyZWRlbnRpYWxUeXBlLmpzXCJcbmltcG9ydCB7IFBlcnNpc3RlZENyZWRlbnRpYWxzIH0gZnJvbSBcIi4uLy4uL25hdGl2ZS9jb21tb24vZ2VuZXJhdGVkaXBjL1BlcnNpc3RlZENyZWRlbnRpYWxzLmpzXCJcbmltcG9ydCB7IE5hdGl2ZUNyZWRlbnRpYWxzRmFjYWRlIH0gZnJvbSBcIi4uLy4uL25hdGl2ZS9jb21tb24vZ2VuZXJhdGVkaXBjL05hdGl2ZUNyZWRlbnRpYWxzRmFjYWRlXCJcbmltcG9ydCB7IFVuZW5jcnlwdGVkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi4vLi4vbmF0aXZlL2NvbW1vbi9nZW5lcmF0ZWRpcGMvVW5lbmNyeXB0ZWRDcmVkZW50aWFscy5qc1wiXG5pbXBvcnQgeyBpc0FkbWluQ2xpZW50LCBpc0Jyb3dzZXIgfSBmcm9tIFwiLi4vLi4vYXBpL2NvbW1vbi9FbnYuanNcIlxuXG4vKipcbiAqIE1haW4gZW50cnkgcG9pbnQgdG8gaW50ZXJhY3Qgd2l0aCBjcmVkZW50aWFscywgaS5lLiBzdG9yaW5nIGFuZCByZXRyaWV2aW5nIGNyZWRlbnRpYWxzIGZyb20vdG8gcGVyc2lzdGVuY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBDcmVkZW50aWFsc1Byb3ZpZGVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBjcmVkZW50aWFsc0ZhY2FkZTogTmF0aXZlQ3JlZGVudGlhbHNGYWNhZGUsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBzcWxpdGVDaXBoZXJGYWNhZGU6IFNxbENpcGhlckZhY2FkZSB8IG51bGwsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBpbnRlcldpbmRvd0V2ZW50U2VuZGVyOiBJbnRlcldpbmRvd0V2ZW50RmFjYWRlU2VuZERpc3BhdGNoZXIgfCBudWxsLFxuXHQpIHt9XG5cblx0LyoqXG5cdCAqIFN0b3JlcyBjcmVkZW50aWFscy4gSWYgY3JlZGVudGlhbHMgYWxyZWFkeSBleGlzdCBmb3IgbG9naW4sIHRoZXkgd2lsbCBiZSBvdmVyd3JpdHRlbi5cblx0ICovXG5cdGFzeW5jIHN0b3JlKGNyZWRlbnRpYWxzOiBVbmVuY3J5cHRlZENyZWRlbnRpYWxzKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlZGVudGlhbHNGYWNhZGUuc3RvcmUoY3JlZGVudGlhbHMpXG5cdH1cblxuXHQvKipcblx0ICogQ2hhbmdlIHRoZSBlbmNyeXB0ZWQgcGFzc3dvcmQgZm9yIHRoZSBzdG9yZWQgY3JlZGVudGlhbHMuXG5cdCAqL1xuXHRhc3luYyByZXBsYWNlUGFzc3dvcmQoY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzSW5mbywgZW5jcnlwdGVkUGFzc3dvcmQ6IHN0cmluZywgZW5jcnlwdGVkUGFzc3BocmFzZUtleTogVWludDhBcnJheSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGVuY3J5cHRlZENyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5nZXRDcmVkZW50aWFsc0J5VXNlcklkKGNyZWRlbnRpYWxzLnVzZXJJZClcblx0XHRpZiAoZW5jcnlwdGVkQ3JlZGVudGlhbHMgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBUcnlpbmcgdG8gcmVwbGFjZSBwYXNzd29yZCBmb3IgY3JlZGVudGlhbHMgYnV0IGNyZWRlbnRpYWxzIGFyZSBub3QgcGVyc2lzdGVkOiAke2NyZWRlbnRpYWxzLnVzZXJJZH1gKVxuXHRcdH1cblx0XHQvLyBFbmNyeXB0ZWQgcGFzc3dvcmQgaXMgZW5jcnlwdGVkIHdpdGggdGhlIHNlc3Npb24ga2V5IGFuZCBpcyB0aGUgc2FtZSBmb3IgZW5jcnlwdGVkIGFuZCBkZWNyeXB0ZWQgY3JlZGVudGlhbHMsIG5vIGFkZGl0aW9uYWwgbG9naWMgaXMgbmVlZGVkLlxuXHRcdGNvbnN0IG5ld0VuY3J5cHRlZENyZWRlbnRpYWxzOiBQZXJzaXN0ZWRDcmVkZW50aWFscyA9IHtcblx0XHRcdC4uLmVuY3J5cHRlZENyZWRlbnRpYWxzLFxuXHRcdFx0ZW5jcnlwdGVkUGFzc3dvcmQsXG5cdFx0XHRlbmNyeXB0ZWRQYXNzcGhyYXNlS2V5LFxuXHRcdH1cblx0XHRhd2FpdCB0aGlzLmNyZWRlbnRpYWxzRmFjYWRlLnN0b3JlRW5jcnlwdGVkKG5ld0VuY3J5cHRlZENyZWRlbnRpYWxzKVxuXHR9XG5cblx0YXN5bmMgZ2V0Q3JlZGVudGlhbHNJbmZvQnlVc2VySWQodXNlcklkOiBJZCk6IFByb21pc2U8Q3JlZGVudGlhbHNJbmZvIHwgbnVsbD4ge1xuXHRcdHJldHVybiAoYXdhaXQgdGhpcy5nZXRDcmVkZW50aWFsc0J5VXNlcklkKHVzZXJJZCkpPy5jcmVkZW50aWFsSW5mbyA/PyBudWxsXG5cdH1cblxuXHRhc3luYyBnZXRBbGxJbnRlcm5hbENyZWRlbnRpYWxzKCk6IFByb21pc2U8cmVhZG9ubHkgUGVyc2lzdGVkQ3JlZGVudGlhbHNbXT4ge1xuXHRcdHJldHVybiB0aGlzLmNyZWRlbnRpYWxzRmFjYWRlLmxvYWRBbGwoKVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBnZXRDcmVkZW50aWFsc0J5VXNlcklkKHVzZXJJZDogSWQpOiBQcm9taXNlPFBlcnNpc3RlZENyZWRlbnRpYWxzIHwgbnVsbD4ge1xuXHRcdGNvbnN0IGFsbENyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsc0ZhY2FkZS5sb2FkQWxsKClcblx0XHRyZXR1cm4gYWxsQ3JlZGVudGlhbHMuZmluZCgoY3JlZGVudGlhbCkgPT4gY3JlZGVudGlhbC5jcmVkZW50aWFsSW5mby51c2VySWQgPT09IHVzZXJJZCkgPz8gbnVsbFxuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGZ1bGwgY3JlZGVudGlhbHMgZm9yIHRoZSB1c2VySWQgcGFzc2VkIGluLlxuXHQgKiBAcGFyYW0gdXNlcklkXG5cdCAqL1xuXHRhc3luYyBnZXREZWNyeXB0ZWRDcmVkZW50aWFsc0J5VXNlcklkKHVzZXJJZDogSWQpOiBQcm9taXNlPFVuZW5jcnlwdGVkQ3JlZGVudGlhbHMgfCBudWxsPiB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlZGVudGlhbHNGYWNhZGUubG9hZEJ5VXNlcklkKHVzZXJJZClcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBzdG9yZWQgY3JlZGVudGlhbHMgaW5mb3Mgb2YgYWxsIGludGVybmFsIHVzZXJzLCBpLmUuIHVzZXJzIHRoYXQgaGF2ZSBhIFwicmVhbFwiIHR1dGFub3RhIGFjY291bnQgYW5kIG5vdCB0aGUgb25lcyB0aGF0XG5cdCAqIGhhdmUgYSBzZWN1cmUgZXh0ZXJuYWwgbWFpbGJveC4gVGhlIHJldHVybmVkIGFycmF5IHdpbGwgYmUgc29ydGVkIGJ5IGxvZ2luLlxuXHQgKi9cblx0YXN5bmMgZ2V0SW50ZXJuYWxDcmVkZW50aWFsc0luZm9zKCk6IFByb21pc2U8UmVhZG9ubHlBcnJheTxDcmVkZW50aWFsc0luZm8+PiB7XG5cdFx0Y29uc3QgYWxsQ3JlZGVudGlhbHMgPSBhd2FpdCB0aGlzLmNyZWRlbnRpYWxzRmFjYWRlLmxvYWRBbGwoKVxuXHRcdHJldHVybiBhbGxDcmVkZW50aWFsc1xuXHRcdFx0LmZpbHRlcigoY3JlZGVudGlhbCkgPT4gY3JlZGVudGlhbC5jcmVkZW50aWFsSW5mby50eXBlID09PSBDcmVkZW50aWFsVHlwZS5JbnRlcm5hbClcblx0XHRcdC5tYXAoKGNyZWRlbnRpYWwpID0+IGNyZWRlbnRpYWwuY3JlZGVudGlhbEluZm8pXG5cdFx0XHQuc29ydCgoYSwgYikgPT4gYS5sb2dpbi5sb2NhbGVDb21wYXJlKGIubG9naW4pKVxuXHR9XG5cblx0LyoqXG5cdCAqIERlbGV0ZXMgc3RvcmVkIGNyZWRlbnRpYWxzIHdpdGggc3BlY2lmaWVkIHVzZXJJZC5cblx0ICogTm8tb3AgaWYgY3JlZGVudGlhbHMgYXJlIG5vdCB0aGVyZS5cblx0ICogQHBhcmFtIG9wdHMuZGVsZXRlT2ZmbGluZURiIHdoZXRoZXIgdG8gZGVsZXRlIG9mZmxpbmUgZGF0YWJhc2UuIFdpbGwgZGVsZXRlIGJ5IGRlZmF1bHQuXG5cdCAqL1xuXHRhc3luYyBkZWxldGVCeVVzZXJJZCh1c2VySWQ6IElkLCBvcHRzOiB7IGRlbGV0ZU9mZmxpbmVEYjogYm9vbGVhbiB9ID0geyBkZWxldGVPZmZsaW5lRGI6IHRydWUgfSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMuaW50ZXJXaW5kb3dFdmVudFNlbmRlcj8ubG9jYWxVc2VyRGF0YUludmFsaWRhdGVkKHVzZXJJZClcblx0XHRpZiAob3B0cy5kZWxldGVPZmZsaW5lRGIpIHtcblx0XHRcdGF3YWl0IHRoaXMuc3FsaXRlQ2lwaGVyRmFjYWRlPy5kZWxldGVEYih1c2VySWQpXG5cdFx0fVxuXHRcdGF3YWl0IHRoaXMuY3JlZGVudGlhbHNGYWNhZGUuZGVsZXRlQnlVc2VySWQodXNlcklkKVxuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIGNyZWRlbnRpYWxzIGVuY3J5cHRpb24gbW9kZSwgaS5lLiBob3cgdGhlIGludGVybWVkaWF0ZSBrZXkgdXNlZCBmb3IgZW5jcnlwdGluZyBjcmVkZW50aWFscyBpcyBwcm90ZWN0ZWQuXG5cdCAqIEBwYXJhbSBlbmNyeXB0aW9uTW9kZVxuXHQgKiBAdGhyb3dzIEtleVBlcm1hbmVudGx5SW52YWxpZGF0ZWRFcnJvclxuXHQgKiBAdGhyb3dzIENyZWRlbnRpYWxBdXRoZW50aWNhdGlvbkVycm9yXG5cdCAqL1xuXHRhc3luYyBzZXRDcmVkZW50aWFsRW5jcnlwdGlvbk1vZGUoZW5jcnlwdGlvbk1vZGU6IENyZWRlbnRpYWxFbmNyeXB0aW9uTW9kZSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMuY3JlZGVudGlhbHNGYWNhZGUuc2V0Q3JlZGVudGlhbEVuY3J5cHRpb25Nb2RlKGVuY3J5cHRpb25Nb2RlKVxuXHRcdHRoaXMuaW50ZXJXaW5kb3dFdmVudFNlbmRlcj8ucmVsb2FkRGV2aWNlQ29uZmlnKClcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBjcmVkZW50aWFscyBlbmNyeXB0aW9uIG1vZGUsIGkuZS4gaG93IHRoZSBpbnRlcm1lZGlhdGUga2V5IHVzZWQgZm9yIGVuY3J5cHRpbmcgY3JlZGVudGlhbHMgaXMgcHJvdGVjdGVkLlxuXHQgKi9cblx0Z2V0Q3JlZGVudGlhbEVuY3J5cHRpb25Nb2RlKCk6IFByb21pc2U8Q3JlZGVudGlhbEVuY3J5cHRpb25Nb2RlIHwgbnVsbD4ge1xuXHRcdHJldHVybiB0aGlzLmNyZWRlbnRpYWxzRmFjYWRlLmdldENyZWRlbnRpYWxFbmNyeXB0aW9uTW9kZSgpXG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhbGwgY3JlZGVudGlhbHMgZW5jcnlwdGlvbiBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgdGhlIGRldmljZS5cblx0ICovXG5cdGFzeW5jIGdldFN1cHBvcnRlZEVuY3J5cHRpb25Nb2RlcygpOiBQcm9taXNlPFJlYWRvbmx5QXJyYXk8Q3JlZGVudGlhbEVuY3J5cHRpb25Nb2RlPj4ge1xuXHRcdHJldHVybiBhd2FpdCB0aGlzLmNyZWRlbnRpYWxzRmFjYWRlLmdldFN1cHBvcnRlZEVuY3J5cHRpb25Nb2RlcygpXG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbGwgc3RvcmVkIGNyZWRlbnRpYWxzIGFzIHdlbGwgYXMgYW55IHNldHRpbmdzIGFzc29jaWF0ZWQgd2l0aCBjcmVkZW50aWFscyBlbmNyeXB0aW9uLlxuXHQgKi9cblx0YXN5bmMgY2xlYXJDcmVkZW50aWFscyhyZWFzb246IEVycm9yIHwgc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc29sZS53YXJuKFwiY2xlYXJpbmcgYWxsIHN0b3JlZCBjcmVkZW50aWFsczpcIiwgcmVhc29uKVxuXHRcdGF3YWl0IHRoaXMuY3JlZGVudGlhbHNGYWNhZGUuY2xlYXIoKVxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2luZ0tleWNoYWluQXV0aGVudGljYXRpb25XaXRoT3B0aW9ucygpOiBib29sZWFuIHtcblx0cmV0dXJuICFpc0Jyb3dzZXIoKSAmJiAhaXNBZG1pbkNsaWVudCgpXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7SUFhYSxzQkFBTixNQUEwQjtDQUNoQyxZQUNrQkEsbUJBQ0FDLG9CQUNBQyx3QkFDaEI7RUE2R0YsS0FoSGtCO0VBZ0hqQixLQS9HaUI7RUErR2hCLEtBOUdnQjtDQUNkOzs7O0NBS0osTUFBTSxNQUFNQyxhQUFvRDtBQUMvRCxTQUFPLEtBQUssa0JBQWtCLE1BQU0sWUFBWTtDQUNoRDs7OztDQUtELE1BQU0sZ0JBQWdCQyxhQUE4QkMsbUJBQTJCQyx3QkFBbUQ7RUFDakksTUFBTSx1QkFBdUIsTUFBTSxLQUFLLHVCQUF1QixZQUFZLE9BQU87QUFDbEYsTUFBSSx3QkFBd0IsS0FDM0IsT0FBTSxJQUFJLE9BQU8sZ0ZBQWdGLFlBQVksT0FBTztFQUdySCxNQUFNQywwQkFBZ0Q7R0FDckQsR0FBRztHQUNIO0dBQ0E7RUFDQTtBQUNELFFBQU0sS0FBSyxrQkFBa0IsZUFBZSx3QkFBd0I7Q0FDcEU7Q0FFRCxNQUFNLDJCQUEyQkMsUUFBNkM7QUFDN0UsVUFBUSxNQUFNLEtBQUssdUJBQXVCLE9BQU8sR0FBRyxrQkFBa0I7Q0FDdEU7Q0FFRCxNQUFNLDRCQUFzRTtBQUMzRSxTQUFPLEtBQUssa0JBQWtCLFNBQVM7Q0FDdkM7Q0FFRCxNQUFjLHVCQUF1QkEsUUFBa0Q7RUFDdEYsTUFBTSxpQkFBaUIsTUFBTSxLQUFLLGtCQUFrQixTQUFTO0FBQzdELFNBQU8sZUFBZSxLQUFLLENBQUMsZUFBZSxXQUFXLGVBQWUsV0FBVyxPQUFPLElBQUk7Q0FDM0Y7Ozs7O0NBTUQsTUFBTSxnQ0FBZ0NBLFFBQW9EO0FBQ3pGLFNBQU8sS0FBSyxrQkFBa0IsYUFBYSxPQUFPO0NBQ2xEOzs7OztDQU1ELE1BQU0sOEJBQXVFO0VBQzVFLE1BQU0saUJBQWlCLE1BQU0sS0FBSyxrQkFBa0IsU0FBUztBQUM3RCxTQUFPLGVBQ0wsT0FBTyxDQUFDLGVBQWUsV0FBVyxlQUFlLFNBQVMsZUFBZSxTQUFTLENBQ2xGLElBQUksQ0FBQyxlQUFlLFdBQVcsZUFBZSxDQUM5QyxLQUFLLENBQUMsR0FBRyxNQUFNLEVBQUUsTUFBTSxjQUFjLEVBQUUsTUFBTSxDQUFDO0NBQ2hEOzs7Ozs7Q0FPRCxNQUFNLGVBQWVBLFFBQVlDLE9BQXFDLEVBQUUsaUJBQWlCLEtBQU0sR0FBaUI7QUFDL0csUUFBTSxLQUFLLHdCQUF3Qix5QkFBeUIsT0FBTztBQUNuRSxNQUFJLEtBQUssZ0JBQ1IsT0FBTSxLQUFLLG9CQUFvQixTQUFTLE9BQU87QUFFaEQsUUFBTSxLQUFLLGtCQUFrQixlQUFlLE9BQU87Q0FDbkQ7Ozs7Ozs7Q0FRRCxNQUFNLDRCQUE0QkMsZ0JBQXlEO0FBQzFGLFFBQU0sS0FBSyxrQkFBa0IsNEJBQTRCLGVBQWU7QUFDeEUsT0FBSyx3QkFBd0Isb0JBQW9CO0NBQ2pEOzs7O0NBS0QsOEJBQXdFO0FBQ3ZFLFNBQU8sS0FBSyxrQkFBa0IsNkJBQTZCO0NBQzNEOzs7O0NBS0QsTUFBTSw4QkFBZ0Y7QUFDckYsU0FBTyxNQUFNLEtBQUssa0JBQWtCLDZCQUE2QjtDQUNqRTs7OztDQUtELE1BQU0saUJBQWlCQyxRQUF1QztBQUM3RCxVQUFRLEtBQUssb0NBQW9DLE9BQU87QUFDeEQsUUFBTSxLQUFLLGtCQUFrQixPQUFPO0NBQ3BDO0FBQ0Q7QUFFTSxTQUFTLHlDQUFrRDtBQUNqRSxTQUFRLFdBQVcsS0FBSyxlQUFlO0FBQ3ZDIn0=