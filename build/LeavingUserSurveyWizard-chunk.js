import { mithril_default } from "./mithril-chunk.js";
import { defer } from "./dist2-chunk.js";
import { lang } from "./LanguageViewModel-chunk.js";
import { styles } from "./styles-chunk.js";
import { theme } from "./theme-chunk.js";
import { DialogType, DropDownSelector } from "./Dialog-chunk.js";
import { LoginButton } from "./LoginButton-chunk.js";
import { HtmlEditor, HtmlEditorMode } from "./HtmlEditor-chunk.js";
import { WizardEventType, createWizardDialog, emitWizardEvent, wizardPageWrapper } from "./WizardDialog-chunk.js";

//#region src/common/subscription/SetupLeavingUserSurveyPage.ts
var SetupLeavingUserSurveyPage = class {
	view(vnode) {
		return mithril_default("#leaving-user-survey-dialog.pt.flex-center", [mithril_default(".flex.flex-column.max-width-m.pt.pb.plr-l", { style: {
			minHeight: styles.isDesktopLayout() ? "850px" : "",
			minWidth: styles.isDesktopLayout() ? "450px" : "360px"
		} }, [
			mithril_default(".mb", { style: {
				height: styles.isDesktopLayout() ? "360px" : "",
				...vnode.attrs.imageStyle
			} }, mithril_default("img.pb.block.full-width.height-100p", {
				src: `${window.tutao.appState.prefixWithoutFile}/images/leaving-wizard/${vnode.attrs.image}.png`,
				alt: "",
				rel: "noreferrer",
				loading: "lazy",
				decoding: "async"
			})),
			mithril_default("h3.center.b", lang.get(vnode.attrs.mainMessage)),
			mithril_default("p.center", { style: { height: styles.isDesktopLayout() ? "45px" : "77.5px" } }, lang.get(vnode.attrs.secondaryMessage)),
			vnode.children,
			mithril_default(".full-width", { style: { margin: styles.isDesktopLayout() ? "auto 0 0 0" : "16px 0 0 0" } }, mithril_default(LoginButton, {
				label: vnode.attrs.nextButtonLabel,
				onclick: () => vnode.attrs.closeAction(),
				class: vnode.attrs.nextButtonEnabled ? "no-hover button-bg" : "",
				disabled: vnode.attrs.nextButtonEnabled
			}))
		])]);
	}
};

//#endregion
//#region src/common/subscription/LeavingUserSurveyCategoryPage.ts
var LeavingUserSurveyCategoryPage = class {
	_dom = null;
	oncreate(vnode) {
		this._dom = vnode.dom;
	}
	view(vnode) {
		return mithril_default(SetupLeavingUserSurveyPage, {
			closeAction: () => this.showNextPage(),
			nextButtonLabel: "next_action",
			nextButtonEnabled: !vnode.attrs.data.category,
			image: "main",
			mainMessage: "surveyMainMessageDelete_label",
			secondaryMessage: vnode.attrs.data.showDowngradeMessage ? "surveySecondaryMessageDowngrade_label" : "surveySecondaryMessageDelete_label"
		}, [mithril_default(DropDownSelector, {
			style: {
				border: `2px solid ${theme.content_border}`,
				borderRadius: "6px",
				padding: "4px 8px"
			},
			doShowBorder: false,
			label: "surveyUnhappy_label",
			items: this.getCategoryDropdownItems(vnode.attrs.data.showPriceCategory),
			selectedValue: vnode.attrs.data.category,
			selectionChangedHandler: (category) => {
				vnode.attrs.data.category = category;
			},
			dropdownWidth: 350
		}), mithril_default(".mlr-s.mt-xs", mithril_default("small", lang.get("cancellationConfirmation_msg")))]);
	}
	getCategoryDropdownItems(showPriceCategory) {
		const items = [
			{
				name: lang.get("experienceSamplingAnswer_label"),
				value: null
			},
			{
				name: lang.get("surveyPrice_label"),
				value: "0"
			},
			{
				name: lang.get("surveyAccountProblems_label"),
				value: "1"
			},
			{
				name: lang.get("surveyMissingFeature_label"),
				value: "2"
			},
			{
				name: lang.get("surveyFeatureDesignProblems_label"),
				value: "3"
			},
			{
				name: lang.get("surveyOtherReason_label"),
				value: "4"
			}
		];
		if (!showPriceCategory) items.splice(1, 1);
		return items;
	}
	showNextPage() {
		if (this._dom) emitWizardEvent(this._dom, WizardEventType.SHOW_NEXT_PAGE);
	}
};
var LeavingUserSurveyPageAttrs = class {
	data;
	constructor(leavingUserSurveyData) {
		this.data = leavingUserSurveyData;
	}
	headerTitle() {
		return "survey_label";
	}
	nextAction(showErrorDialog) {
		return Promise.resolve(this.data.category != null);
	}
	isSkipAvailable() {
		return false;
	}
	isEnabled() {
		return true;
	}
};

//#endregion
//#region src/common/subscription/LeavingUserSurveyConstants.ts
const SURVEY_VERSION_NUMBER = "0";
let CategoryType = function(CategoryType$1) {
	CategoryType$1["Price"] = "0";
	CategoryType$1["Account"] = "1";
	CategoryType$1["Feature"] = "2";
	CategoryType$1["Problem"] = "3";
	CategoryType$1["Other"] = "4";
	return CategoryType$1;
}({});
function getCategoryType(category) {
	return category;
}
const CATEGORY_TO_IMAGE = new Map([
	[CategoryType.Price, {
		image: "price",
		translationKey: "surveyPrice_label"
	}],
	[CategoryType.Account, {
		image: "account",
		translationKey: "surveyAccountProblems_label"
	}],
	[CategoryType.Feature, {
		image: "feature",
		translationKey: "surveyMissingFeature_label"
	}],
	[CategoryType.Problem, {
		image: "problem",
		translationKey: "surveyFeatureDesignProblems_label"
	}],
	[CategoryType.Other, {
		image: "other",
		translationKey: "surveyOtherReason_label"
	}]
]);
const CATEGORY_TO_REASON = new Map([
	[CategoryType.Price, [
		{
			value: "0",
			translationKey: "surveyPriceReasonPaidFeatures_label"
		},
		{
			value: "1",
			translationKey: "surveyPriceReasonTooExpensive_label"
		},
		{
			value: "2",
			translationKey: "surveyPriceReasonPricesTooHigh_label"
		},
		{
			value: "3",
			translationKey: "surveyPriceReasonStudentDiscount_label"
		},
		{
			value: "4",
			translationKey: "surveyPriceReasonFamilyDiscount_label"
		},
		{
			value: "5",
			translationKey: "surveyPriceReasonAutoRenewal_label"
		},
		{
			value: "6",
			translationKey: "surveyPriceReasonPaymentNotWorking_label"
		},
		{
			value: "7",
			translationKey: "surveyOtherReasonProvideDetails_label"
		}
	]],
	[CategoryType.Account, [
		{
			value: "8",
			translationKey: "surveyAccountReasonAccountApproval_label"
		},
		{
			value: "9",
			translationKey: "surveyAccountReasonSupportNoHelp_label"
		},
		{
			value: "10",
			translationKey: "surveyAccountReasonForgotPassword_label"
		},
		{
			value: "11",
			translationKey: "surveyAccountReasonForgotRecoveryCode_label"
		},
		{
			value: "12",
			translationKey: "surveyAccountReasonCantAddUsers_label"
		},
		{
			value: "13",
			translationKey: "surveyAccountReasonServicesBlocked_label"
		},
		{
			value: "14",
			translationKey: "surveyAccountReasonAccountBlocked_label"
		},
		{
			value: "15",
			translationKey: "surveyOtherReasonProvideDetails_label"
		}
	]],
	[CategoryType.Feature, [
		{
			value: "16",
			translationKey: "surveyFeatureReasonNoIMAP_label"
		},
		{
			value: "17",
			translationKey: "surveyFeatureReasonNoEmailImport_label"
		},
		{
			value: "18",
			translationKey: "surveyFeatureReasonNoAdjustableColumns_label"
		},
		{
			value: "19",
			translationKey: "surveyFeatureReasonNoEmailLabels_label"
		},
		{
			value: "20",
			translationKey: "surveyFeatureReasonMoreFormattingOptions_label"
		},
		{
			value: "21",
			translationKey: "surveyFeatureReasonAutoForward_label"
		},
		{
			value: "22",
			translationKey: "surveyFeatureReasonCloudStorage_label"
		},
		{
			value: "23",
			translationKey: "surveyFeatureReasonEmailTranslations_label"
		},
		{
			value: "24",
			translationKey: "surveyFeatureReasonOther_label"
		}
	]],
	[CategoryType.Problem, [
		{
			value: "25",
			translationKey: "surveyProblemReasonSearch_label"
		},
		{
			value: "26",
			translationKey: "surveyProblemReasonCalendar_label"
		},
		{
			value: "27",
			translationKey: "surveyProblemReasonThemeCustomization_label"
		},
		{
			value: "28",
			translationKey: "surveyProblemReasonSpamProtection_label"
		},
		{
			value: "29",
			translationKey: "surveyProblemReasonAppAppearance_label"
		},
		{
			value: "30",
			translationKey: "surveyProblemReasonTooHardToUse_label"
		}
	]],
	[CategoryType.Other, [
		{
			value: "31",
			translationKey: "surveyOtherReasonWrongEmailAddress_label"
		},
		{
			value: "32",
			translationKey: "surveyOtherReasonMergeAccounts_label"
		},
		{
			value: "33",
			translationKey: "surveyOtherReasonProvideDetails_label"
		}
	]]
]);

//#endregion
//#region src/common/subscription/LeavingUserSurveyReasonPage.ts
var LeavingUserSurveyReasonPage = class {
	_dom = null;
	dropdownItemsFromCategory = [];
	customReasonEditor;
	constructor() {
		let NUMBER_OF_EDITOR_LINES = styles.isDesktopLayout() ? 5 : 1;
		this.customReasonEditor = new HtmlEditor().setStaticNumberOfLines(NUMBER_OF_EDITOR_LINES).showBorders().setPlaceholderId("enterDetails_msg").setMode(HtmlEditorMode.HTML).setHtmlMonospace(false).setValue("");
	}
	oncreate(vnode) {
		this._dom = vnode.dom;
	}
	oninit(vnode) {
		this.dropdownItemsFromCategory = this.getDropdownItemsFromCategory(vnode.attrs.data.category);
		vnode.attrs.data.reason = null;
	}
	view(vnode) {
		return mithril_default(SetupLeavingUserSurveyPage, {
			closeAction: () => {
				vnode.attrs.data.details = this.customReasonEditor.getValue();
				vnode.attrs.data.submitted = true;
				this.closeDialog();
			},
			nextButtonLabel: "submit_action",
			nextButtonEnabled: !vnode.attrs.data.reason,
			image: CATEGORY_TO_IMAGE.get(getCategoryType(vnode.attrs.data.category))?.image,
			imageStyle: { paddingBottom: "60px" },
			mainMessage: CATEGORY_TO_IMAGE.get(getCategoryType(vnode.attrs.data.category))?.translationKey,
			secondaryMessage: "surveyReasonSecondaryMessage_label"
		}, [mithril_default(DropDownSelector, {
			style: {
				border: `2px solid ${theme.content_border}`,
				borderRadius: "6px",
				padding: "4px 8px"
			},
			doShowBorder: false,
			label: "surveyChooseReason_label",
			items: this.dropdownItemsFromCategory,
			selectedValue: vnode.attrs.data.reason,
			selectionChangedHandler: (reason) => {
				vnode.attrs.data.reason = reason;
			},
			dropdownWidth: 350
		}), mithril_default(".pt", mithril_default(this.customReasonEditor))]);
	}
	closeDialog() {
		if (this._dom) emitWizardEvent(this._dom, WizardEventType.CLOSE_DIALOG);
	}
	getDropdownItemsFromCategory(category) {
		const categoryType = getCategoryType(category);
		const reasonList = CATEGORY_TO_REASON.get(categoryType);
		const unselected = [{
			name: lang.get("experienceSamplingAnswer_label"),
			value: null
		}];
		if (!reasonList) return [];
		return unselected.concat(reasonList.map((r) => ({
			name: lang.get(r.translationKey),
			value: r.value
		})));
	}
};

//#endregion
//#region src/common/subscription/LeavingUserSurveyWizard.ts
async function showLeavingUserSurveyWizard(showPriceCategory, showDowngradeMessage) {
	let category = null;
	let reason = null;
	let details = null;
	let submitted = false;
	const leavingUserSurveyData = {
		category,
		reason,
		details,
		submitted,
		showPriceCategory,
		showDowngradeMessage
	};
	const wizardPages = [wizardPageWrapper(LeavingUserSurveyCategoryPage, new LeavingUserSurveyPageAttrs(leavingUserSurveyData)), wizardPageWrapper(LeavingUserSurveyReasonPage, new LeavingUserSurveyPageAttrs(leavingUserSurveyData))];
	const deferred = defer();
	const wizardBuilder = createWizardDialog(leavingUserSurveyData, wizardPages, async () => {
		deferred.resolve(leavingUserSurveyData);
	}, DialogType.EditLarge, "surveySkip_action");
	wizardBuilder.dialog.show();
	return deferred.promise;
}

//#endregion
export { SURVEY_VERSION_NUMBER, showLeavingUserSurveyWizard };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGVhdmluZ1VzZXJTdXJ2ZXlXaXphcmQtY2h1bmsuanMiLCJuYW1lcyI6WyJ2bm9kZTogVm5vZGU8U2V0dXBMZWF2aW5nVXNlclN1cnZleVBhZ2VBdHRycz4iLCJ2bm9kZTogVm5vZGVET008V2l6YXJkUGFnZUF0dHJzPExlYXZpbmdVc2VyU3VydmV5RGF0YT4+Iiwidm5vZGU6IFZub2RlPFdpemFyZFBhZ2VBdHRyczxMZWF2aW5nVXNlclN1cnZleURhdGE+PiIsInNob3dQcmljZUNhdGVnb3J5OiBib29sZWFuIiwibGVhdmluZ1VzZXJTdXJ2ZXlEYXRhOiBMZWF2aW5nVXNlclN1cnZleURhdGEiLCJzaG93RXJyb3JEaWFsb2c6IGJvb2xlYW4iLCJTVVJWRVlfVkVSU0lPTl9OVU1CRVI6IHN0cmluZyIsImNhdGVnb3J5OiBOdW1iZXJTdHJpbmciLCJDQVRFR09SWV9UT19JTUFHRTogTWFwPENhdGVnb3J5VHlwZSwgQ2F0ZWdvcnlJbWFnZUluZm8+IiwiQ0FURUdPUllfVE9fUkVBU09OOiBNYXA8Q2F0ZWdvcnlUeXBlLCBSZWFzb25bXT4iLCJ2bm9kZTogVm5vZGVET008V2l6YXJkUGFnZUF0dHJzPExlYXZpbmdVc2VyU3VydmV5RGF0YT4+Iiwidm5vZGU6IFZub2RlPFdpemFyZFBhZ2VBdHRyczxMZWF2aW5nVXNlclN1cnZleURhdGE+PiIsImNhdGVnb3J5OiBOdW1iZXJTdHJpbmciLCJ1bnNlbGVjdGVkOiBTZWxlY3Rvckl0ZW08c3RyaW5nIHwgbnVsbD5bXSIsInNob3dQcmljZUNhdGVnb3J5OiBib29sZWFuIiwic2hvd0Rvd25ncmFkZU1lc3NhZ2U6IGJvb2xlYW4iLCJjYXRlZ29yeTogTnVtYmVyU3RyaW5nIHwgbnVsbCIsInJlYXNvbjogc3RyaW5nIHwgbnVsbCIsImRldGFpbHM6IHN0cmluZyB8IG51bGwiLCJzdWJtaXR0ZWQ6IGJvb2xlYW4iLCJsZWF2aW5nVXNlclN1cnZleURhdGE6IExlYXZpbmdVc2VyU3VydmV5RGF0YSJdLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tb24vc3Vic2NyaXB0aW9uL1NldHVwTGVhdmluZ1VzZXJTdXJ2ZXlQYWdlLnRzIiwiLi4vc3JjL2NvbW1vbi9zdWJzY3JpcHRpb24vTGVhdmluZ1VzZXJTdXJ2ZXlDYXRlZ29yeVBhZ2UudHMiLCIuLi9zcmMvY29tbW9uL3N1YnNjcmlwdGlvbi9MZWF2aW5nVXNlclN1cnZleUNvbnN0YW50cy50cyIsIi4uL3NyYy9jb21tb24vc3Vic2NyaXB0aW9uL0xlYXZpbmdVc2VyU3VydmV5UmVhc29uUGFnZS50cyIsIi4uL3NyYy9jb21tb24vc3Vic2NyaXB0aW9uL0xlYXZpbmdVc2VyU3VydmV5V2l6YXJkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtLCB7IENoaWxkcmVuLCBDb21wb25lbnQsIFZub2RlIH0gZnJvbSBcIm1pdGhyaWxcIlxuaW1wb3J0IHsgc3R5bGVzIH0gZnJvbSBcIi4uL2d1aS9zdHlsZXMuanNcIlxuaW1wb3J0IHsgTG9naW5CdXR0b24gfSBmcm9tIFwiLi4vZ3VpL2Jhc2UvYnV0dG9ucy9Mb2dpbkJ1dHRvbi5qc1wiXG5pbXBvcnQgeyBsYW5nLCBUcmFuc2xhdGlvbktleSB9IGZyb20gXCIuLi9taXNjL0xhbmd1YWdlVmlld01vZGVsLmpzXCJcblxuZXhwb3J0IGludGVyZmFjZSBTZXR1cExlYXZpbmdVc2VyU3VydmV5UGFnZUF0dHJzIHtcblx0Y2xvc2VBY3Rpb246ICgpID0+IHZvaWRcblx0bmV4dEJ1dHRvbkxhYmVsOiBUcmFuc2xhdGlvbktleVxuXHRuZXh0QnV0dG9uRW5hYmxlZDogYm9vbGVhblxuXHRpbWFnZTogc3RyaW5nXG5cdGltYWdlU3R5bGU/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG5cdG1haW5NZXNzYWdlOiBUcmFuc2xhdGlvbktleVxuXHRzZWNvbmRhcnlNZXNzYWdlOiBUcmFuc2xhdGlvbktleVxufVxuXG5leHBvcnQgY2xhc3MgU2V0dXBMZWF2aW5nVXNlclN1cnZleVBhZ2UgaW1wbGVtZW50cyBDb21wb25lbnQ8U2V0dXBMZWF2aW5nVXNlclN1cnZleVBhZ2VBdHRycz4ge1xuXHR2aWV3KHZub2RlOiBWbm9kZTxTZXR1cExlYXZpbmdVc2VyU3VydmV5UGFnZUF0dHJzPik6IENoaWxkcmVuIHtcblx0XHRyZXR1cm4gbShcIiNsZWF2aW5nLXVzZXItc3VydmV5LWRpYWxvZy5wdC5mbGV4LWNlbnRlclwiLCBbXG5cdFx0XHRtKFxuXHRcdFx0XHRcIi5mbGV4LmZsZXgtY29sdW1uLm1heC13aWR0aC1tLnB0LnBiLnBsci1sXCIsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0bWluSGVpZ2h0OiBzdHlsZXMuaXNEZXNrdG9wTGF5b3V0KCkgPyBcIjg1MHB4XCIgOiBcIlwiLFxuXHRcdFx0XHRcdFx0bWluV2lkdGg6IHN0eWxlcy5pc0Rlc2t0b3BMYXlvdXQoKSA/IFwiNDUwcHhcIiA6IFwiMzYwcHhcIixcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRbXG5cdFx0XHRcdFx0bShcblx0XHRcdFx0XHRcdFwiLm1iXCIsXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBzdHlsZXMuaXNEZXNrdG9wTGF5b3V0KCkgPyBcIjM2MHB4XCIgOiBcIlwiLFxuXHRcdFx0XHRcdFx0XHRcdC4uLnZub2RlLmF0dHJzLmltYWdlU3R5bGUsXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0bShcImltZy5wYi5ibG9jay5mdWxsLXdpZHRoLmhlaWdodC0xMDBwXCIsIHtcblx0XHRcdFx0XHRcdFx0c3JjOiBgJHt3aW5kb3cudHV0YW8uYXBwU3RhdGUucHJlZml4V2l0aG91dEZpbGV9L2ltYWdlcy9sZWF2aW5nLXdpemFyZC8ke3Zub2RlLmF0dHJzLmltYWdlfS5wbmdgLFxuXHRcdFx0XHRcdFx0XHRhbHQ6IFwiXCIsXG5cdFx0XHRcdFx0XHRcdHJlbDogXCJub3JlZmVycmVyXCIsXG5cdFx0XHRcdFx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxuXHRcdFx0XHRcdFx0XHRkZWNvZGluZzogXCJhc3luY1wiLFxuXHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRtKFwiaDMuY2VudGVyLmJcIiwgbGFuZy5nZXQodm5vZGUuYXR0cnMubWFpbk1lc3NhZ2UpKSxcblx0XHRcdFx0XHRtKFxuXHRcdFx0XHRcdFx0XCJwLmNlbnRlclwiLFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdGhlaWdodDogc3R5bGVzLmlzRGVza3RvcExheW91dCgpID8gXCI0NXB4XCIgOiBcIjc3LjVweFwiLFxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGxhbmcuZ2V0KHZub2RlLmF0dHJzLnNlY29uZGFyeU1lc3NhZ2UpLFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0dm5vZGUuY2hpbGRyZW4sXG5cdFx0XHRcdFx0bShcblx0XHRcdFx0XHRcdFwiLmZ1bGwtd2lkdGhcIixcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRtYXJnaW46IHN0eWxlcy5pc0Rlc2t0b3BMYXlvdXQoKSA/IFwiYXV0byAwIDAgMFwiIDogXCIxNnB4IDAgMCAwXCIsIC8vIHBvc2l0aW9ucyB0aGUgYnV0dG9uIGF0IHRoZSB2ZXJ5IGJvdHRvbSBvZiB0aGUgZmxleCB3cmFwcGVyIGJveCBmb3IgY29uc2lzdGVuY3lcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRtKExvZ2luQnV0dG9uLCB7XG5cdFx0XHRcdFx0XHRcdGxhYmVsOiB2bm9kZS5hdHRycy5uZXh0QnV0dG9uTGFiZWwsXG5cdFx0XHRcdFx0XHRcdG9uY2xpY2s6ICgpID0+IHZub2RlLmF0dHJzLmNsb3NlQWN0aW9uKCksXG5cdFx0XHRcdFx0XHRcdGNsYXNzOiB2bm9kZS5hdHRycy5uZXh0QnV0dG9uRW5hYmxlZCA/IFwibm8taG92ZXIgYnV0dG9uLWJnXCIgOiBcIlwiLFxuXHRcdFx0XHRcdFx0XHRkaXNhYmxlZDogdm5vZGUuYXR0cnMubmV4dEJ1dHRvbkVuYWJsZWQsXG5cdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRdLFxuXHRcdFx0KSxcblx0XHRdKVxuXHR9XG59XG4iLCJpbXBvcnQgeyBlbWl0V2l6YXJkRXZlbnQsIFdpemFyZEV2ZW50VHlwZSwgV2l6YXJkUGFnZUF0dHJzLCBXaXphcmRQYWdlTiB9IGZyb20gXCIuLi9ndWkvYmFzZS9XaXphcmREaWFsb2cuanNcIlxuaW1wb3J0IHsgTGVhdmluZ1VzZXJTdXJ2ZXlEYXRhIH0gZnJvbSBcIi4vTGVhdmluZ1VzZXJTdXJ2ZXlXaXphcmQuanNcIlxuaW1wb3J0IG0sIHsgVm5vZGUsIFZub2RlRE9NIH0gZnJvbSBcIm1pdGhyaWxcIlxuaW1wb3J0IHsgRHJvcERvd25TZWxlY3RvciwgdHlwZSBEcm9wRG93blNlbGVjdG9yQXR0cnMgfSBmcm9tIFwiLi4vZ3VpL2Jhc2UvRHJvcERvd25TZWxlY3Rvci5qc1wiXG5pbXBvcnQgeyBsYW5nLCB0eXBlIFRyYW5zbGF0aW9uS2V5IH0gZnJvbSBcIi4uL21pc2MvTGFuZ3VhZ2VWaWV3TW9kZWwuanNcIlxuaW1wb3J0IHsgdGhlbWUgfSBmcm9tIFwiLi4vZ3VpL3RoZW1lLmpzXCJcbmltcG9ydCB7IFNldHVwTGVhdmluZ1VzZXJTdXJ2ZXlQYWdlIH0gZnJvbSBcIi4vU2V0dXBMZWF2aW5nVXNlclN1cnZleVBhZ2UuanNcIlxuXG5leHBvcnQgY2xhc3MgTGVhdmluZ1VzZXJTdXJ2ZXlDYXRlZ29yeVBhZ2UgaW1wbGVtZW50cyBXaXphcmRQYWdlTjxMZWF2aW5nVXNlclN1cnZleURhdGE+IHtcblx0cHJpdmF0ZSBfZG9tOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsXG5cblx0b25jcmVhdGUodm5vZGU6IFZub2RlRE9NPFdpemFyZFBhZ2VBdHRyczxMZWF2aW5nVXNlclN1cnZleURhdGE+Pikge1xuXHRcdHRoaXMuX2RvbSA9IHZub2RlLmRvbSBhcyBIVE1MRWxlbWVudFxuXHR9XG5cblx0dmlldyh2bm9kZTogVm5vZGU8V2l6YXJkUGFnZUF0dHJzPExlYXZpbmdVc2VyU3VydmV5RGF0YT4+KSB7XG5cdFx0cmV0dXJuIG0oXG5cdFx0XHRTZXR1cExlYXZpbmdVc2VyU3VydmV5UGFnZSxcblx0XHRcdHtcblx0XHRcdFx0Y2xvc2VBY3Rpb246ICgpID0+IHRoaXMuc2hvd05leHRQYWdlKCksXG5cdFx0XHRcdG5leHRCdXR0b25MYWJlbDogXCJuZXh0X2FjdGlvblwiLFxuXHRcdFx0XHRuZXh0QnV0dG9uRW5hYmxlZDogIXZub2RlLmF0dHJzLmRhdGEuY2F0ZWdvcnksXG5cdFx0XHRcdGltYWdlOiBcIm1haW5cIixcblx0XHRcdFx0bWFpbk1lc3NhZ2U6IFwic3VydmV5TWFpbk1lc3NhZ2VEZWxldGVfbGFiZWxcIixcblx0XHRcdFx0c2Vjb25kYXJ5TWVzc2FnZTogdm5vZGUuYXR0cnMuZGF0YS5zaG93RG93bmdyYWRlTWVzc2FnZSA/IFwic3VydmV5U2Vjb25kYXJ5TWVzc2FnZURvd25ncmFkZV9sYWJlbFwiIDogXCJzdXJ2ZXlTZWNvbmRhcnlNZXNzYWdlRGVsZXRlX2xhYmVsXCIsXG5cdFx0XHR9LFxuXHRcdFx0W1xuXHRcdFx0XHRtKERyb3BEb3duU2VsZWN0b3IsIHtcblx0XHRcdFx0XHRzdHlsZTogeyBib3JkZXI6IGAycHggc29saWQgJHt0aGVtZS5jb250ZW50X2JvcmRlcn1gLCBib3JkZXJSYWRpdXM6IFwiNnB4XCIsIHBhZGRpbmc6IFwiNHB4IDhweFwiIH0sXG5cdFx0XHRcdFx0ZG9TaG93Qm9yZGVyOiBmYWxzZSxcblx0XHRcdFx0XHRsYWJlbDogXCJzdXJ2ZXlVbmhhcHB5X2xhYmVsXCIsXG5cdFx0XHRcdFx0aXRlbXM6IHRoaXMuZ2V0Q2F0ZWdvcnlEcm9wZG93bkl0ZW1zKHZub2RlLmF0dHJzLmRhdGEuc2hvd1ByaWNlQ2F0ZWdvcnkpLFxuXHRcdFx0XHRcdHNlbGVjdGVkVmFsdWU6IHZub2RlLmF0dHJzLmRhdGEuY2F0ZWdvcnksXG5cdFx0XHRcdFx0c2VsZWN0aW9uQ2hhbmdlZEhhbmRsZXI6IChjYXRlZ29yeSkgPT4ge1xuXHRcdFx0XHRcdFx0dm5vZGUuYXR0cnMuZGF0YS5jYXRlZ29yeSA9IGNhdGVnb3J5XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkcm9wZG93bldpZHRoOiAzNTAsXG5cdFx0XHRcdH0gc2F0aXNmaWVzIERyb3BEb3duU2VsZWN0b3JBdHRyczxOdW1iZXJTdHJpbmcgfCBudWxsPiksXG5cdFx0XHRcdC8vIHRoaXMgY3VycmVudGx5IFwibW9ja3NcIiB0aGUgaGVscGxhYmVsIG9mIHRoZSBkcm9wZG93bi4gV2UgaGF2ZSB0byB0YWtlIGFub3RoZXIgbG9vayBvbmNlIHdlIGRlY2lkZSBvbiBhcHBseWluZyB0aGUgZHJvcGRvd24gc3R5bGluZyB0byB0aGUgZW50aXJlIGFwcC5cblx0XHRcdFx0bShcIi5tbHItcy5tdC14c1wiLCBtKFwic21hbGxcIiwgbGFuZy5nZXQoXCJjYW5jZWxsYXRpb25Db25maXJtYXRpb25fbXNnXCIpKSksXG5cdFx0XHRdLFxuXHRcdClcblx0fVxuXG5cdHByaXZhdGUgZ2V0Q2F0ZWdvcnlEcm9wZG93bkl0ZW1zKHNob3dQcmljZUNhdGVnb3J5OiBib29sZWFuKSB7XG5cdFx0Y29uc3QgaXRlbXMgPSBbXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6IGxhbmcuZ2V0KFwiZXhwZXJpZW5jZVNhbXBsaW5nQW5zd2VyX2xhYmVsXCIpLFxuXHRcdFx0XHR2YWx1ZTogbnVsbCxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6IGxhbmcuZ2V0KFwic3VydmV5UHJpY2VfbGFiZWxcIiksXG5cdFx0XHRcdHZhbHVlOiBcIjBcIixcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6IGxhbmcuZ2V0KFwic3VydmV5QWNjb3VudFByb2JsZW1zX2xhYmVsXCIpLFxuXHRcdFx0XHR2YWx1ZTogXCIxXCIsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiBsYW5nLmdldChcInN1cnZleU1pc3NpbmdGZWF0dXJlX2xhYmVsXCIpLFxuXHRcdFx0XHR2YWx1ZTogXCIyXCIsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiBsYW5nLmdldChcInN1cnZleUZlYXR1cmVEZXNpZ25Qcm9ibGVtc19sYWJlbFwiKSxcblx0XHRcdFx0dmFsdWU6IFwiM1wiLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogbGFuZy5nZXQoXCJzdXJ2ZXlPdGhlclJlYXNvbl9sYWJlbFwiKSxcblx0XHRcdFx0dmFsdWU6IFwiNFwiLFxuXHRcdFx0fSxcblx0XHRdXG5cdFx0aWYgKCFzaG93UHJpY2VDYXRlZ29yeSkgaXRlbXMuc3BsaWNlKDEsIDEpIC8vIHJlbW92ZSBwcmljZSBjYXRlZ29yeVxuXHRcdHJldHVybiBpdGVtc1xuXHR9XG5cblx0c2hvd05leHRQYWdlKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl9kb20pIHtcblx0XHRcdGVtaXRXaXphcmRFdmVudCh0aGlzLl9kb20sIFdpemFyZEV2ZW50VHlwZS5TSE9XX05FWFRfUEFHRSlcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIExlYXZpbmdVc2VyU3VydmV5UGFnZUF0dHJzIGltcGxlbWVudHMgV2l6YXJkUGFnZUF0dHJzPExlYXZpbmdVc2VyU3VydmV5RGF0YT4ge1xuXHRkYXRhOiBMZWF2aW5nVXNlclN1cnZleURhdGFcblxuXHRjb25zdHJ1Y3RvcihsZWF2aW5nVXNlclN1cnZleURhdGE6IExlYXZpbmdVc2VyU3VydmV5RGF0YSkge1xuXHRcdHRoaXMuZGF0YSA9IGxlYXZpbmdVc2VyU3VydmV5RGF0YVxuXHR9XG5cblx0aGVhZGVyVGl0bGUoKTogVHJhbnNsYXRpb25LZXkge1xuXHRcdHJldHVybiBcInN1cnZleV9sYWJlbFwiXG5cdH1cblxuXHRuZXh0QWN0aW9uKHNob3dFcnJvckRpYWxvZzogYm9vbGVhbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5kYXRhLmNhdGVnb3J5ICE9IG51bGwpXG5cdH1cblxuXHRpc1NraXBBdmFpbGFibGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlXG5cdH1cblxuXHRpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRydWVcblx0fVxufVxuIiwiaW1wb3J0IHsgVHJhbnNsYXRpb25LZXkgfSBmcm9tIFwiLi4vbWlzYy9MYW5ndWFnZVZpZXdNb2RlbC5qc1wiXG5cbi8qKlxuICogRmlsZSBjb250YWluaW5nIGFsbCB0eXBlcywgZW51bXMsIG1hcHMgYW5kIGhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSAnbGVhdmluZyB1c2VyIHN1cnZleScgd2l6YXJkLlxuICovXG5cbi8vIFZlcnNpb24gbnVtYmVyIGZvciB0aGUgY29ycmVjdCBxdWVzdGlvbnMvb3B0aW9ucy4gSW5jcmVtZW50IHRoaXMgd2hlbiBjaGFuZ2luZyB0aGUgZHJvcGRvd24gb3B0aW9ucyBiZWxvdyFcbmV4cG9ydCBjb25zdCBTVVJWRVlfVkVSU0lPTl9OVU1CRVI6IHN0cmluZyA9IFwiMFwiXG5cbmV4cG9ydCBlbnVtIENhdGVnb3J5VHlwZSB7XG5cdFByaWNlID0gXCIwXCIsXG5cdEFjY291bnQgPSBcIjFcIixcblx0RmVhdHVyZSA9IFwiMlwiLFxuXHRQcm9ibGVtID0gXCIzXCIsXG5cdE90aGVyID0gXCI0XCIsXG59XG5cbi8qKlxuICogQ2FzdHMgYSBOdW1iZXJTdHJpbmcgdG8gdGhlIENhdGVnb3J5VHlwZSBFbnVtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlUeXBlKGNhdGVnb3J5OiBOdW1iZXJTdHJpbmcpIHtcblx0cmV0dXJuIDxDYXRlZ29yeVR5cGU+Y2F0ZWdvcnlcbn1cblxuZXhwb3J0IHR5cGUgQ2F0ZWdvcnlJbWFnZUluZm8gPSB7XG5cdGltYWdlOiBzdHJpbmdcblx0dHJhbnNsYXRpb25LZXk6IFRyYW5zbGF0aW9uS2V5XG59XG5cbi8qKlxuICogTWFwIGZyb20gQ2F0ZWdvcnlUeXBlIHRvIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBpbWFnZSBhbmQgaW5mbyB0ZXh0IHRoYXQgd2lsbCBiZSBkaXNwbGF5ZWQgb24gdGhlIHNlY29uZCBwYWdlIG9mIHRoZSB3aXphcmQuXG4gKi9cbmV4cG9ydCBjb25zdCBDQVRFR09SWV9UT19JTUFHRTogTWFwPENhdGVnb3J5VHlwZSwgQ2F0ZWdvcnlJbWFnZUluZm8+ID0gbmV3IE1hcChbXG5cdFtDYXRlZ29yeVR5cGUuUHJpY2UsIHsgaW1hZ2U6IFwicHJpY2VcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5UHJpY2VfbGFiZWxcIiB9XSxcblx0W0NhdGVnb3J5VHlwZS5BY2NvdW50LCB7IGltYWdlOiBcImFjY291bnRcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5QWNjb3VudFByb2JsZW1zX2xhYmVsXCIgfV0sXG5cdFtDYXRlZ29yeVR5cGUuRmVhdHVyZSwgeyBpbWFnZTogXCJmZWF0dXJlXCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleU1pc3NpbmdGZWF0dXJlX2xhYmVsXCIgfV0sXG5cdFtDYXRlZ29yeVR5cGUuUHJvYmxlbSwgeyBpbWFnZTogXCJwcm9ibGVtXCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleUZlYXR1cmVEZXNpZ25Qcm9ibGVtc19sYWJlbFwiIH1dLFxuXHRbQ2F0ZWdvcnlUeXBlLk90aGVyLCB7IGltYWdlOiBcIm90aGVyXCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleU90aGVyUmVhc29uX2xhYmVsXCIgfV0sXG5dKVxuXG5leHBvcnQgdHlwZSBSZWFzb24gPSB7XG5cdHZhbHVlOiBOdW1iZXJTdHJpbmdcblx0dHJhbnNsYXRpb25LZXk6IFRyYW5zbGF0aW9uS2V5XG59XG5cbi8qKlxuICogTWFwIGZyb20gQ2F0ZWdvcnlUeXBlIHRvIGFuIG9iamVjdCBjb250YWluaW5nIERyb3Bkb3duSXRlbXMgZm9yIHRoZSBkcm9wZG93biBvbiB0aGUgc2Vjb25kIHBhZ2Ugb2YgdGhlIHdpemFyZC5cbiAqL1xuZXhwb3J0IGNvbnN0IENBVEVHT1JZX1RPX1JFQVNPTjogTWFwPENhdGVnb3J5VHlwZSwgUmVhc29uW10+ID0gbmV3IE1hcChbXG5cdFtcblx0XHRDYXRlZ29yeVR5cGUuUHJpY2UsXG5cdFx0W1xuXHRcdFx0eyB2YWx1ZTogXCIwXCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleVByaWNlUmVhc29uUGFpZEZlYXR1cmVzX2xhYmVsXCIgfSxcblx0XHRcdHsgdmFsdWU6IFwiMVwiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlQcmljZVJlYXNvblRvb0V4cGVuc2l2ZV9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjJcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5UHJpY2VSZWFzb25QcmljZXNUb29IaWdoX2xhYmVsXCIgfSxcblx0XHRcdHsgdmFsdWU6IFwiM1wiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlQcmljZVJlYXNvblN0dWRlbnREaXNjb3VudF9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjRcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5UHJpY2VSZWFzb25GYW1pbHlEaXNjb3VudF9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjVcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5UHJpY2VSZWFzb25BdXRvUmVuZXdhbF9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjZcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5UHJpY2VSZWFzb25QYXltZW50Tm90V29ya2luZ19sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjdcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5T3RoZXJSZWFzb25Qcm92aWRlRGV0YWlsc19sYWJlbFwiIH0sXG5cdFx0XSxcblx0XSxcblx0W1xuXHRcdENhdGVnb3J5VHlwZS5BY2NvdW50LFxuXHRcdFtcblx0XHRcdHsgdmFsdWU6IFwiOFwiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlBY2NvdW50UmVhc29uQWNjb3VudEFwcHJvdmFsX2xhYmVsXCIgfSxcblx0XHRcdHsgdmFsdWU6IFwiOVwiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlBY2NvdW50UmVhc29uU3VwcG9ydE5vSGVscF9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjEwXCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleUFjY291bnRSZWFzb25Gb3Jnb3RQYXNzd29yZF9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjExXCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleUFjY291bnRSZWFzb25Gb3Jnb3RSZWNvdmVyeUNvZGVfbGFiZWxcIiB9LFxuXHRcdFx0eyB2YWx1ZTogXCIxMlwiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlBY2NvdW50UmVhc29uQ2FudEFkZFVzZXJzX2xhYmVsXCIgfSxcblx0XHRcdHsgdmFsdWU6IFwiMTNcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5QWNjb3VudFJlYXNvblNlcnZpY2VzQmxvY2tlZF9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjE0XCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleUFjY291bnRSZWFzb25BY2NvdW50QmxvY2tlZF9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjE1XCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleU90aGVyUmVhc29uUHJvdmlkZURldGFpbHNfbGFiZWxcIiB9LFxuXHRcdF0sXG5cdF0sXG5cdFtcblx0XHRDYXRlZ29yeVR5cGUuRmVhdHVyZSxcblx0XHRbXG5cdFx0XHR7IHZhbHVlOiBcIjE2XCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleUZlYXR1cmVSZWFzb25Ob0lNQVBfbGFiZWxcIiB9LFxuXHRcdFx0eyB2YWx1ZTogXCIxN1wiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlGZWF0dXJlUmVhc29uTm9FbWFpbEltcG9ydF9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjE4XCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleUZlYXR1cmVSZWFzb25Ob0FkanVzdGFibGVDb2x1bW5zX2xhYmVsXCIgfSxcblx0XHRcdHsgdmFsdWU6IFwiMTlcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5RmVhdHVyZVJlYXNvbk5vRW1haWxMYWJlbHNfbGFiZWxcIiB9LFxuXHRcdFx0eyB2YWx1ZTogXCIyMFwiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlGZWF0dXJlUmVhc29uTW9yZUZvcm1hdHRpbmdPcHRpb25zX2xhYmVsXCIgfSxcblx0XHRcdHsgdmFsdWU6IFwiMjFcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5RmVhdHVyZVJlYXNvbkF1dG9Gb3J3YXJkX2xhYmVsXCIgfSxcblx0XHRcdHsgdmFsdWU6IFwiMjJcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5RmVhdHVyZVJlYXNvbkNsb3VkU3RvcmFnZV9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjIzXCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleUZlYXR1cmVSZWFzb25FbWFpbFRyYW5zbGF0aW9uc19sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjI0XCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleUZlYXR1cmVSZWFzb25PdGhlcl9sYWJlbFwiIH0sXG5cdFx0XSxcblx0XSxcblx0W1xuXHRcdENhdGVnb3J5VHlwZS5Qcm9ibGVtLFxuXHRcdFtcblx0XHRcdHsgdmFsdWU6IFwiMjVcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5UHJvYmxlbVJlYXNvblNlYXJjaF9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjI2XCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleVByb2JsZW1SZWFzb25DYWxlbmRhcl9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjI3XCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleVByb2JsZW1SZWFzb25UaGVtZUN1c3RvbWl6YXRpb25fbGFiZWxcIiB9LFxuXHRcdFx0eyB2YWx1ZTogXCIyOFwiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlQcm9ibGVtUmVhc29uU3BhbVByb3RlY3Rpb25fbGFiZWxcIiB9LFxuXHRcdFx0eyB2YWx1ZTogXCIyOVwiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlQcm9ibGVtUmVhc29uQXBwQXBwZWFyYW5jZV9sYWJlbFwiIH0sXG5cdFx0XHR7IHZhbHVlOiBcIjMwXCIsIHRyYW5zbGF0aW9uS2V5OiBcInN1cnZleVByb2JsZW1SZWFzb25Ub29IYXJkVG9Vc2VfbGFiZWxcIiB9LFxuXHRcdF0sXG5cdF0sXG5cdFtcblx0XHRDYXRlZ29yeVR5cGUuT3RoZXIsXG5cdFx0W1xuXHRcdFx0eyB2YWx1ZTogXCIzMVwiLCB0cmFuc2xhdGlvbktleTogXCJzdXJ2ZXlPdGhlclJlYXNvbldyb25nRW1haWxBZGRyZXNzX2xhYmVsXCIgfSxcblx0XHRcdHsgdmFsdWU6IFwiMzJcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5T3RoZXJSZWFzb25NZXJnZUFjY291bnRzX2xhYmVsXCIgfSxcblx0XHRcdHsgdmFsdWU6IFwiMzNcIiwgdHJhbnNsYXRpb25LZXk6IFwic3VydmV5T3RoZXJSZWFzb25Qcm92aWRlRGV0YWlsc19sYWJlbFwiIH0sXG5cdFx0XSxcblx0XSxcbl0pXG4iLCJpbXBvcnQgeyBlbWl0V2l6YXJkRXZlbnQsIFdpemFyZEV2ZW50VHlwZSwgV2l6YXJkUGFnZUF0dHJzLCBXaXphcmRQYWdlTiB9IGZyb20gXCIuLi9ndWkvYmFzZS9XaXphcmREaWFsb2cuanNcIlxuaW1wb3J0IHsgTGVhdmluZ1VzZXJTdXJ2ZXlEYXRhIH0gZnJvbSBcIi4vTGVhdmluZ1VzZXJTdXJ2ZXlXaXphcmQuanNcIlxuaW1wb3J0IG0sIHsgVm5vZGUsIFZub2RlRE9NIH0gZnJvbSBcIm1pdGhyaWxcIlxuaW1wb3J0IHsgRHJvcERvd25TZWxlY3RvciwgdHlwZSBEcm9wRG93blNlbGVjdG9yQXR0cnMsIFNlbGVjdG9ySXRlbSwgU2VsZWN0b3JJdGVtTGlzdCB9IGZyb20gXCIuLi9ndWkvYmFzZS9Ecm9wRG93blNlbGVjdG9yLmpzXCJcbmltcG9ydCB7IEh0bWxFZGl0b3IsIEh0bWxFZGl0b3JNb2RlIH0gZnJvbSBcIi4uL2d1aS9lZGl0b3IvSHRtbEVkaXRvci5qc1wiXG5pbXBvcnQgeyB0aGVtZSB9IGZyb20gXCIuLi9ndWkvdGhlbWUuanNcIlxuaW1wb3J0IHsgQ0FURUdPUllfVE9fSU1BR0UsIENBVEVHT1JZX1RPX1JFQVNPTiwgZ2V0Q2F0ZWdvcnlUeXBlIH0gZnJvbSBcIi4vTGVhdmluZ1VzZXJTdXJ2ZXlDb25zdGFudHMuanNcIlxuaW1wb3J0IHsgbGFuZyB9IGZyb20gXCIuLi9taXNjL0xhbmd1YWdlVmlld01vZGVsLmpzXCJcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gXCIuLi9ndWkvc3R5bGVzLmpzXCJcbmltcG9ydCB7IFNldHVwTGVhdmluZ1VzZXJTdXJ2ZXlQYWdlIH0gZnJvbSBcIi4vU2V0dXBMZWF2aW5nVXNlclN1cnZleVBhZ2UuanNcIlxuXG5leHBvcnQgY2xhc3MgTGVhdmluZ1VzZXJTdXJ2ZXlSZWFzb25QYWdlIGltcGxlbWVudHMgV2l6YXJkUGFnZU48TGVhdmluZ1VzZXJTdXJ2ZXlEYXRhPiB7XG5cdHByaXZhdGUgX2RvbTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbFxuXHRwcml2YXRlIGRyb3Bkb3duSXRlbXNGcm9tQ2F0ZWdvcnk6IFNlbGVjdG9ySXRlbUxpc3Q8TnVtYmVyU3RyaW5nIHwgbnVsbD4gPSBbXVxuXHRwcml2YXRlIHJlYWRvbmx5IGN1c3RvbVJlYXNvbkVkaXRvcjogSHRtbEVkaXRvclxuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdGxldCBOVU1CRVJfT0ZfRURJVE9SX0xJTkVTID0gc3R5bGVzLmlzRGVza3RvcExheW91dCgpID8gNSA6IDFcblx0XHR0aGlzLmN1c3RvbVJlYXNvbkVkaXRvciA9IG5ldyBIdG1sRWRpdG9yKClcblx0XHRcdC5zZXRTdGF0aWNOdW1iZXJPZkxpbmVzKE5VTUJFUl9PRl9FRElUT1JfTElORVMpXG5cdFx0XHQuc2hvd0JvcmRlcnMoKVxuXHRcdFx0LnNldFBsYWNlaG9sZGVySWQoXCJlbnRlckRldGFpbHNfbXNnXCIpXG5cdFx0XHQuc2V0TW9kZShIdG1sRWRpdG9yTW9kZS5IVE1MKVxuXHRcdFx0LnNldEh0bWxNb25vc3BhY2UoZmFsc2UpXG5cdFx0XHQuc2V0VmFsdWUoXCJcIilcblx0fVxuXG5cdG9uY3JlYXRlKHZub2RlOiBWbm9kZURPTTxXaXphcmRQYWdlQXR0cnM8TGVhdmluZ1VzZXJTdXJ2ZXlEYXRhPj4pIHtcblx0XHR0aGlzLl9kb20gPSB2bm9kZS5kb20gYXMgSFRNTEVsZW1lbnRcblx0fVxuXG5cdG9uaW5pdCh2bm9kZTogVm5vZGU8V2l6YXJkUGFnZUF0dHJzPExlYXZpbmdVc2VyU3VydmV5RGF0YT4+KSB7XG5cdFx0dGhpcy5kcm9wZG93bkl0ZW1zRnJvbUNhdGVnb3J5ID0gdGhpcy5nZXREcm9wZG93bkl0ZW1zRnJvbUNhdGVnb3J5KHZub2RlLmF0dHJzLmRhdGEuY2F0ZWdvcnkhKVxuXHRcdHZub2RlLmF0dHJzLmRhdGEucmVhc29uID0gbnVsbFxuXHR9XG5cblx0dmlldyh2bm9kZTogVm5vZGU8V2l6YXJkUGFnZUF0dHJzPExlYXZpbmdVc2VyU3VydmV5RGF0YT4+KSB7XG5cdFx0cmV0dXJuIG0oXG5cdFx0XHRTZXR1cExlYXZpbmdVc2VyU3VydmV5UGFnZSxcblx0XHRcdHtcblx0XHRcdFx0Y2xvc2VBY3Rpb246ICgpID0+IHtcblx0XHRcdFx0XHR2bm9kZS5hdHRycy5kYXRhLmRldGFpbHMgPSB0aGlzLmN1c3RvbVJlYXNvbkVkaXRvci5nZXRWYWx1ZSgpXG5cdFx0XHRcdFx0dm5vZGUuYXR0cnMuZGF0YS5zdWJtaXR0ZWQgPSB0cnVlXG5cdFx0XHRcdFx0dGhpcy5jbG9zZURpYWxvZygpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG5leHRCdXR0b25MYWJlbDogXCJzdWJtaXRfYWN0aW9uXCIsXG5cdFx0XHRcdG5leHRCdXR0b25FbmFibGVkOiAhdm5vZGUuYXR0cnMuZGF0YS5yZWFzb24sXG5cdFx0XHRcdGltYWdlOiBDQVRFR09SWV9UT19JTUFHRS5nZXQoZ2V0Q2F0ZWdvcnlUeXBlKHZub2RlLmF0dHJzLmRhdGEuY2F0ZWdvcnkhKSk/LmltYWdlISxcblx0XHRcdFx0aW1hZ2VTdHlsZToge1xuXHRcdFx0XHRcdHBhZGRpbmdCb3R0b206IFwiNjBweFwiLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRtYWluTWVzc2FnZTogQ0FURUdPUllfVE9fSU1BR0UuZ2V0KGdldENhdGVnb3J5VHlwZSh2bm9kZS5hdHRycy5kYXRhLmNhdGVnb3J5ISkpPy50cmFuc2xhdGlvbktleSEsXG5cdFx0XHRcdHNlY29uZGFyeU1lc3NhZ2U6IFwic3VydmV5UmVhc29uU2Vjb25kYXJ5TWVzc2FnZV9sYWJlbFwiLFxuXHRcdFx0fSxcblx0XHRcdFtcblx0XHRcdFx0bShEcm9wRG93blNlbGVjdG9yLCB7XG5cdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdGJvcmRlcjogYDJweCBzb2xpZCAke3RoZW1lLmNvbnRlbnRfYm9yZGVyfWAsXG5cdFx0XHRcdFx0XHRib3JkZXJSYWRpdXM6IFwiNnB4XCIsXG5cdFx0XHRcdFx0XHRwYWRkaW5nOiBcIjRweCA4cHhcIixcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGRvU2hvd0JvcmRlcjogZmFsc2UsXG5cdFx0XHRcdFx0bGFiZWw6IFwic3VydmV5Q2hvb3NlUmVhc29uX2xhYmVsXCIsXG5cdFx0XHRcdFx0aXRlbXM6IHRoaXMuZHJvcGRvd25JdGVtc0Zyb21DYXRlZ29yeSwgLy8gd2lsbCBuZXZlciBiZSBudWxsLCBhcyBpdCBoYXMgdG8gYmUgc2V0IHRvIGFjY2VzcyB0aGlzIHBhZ2Vcblx0XHRcdFx0XHRzZWxlY3RlZFZhbHVlOiB2bm9kZS5hdHRycy5kYXRhLnJlYXNvbixcblx0XHRcdFx0XHRzZWxlY3Rpb25DaGFuZ2VkSGFuZGxlcjogKHJlYXNvbikgPT4ge1xuXHRcdFx0XHRcdFx0dm5vZGUuYXR0cnMuZGF0YS5yZWFzb24gPSByZWFzb25cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGRyb3Bkb3duV2lkdGg6IDM1MCxcblx0XHRcdFx0fSBzYXRpc2ZpZXMgRHJvcERvd25TZWxlY3RvckF0dHJzPE51bWJlclN0cmluZyB8IG51bGw+KSxcblx0XHRcdFx0bShcIi5wdFwiLCBtKHRoaXMuY3VzdG9tUmVhc29uRWRpdG9yKSksXG5cdFx0XHRdLFxuXHRcdClcblx0fVxuXG5cdGNsb3NlRGlhbG9nKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl9kb20pIHtcblx0XHRcdGVtaXRXaXphcmRFdmVudCh0aGlzLl9kb20sIFdpemFyZEV2ZW50VHlwZS5DTE9TRV9ESUFMT0cpXG5cdFx0fVxuXHR9XG5cblx0Z2V0RHJvcGRvd25JdGVtc0Zyb21DYXRlZ29yeShjYXRlZ29yeTogTnVtYmVyU3RyaW5nKTogU2VsZWN0b3JJdGVtTGlzdDxOdW1iZXJTdHJpbmcgfCBudWxsPiB7XG5cdFx0Y29uc3QgY2F0ZWdvcnlUeXBlID0gZ2V0Q2F0ZWdvcnlUeXBlKGNhdGVnb3J5KVxuXHRcdGNvbnN0IHJlYXNvbkxpc3QgPSBDQVRFR09SWV9UT19SRUFTT04uZ2V0KGNhdGVnb3J5VHlwZSlcblx0XHRjb25zdCB1bnNlbGVjdGVkOiBTZWxlY3Rvckl0ZW08c3RyaW5nIHwgbnVsbD5bXSA9IFt7IG5hbWU6IGxhbmcuZ2V0KFwiZXhwZXJpZW5jZVNhbXBsaW5nQW5zd2VyX2xhYmVsXCIpLCB2YWx1ZTogbnVsbCB9XVxuXG5cdFx0aWYgKCFyZWFzb25MaXN0KSByZXR1cm4gW11cblx0XHRyZXR1cm4gdW5zZWxlY3RlZC5jb25jYXQocmVhc29uTGlzdC5tYXAoKHIpID0+ICh7IG5hbWU6IGxhbmcuZ2V0KHIudHJhbnNsYXRpb25LZXkpLCB2YWx1ZTogci52YWx1ZSB9KSkpXG5cdH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVdpemFyZERpYWxvZywgd2l6YXJkUGFnZVdyYXBwZXIgfSBmcm9tIFwiLi4vZ3VpL2Jhc2UvV2l6YXJkRGlhbG9nLmpzXCJcbmltcG9ydCB7IExlYXZpbmdVc2VyU3VydmV5Q2F0ZWdvcnlQYWdlLCBMZWF2aW5nVXNlclN1cnZleVBhZ2VBdHRycyB9IGZyb20gXCIuL0xlYXZpbmdVc2VyU3VydmV5Q2F0ZWdvcnlQYWdlLmpzXCJcbmltcG9ydCB7IGRlZmVyIH0gZnJvbSBcIkB0dXRhby90dXRhbm90YS11dGlsc1wiXG5pbXBvcnQgeyBMZWF2aW5nVXNlclN1cnZleVJlYXNvblBhZ2UgfSBmcm9tIFwiLi9MZWF2aW5nVXNlclN1cnZleVJlYXNvblBhZ2UuanNcIlxuaW1wb3J0IHsgRGlhbG9nVHlwZSB9IGZyb20gXCIuLi9ndWkvYmFzZS9EaWFsb2cuanNcIlxuXG5leHBvcnQgdHlwZSBMZWF2aW5nVXNlclN1cnZleURhdGEgPSB7XG5cdGNhdGVnb3J5OiBOdW1iZXJTdHJpbmcgfCBudWxsXG5cdHJlYXNvbjogTnVtYmVyU3RyaW5nIHwgbnVsbFxuXHRkZXRhaWxzOiBzdHJpbmcgfCBudWxsXG5cdHN1Ym1pdHRlZDogYm9vbGVhbiAvLyB3ZSBuZWVkIGEgc2VwYXJhdGUgc3VibWl0IGZsYWcsIGJlY2F1c2UgdGhlIHVzZXIgbWlnaHQgZ28gYmFjayBmcm9tIHBhZ2UgMiBhbmQgY2FuY2VsIHRoZSBkaWFsb2csIGluIHdoaWNoIGNhc2UgdGhlIHZhbHVlcyB3aWxsIGJlIHNldFxuXHRzaG93UHJpY2VDYXRlZ29yeTogYm9vbGVhbiAvLyB3aGV0aGVyIHRoZSBkcm9wZG93biBzaG91bGQgaW5jbHVkZSB0aGUgJ3ByaWNlJyBjYXRlZ29yeVxuXHRzaG93RG93bmdyYWRlTWVzc2FnZTogYm9vbGVhbiAvLyB3aGV0aGVyIHRoZSBtZXNzYWdlIGRpc3BsYXllZCBiZWxvdyB0aGUgaW1hZ2Ugc2hvdWxkIGFkZHJlc3MgYSBkb3duZ3JhZGluZyBvciBkZWxldGluZyB1c2VyXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93TGVhdmluZ1VzZXJTdXJ2ZXlXaXphcmQoc2hvd1ByaWNlQ2F0ZWdvcnk6IGJvb2xlYW4sIHNob3dEb3duZ3JhZGVNZXNzYWdlOiBib29sZWFuKTogUHJvbWlzZTxMZWF2aW5nVXNlclN1cnZleURhdGE+IHtcblx0bGV0IGNhdGVnb3J5OiBOdW1iZXJTdHJpbmcgfCBudWxsID0gbnVsbFxuXHRsZXQgcmVhc29uOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuXHRsZXQgZGV0YWlsczogc3RyaW5nIHwgbnVsbCA9IG51bGxcblx0bGV0IHN1Ym1pdHRlZDogYm9vbGVhbiA9IGZhbHNlXG5cblx0Y29uc3QgbGVhdmluZ1VzZXJTdXJ2ZXlEYXRhOiBMZWF2aW5nVXNlclN1cnZleURhdGEgPSB7XG5cdFx0Y2F0ZWdvcnksXG5cdFx0cmVhc29uLFxuXHRcdGRldGFpbHMsXG5cdFx0c3VibWl0dGVkLFxuXHRcdHNob3dQcmljZUNhdGVnb3J5LFxuXHRcdHNob3dEb3duZ3JhZGVNZXNzYWdlLFxuXHR9XG5cblx0Y29uc3Qgd2l6YXJkUGFnZXMgPSBbXG5cdFx0d2l6YXJkUGFnZVdyYXBwZXIoTGVhdmluZ1VzZXJTdXJ2ZXlDYXRlZ29yeVBhZ2UsIG5ldyBMZWF2aW5nVXNlclN1cnZleVBhZ2VBdHRycyhsZWF2aW5nVXNlclN1cnZleURhdGEpKSxcblx0XHR3aXphcmRQYWdlV3JhcHBlcihMZWF2aW5nVXNlclN1cnZleVJlYXNvblBhZ2UsIG5ldyBMZWF2aW5nVXNlclN1cnZleVBhZ2VBdHRycyhsZWF2aW5nVXNlclN1cnZleURhdGEpKSxcblx0XVxuXHRjb25zdCBkZWZlcnJlZCA9IGRlZmVyPExlYXZpbmdVc2VyU3VydmV5RGF0YT4oKVxuXG5cdGNvbnN0IHdpemFyZEJ1aWxkZXIgPSBjcmVhdGVXaXphcmREaWFsb2coXG5cdFx0bGVhdmluZ1VzZXJTdXJ2ZXlEYXRhLFxuXHRcdHdpemFyZFBhZ2VzLFxuXHRcdGFzeW5jICgpID0+IHtcblx0XHRcdGRlZmVycmVkLnJlc29sdmUobGVhdmluZ1VzZXJTdXJ2ZXlEYXRhKVxuXHRcdH0sXG5cdFx0RGlhbG9nVHlwZS5FZGl0TGFyZ2UsXG5cdFx0XCJzdXJ2ZXlTa2lwX2FjdGlvblwiLFxuXHQpXG5cblx0d2l6YXJkQnVpbGRlci5kaWFsb2cuc2hvdygpXG5cdHJldHVybiBkZWZlcnJlZC5wcm9taXNlXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBZWEsNkJBQU4sTUFBdUY7Q0FDN0YsS0FBS0EsT0FBeUQ7QUFDN0QsU0FBTyxnQkFBRSw4Q0FBOEMsQ0FDdEQsZ0JBQ0MsNkNBQ0EsRUFDQyxPQUFPO0dBQ04sV0FBVyxPQUFPLGlCQUFpQixHQUFHLFVBQVU7R0FDaEQsVUFBVSxPQUFPLGlCQUFpQixHQUFHLFVBQVU7RUFDL0MsRUFDRCxHQUNEO0dBQ0MsZ0JBQ0MsT0FDQSxFQUNDLE9BQU87SUFDTixRQUFRLE9BQU8saUJBQWlCLEdBQUcsVUFBVTtJQUM3QyxHQUFHLE1BQU0sTUFBTTtHQUNmLEVBQ0QsR0FDRCxnQkFBRSx1Q0FBdUM7SUFDeEMsTUFBTSxFQUFFLE9BQU8sTUFBTSxTQUFTLGtCQUFrQix5QkFBeUIsTUFBTSxNQUFNLE1BQU07SUFDM0YsS0FBSztJQUNMLEtBQUs7SUFDTCxTQUFTO0lBQ1QsVUFBVTtHQUNWLEVBQUMsQ0FDRjtHQUNELGdCQUFFLGVBQWUsS0FBSyxJQUFJLE1BQU0sTUFBTSxZQUFZLENBQUM7R0FDbkQsZ0JBQ0MsWUFDQSxFQUNDLE9BQU8sRUFDTixRQUFRLE9BQU8saUJBQWlCLEdBQUcsU0FBUyxTQUM1QyxFQUNELEdBQ0QsS0FBSyxJQUFJLE1BQU0sTUFBTSxpQkFBaUIsQ0FDdEM7R0FDRCxNQUFNO0dBQ04sZ0JBQ0MsZUFDQSxFQUNDLE9BQU8sRUFDTixRQUFRLE9BQU8saUJBQWlCLEdBQUcsZUFBZSxhQUNsRCxFQUNELEdBQ0QsZ0JBQUUsYUFBYTtJQUNkLE9BQU8sTUFBTSxNQUFNO0lBQ25CLFNBQVMsTUFBTSxNQUFNLE1BQU0sYUFBYTtJQUN4QyxPQUFPLE1BQU0sTUFBTSxvQkFBb0IsdUJBQXVCO0lBQzlELFVBQVUsTUFBTSxNQUFNO0dBQ3RCLEVBQUMsQ0FDRjtFQUNELEVBQ0QsQUFDRCxFQUFDO0NBQ0Y7QUFDRDs7OztJQ2hFWSxnQ0FBTixNQUFr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