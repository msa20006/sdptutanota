import { ProgrammingError } from "./ProgrammingError-chunk.js";
import { isApp } from "./Env-chunk.js";
import { stringToUtf8Uint8Array } from "./dist2-chunk.js";
import { CancelledError } from "./CancelledError-chunk.js";
import { WebauthnError } from "./WebauthnError-chunk.js";

//#region src/common/misc/2fa/webauthn/WebauthnTypes.ts
let COSEAlgorithmIdentifier = function(COSEAlgorithmIdentifier$1) {
	COSEAlgorithmIdentifier$1[COSEAlgorithmIdentifier$1["ES256"] = -7] = "ES256";
	COSEAlgorithmIdentifier$1[COSEAlgorithmIdentifier$1["ES384"] = -35] = "ES384";
	COSEAlgorithmIdentifier$1[COSEAlgorithmIdentifier$1["ES512"] = -36] = "ES512";
	COSEAlgorithmIdentifier$1[COSEAlgorithmIdentifier$1["EdDSA"] = -8] = "EdDSA";
	return COSEAlgorithmIdentifier$1;
}({});

//#endregion
//#region src/common/misc/2fa/webauthn/BrowserWebauthn.ts
const WEBAUTHN_TIMEOUT_MS = 6e4;
var BrowserWebauthn = class {
	/**
	* Relying Party Identifier
	* see https://www.w3.org/TR/webauthn-2/#public-key-credential-source-rpid
	*/
	rpId;
	/** Backward-compatible identifier for the legacy U2F API */
	appId;
	currentOperationSignal = null;
	constructor(api, domainConfig) {
		this.api = api;
		this.rpId = domainConfig.webauthnRpId;
		this.appId = domainConfig.u2fAppId;
	}
	async canAttemptChallengeForRpId(rpId) {
		return rpId === this.rpId;
	}
	async canAttemptChallengeForU2FAppId(appId) {
		return this.appId === appId;
	}
	/**
	* test whether hardware key second factors are supported for this client
	*/
	async isSupported() {
		return !isApp() && this.api != null && !BigInt.polyfilled;
	}
	async register({ challenge, userId, name, displayName }) {
		const publicKeyCredentialCreationOptions = {
			challenge,
			rp: {
				name: "Tutanota",
				id: this.rpId
			},
			user: {
				id: stringToUtf8Uint8Array(userId),
				name,
				displayName
			},
			pubKeyCredParams: [{
				alg: COSEAlgorithmIdentifier.ES256,
				type: "public-key"
			}],
			authenticatorSelection: {
				authenticatorAttachment: "cross-platform",
				userVerification: "discouraged"
			},
			timeout: WEBAUTHN_TIMEOUT_MS,
			attestation: "none"
		};
		this.currentOperationSignal = new AbortController();
		const credential = await this.api.create({
			publicKey: publicKeyCredentialCreationOptions,
			signal: this.currentOperationSignal.signal
		});
		return {
			rpId: this.rpId,
			rawId: new Uint8Array(credential.rawId),
			attestationObject: new Uint8Array(credential.response.attestationObject)
		};
	}
	async sign({ challenge, keys }) {
		const allowCredentials = keys.map((key) => {
			return {
				id: key.id,
				type: "public-key"
			};
		});
		const publicKeyCredentialRequestOptions = {
			challenge,
			rpId: this.rpId,
			allowCredentials,
			extensions: { appid: this.appId },
			userVerification: "discouraged",
			timeout: WEBAUTHN_TIMEOUT_MS
		};
		let assertion;
		this.currentOperationSignal = new AbortController();
		try {
			assertion = await this.api.get({
				publicKey: publicKeyCredentialRequestOptions,
				signal: this.currentOperationSignal.signal
			});
		} catch (e) {
			if (e.name === "AbortError") throw new CancelledError(e);
else throw new WebauthnError(e);
		}
		const publicKeyCredential = assertion;
		if (publicKeyCredential == null) throw new ProgrammingError("Webauthn credential could not be unambiguously resolved");
		const assertionResponse = publicKeyCredential.response;
		return {
			rawId: new Uint8Array(publicKeyCredential.rawId),
			authenticatorData: new Uint8Array(assertionResponse.authenticatorData),
			signature: new Uint8Array(assertionResponse.signature),
			clientDataJSON: new Uint8Array(assertionResponse.clientDataJSON)
		};
	}
	async abortCurrentOperation() {
		this.currentOperationSignal?.abort();
		this.currentOperationSignal = null;
	}
};

//#endregion
export { BrowserWebauthn };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnJvd3NlcldlYmF1dGhuLWNodW5rLmpzIiwibmFtZXMiOlsiYXBpOiBDcmVkZW50aWFsc0NvbnRhaW5lciIsImRvbWFpbkNvbmZpZzogRG9tYWluQ29uZmlnIiwicnBJZDogc3RyaW5nIiwiYXBwSWQ6IHN0cmluZyIsInB1YmxpY0tleUNyZWRlbnRpYWxDcmVhdGlvbk9wdGlvbnM6IFB1YmxpY0tleUNyZWRlbnRpYWxDcmVhdGlvbk9wdGlvbnMiLCJhbGxvd0NyZWRlbnRpYWxzOiBQdWJsaWNLZXlDcmVkZW50aWFsRGVzY3JpcHRvcltdIiwicHVibGljS2V5Q3JlZGVudGlhbFJlcXVlc3RPcHRpb25zOiBQdWJsaWNLZXlDcmVkZW50aWFsUmVxdWVzdE9wdGlvbnMiXSwic291cmNlcyI6WyIuLi9zcmMvY29tbW9uL21pc2MvMmZhL3dlYmF1dGhuL1dlYmF1dGhuVHlwZXMudHMiLCIuLi9zcmMvY29tbW9uL21pc2MvMmZhL3dlYmF1dGhuL0Jyb3dzZXJXZWJhdXRobi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGZpbGUgVHlwZXMgZnJvbSBDcmVkZW50aWFsIE1hbmFnZW1lbnQgQVBJLiAqL1xuXG4vKiogc2VlIGh0dHBzOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL2Nvc2UvY29zZS54aHRtbCNhbGdvcml0aG1zICovXG5leHBvcnQgZW51bSBDT1NFQWxnb3JpdGhtSWRlbnRpZmllciB7XG5cdEVTMjU2ID0gLTcsXG5cdEVTMzg0ID0gLTM1LFxuXHRFUzUxMiA9IC0zNixcblx0RWREU0EgPSAtOCxcbn1cbiIsImltcG9ydCB7IENPU0VBbGdvcml0aG1JZGVudGlmaWVyIH0gZnJvbSBcIi4vV2ViYXV0aG5UeXBlcy5qc1wiXG5pbXBvcnQgeyBQcm9ncmFtbWluZ0Vycm9yIH0gZnJvbSBcIi4uLy4uLy4uL2FwaS9jb21tb24vZXJyb3IvUHJvZ3JhbW1pbmdFcnJvci5qc1wiXG5pbXBvcnQgeyBpc0FwcCB9IGZyb20gXCIuLi8uLi8uLi9hcGkvY29tbW9uL0Vudi5qc1wiXG5pbXBvcnQgeyBXZWJBdXRobkZhY2FkZSB9IGZyb20gXCIuLi8uLi8uLi9uYXRpdmUvY29tbW9uL2dlbmVyYXRlZGlwYy9XZWJBdXRobkZhY2FkZS5qc1wiXG5pbXBvcnQgeyBzdHJpbmdUb1V0ZjhVaW50OEFycmF5IH0gZnJvbSBcIkB0dXRhby90dXRhbm90YS11dGlsc1wiXG5pbXBvcnQgeyBDYW5jZWxsZWRFcnJvciB9IGZyb20gXCIuLi8uLi8uLi9hcGkvY29tbW9uL2Vycm9yL0NhbmNlbGxlZEVycm9yLmpzXCJcbmltcG9ydCB7IFdlYmF1dGhuRXJyb3IgfSBmcm9tIFwiLi4vLi4vLi4vYXBpL2NvbW1vbi9lcnJvci9XZWJhdXRobkVycm9yLmpzXCJcbmltcG9ydCB7IFdlYkF1dGhuUmVnaXN0cmF0aW9uQ2hhbGxlbmdlIH0gZnJvbSBcIi4uLy4uLy4uL25hdGl2ZS9jb21tb24vZ2VuZXJhdGVkaXBjL1dlYkF1dGhuUmVnaXN0cmF0aW9uQ2hhbGxlbmdlLmpzXCJcbmltcG9ydCB7IFdlYkF1dGhuUmVnaXN0cmF0aW9uUmVzdWx0IH0gZnJvbSBcIi4uLy4uLy4uL25hdGl2ZS9jb21tb24vZ2VuZXJhdGVkaXBjL1dlYkF1dGhuUmVnaXN0cmF0aW9uUmVzdWx0LmpzXCJcbmltcG9ydCB7IFdlYkF1dGhuU2lnbkNoYWxsZW5nZSB9IGZyb20gXCIuLi8uLi8uLi9uYXRpdmUvY29tbW9uL2dlbmVyYXRlZGlwYy9XZWJBdXRoblNpZ25DaGFsbGVuZ2UuanNcIlxuaW1wb3J0IHsgV2ViQXV0aG5TaWduUmVzdWx0IH0gZnJvbSBcIi4uLy4uLy4uL25hdGl2ZS9jb21tb24vZ2VuZXJhdGVkaXBjL1dlYkF1dGhuU2lnblJlc3VsdC5qc1wiXG5cbmNvbnN0IFdFQkFVVEhOX1RJTUVPVVRfTVMgPSA2MDAwMFxuXG4vKiogQW4gYWN0dWFsIHdlYmF1dGhuIGltcGxlbWVudGF0aW9uIGluIGJyb3dzZXIuICovXG5leHBvcnQgY2xhc3MgQnJvd3NlcldlYmF1dGhuIGltcGxlbWVudHMgV2ViQXV0aG5GYWNhZGUge1xuXHQvKipcblx0ICogUmVseWluZyBQYXJ0eSBJZGVudGlmaWVyXG5cdCAqIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvd2ViYXV0aG4tMi8jcHVibGljLWtleS1jcmVkZW50aWFsLXNvdXJjZS1ycGlkXG5cdCAqL1xuXHRwcml2YXRlIHJlYWRvbmx5IHJwSWQ6IHN0cmluZ1xuXHQvKiogQmFja3dhcmQtY29tcGF0aWJsZSBpZGVudGlmaWVyIGZvciB0aGUgbGVnYWN5IFUyRiBBUEkgKi9cblx0cHJpdmF0ZSByZWFkb25seSBhcHBJZDogc3RyaW5nXG5cdHByaXZhdGUgY3VycmVudE9wZXJhdGlvblNpZ25hbDogQWJvcnRDb250cm9sbGVyIHwgbnVsbCA9IG51bGxcblxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGFwaTogQ3JlZGVudGlhbHNDb250YWluZXIsIGRvbWFpbkNvbmZpZzogRG9tYWluQ29uZmlnKSB7XG5cdFx0dGhpcy5ycElkID0gZG9tYWluQ29uZmlnLndlYmF1dGhuUnBJZFxuXHRcdHRoaXMuYXBwSWQgPSBkb21haW5Db25maWcudTJmQXBwSWRcblx0fVxuXG5cdGFzeW5jIGNhbkF0dGVtcHRDaGFsbGVuZ2VGb3JScElkKHJwSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHJldHVybiBycElkID09PSB0aGlzLnJwSWRcblx0fVxuXG5cdGFzeW5jIGNhbkF0dGVtcHRDaGFsbGVuZ2VGb3JVMkZBcHBJZChhcHBJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIHRoaXMuYXBwSWQgPT09IGFwcElkXG5cdH1cblxuXHQvKipcblx0ICogdGVzdCB3aGV0aGVyIGhhcmR3YXJlIGtleSBzZWNvbmQgZmFjdG9ycyBhcmUgc3VwcG9ydGVkIGZvciB0aGlzIGNsaWVudFxuXHQgKi9cblx0YXN5bmMgaXNTdXBwb3J0ZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIChcblx0XHRcdCFpc0FwcCgpICYmXG5cdFx0XHR0aGlzLmFwaSAhPSBudWxsICYmXG5cdFx0XHQvLyBAdHMtaWdub3JlIHNlZSBwb2x5ZmlsbC5qc1xuXHRcdFx0Ly8gV2UganVzdCBzdHViIEJpZ0ludCBpbiBvcmRlciB0byBpbXBvcnQgY2Jvcmcgd2l0aG91dCBpc3N1ZXMgYnV0IHdlIGNhbid0IGFjdHVhbGx5IHVzZSBpdFxuXHRcdFx0IUJpZ0ludC5wb2x5ZmlsbGVkXG5cdFx0KVxuXHR9XG5cblx0YXN5bmMgcmVnaXN0ZXIoeyBjaGFsbGVuZ2UsIHVzZXJJZCwgbmFtZSwgZGlzcGxheU5hbWUgfTogV2ViQXV0aG5SZWdpc3RyYXRpb25DaGFsbGVuZ2UpOiBQcm9taXNlPFdlYkF1dGhuUmVnaXN0cmF0aW9uUmVzdWx0PiB7XG5cdFx0Y29uc3QgcHVibGljS2V5Q3JlZGVudGlhbENyZWF0aW9uT3B0aW9uczogUHVibGljS2V5Q3JlZGVudGlhbENyZWF0aW9uT3B0aW9ucyA9IHtcblx0XHRcdGNoYWxsZW5nZSxcblx0XHRcdHJwOiB7XG5cdFx0XHRcdG5hbWU6IFwiVHV0YW5vdGFcIixcblx0XHRcdFx0aWQ6IHRoaXMucnBJZCxcblx0XHRcdH0sXG5cdFx0XHR1c2VyOiB7XG5cdFx0XHRcdGlkOiBzdHJpbmdUb1V0ZjhVaW50OEFycmF5KHVzZXJJZCksXG5cdFx0XHRcdG5hbWUsXG5cdFx0XHRcdGRpc3BsYXlOYW1lLFxuXHRcdFx0fSxcblx0XHRcdHB1YktleUNyZWRQYXJhbXM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGFsZzogQ09TRUFsZ29yaXRobUlkZW50aWZpZXIuRVMyNTYsXG5cdFx0XHRcdFx0dHlwZTogXCJwdWJsaWMta2V5XCIsXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdFx0YXV0aGVudGljYXRvclNlbGVjdGlvbjoge1xuXHRcdFx0XHRhdXRoZW50aWNhdG9yQXR0YWNobWVudDogXCJjcm9zcy1wbGF0Zm9ybVwiLFxuXHRcdFx0XHR1c2VyVmVyaWZpY2F0aW9uOiBcImRpc2NvdXJhZ2VkXCIsXG5cdFx0XHR9LFxuXHRcdFx0dGltZW91dDogV0VCQVVUSE5fVElNRU9VVF9NUyxcblx0XHRcdGF0dGVzdGF0aW9uOiBcIm5vbmVcIixcblx0XHR9XG5cdFx0dGhpcy5jdXJyZW50T3BlcmF0aW9uU2lnbmFsID0gbmV3IEFib3J0Q29udHJvbGxlcigpXG5cdFx0Y29uc3QgY3JlZGVudGlhbCA9IChhd2FpdCB0aGlzLmFwaS5jcmVhdGUoe1xuXHRcdFx0cHVibGljS2V5OiBwdWJsaWNLZXlDcmVkZW50aWFsQ3JlYXRpb25PcHRpb25zLFxuXHRcdFx0c2lnbmFsOiB0aGlzLmN1cnJlbnRPcGVyYXRpb25TaWduYWwuc2lnbmFsLFxuXHRcdH0pKSBhcyBQdWJsaWNLZXlDcmVkZW50aWFsXG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0cnBJZDogdGhpcy5ycElkLFxuXHRcdFx0cmF3SWQ6IG5ldyBVaW50OEFycmF5KGNyZWRlbnRpYWwucmF3SWQpLFxuXHRcdFx0YXR0ZXN0YXRpb25PYmplY3Q6IG5ldyBVaW50OEFycmF5KChjcmVkZW50aWFsLnJlc3BvbnNlIGFzIEF1dGhlbnRpY2F0b3JBdHRlc3RhdGlvblJlc3BvbnNlKS5hdHRlc3RhdGlvbk9iamVjdCksXG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgc2lnbih7IGNoYWxsZW5nZSwga2V5cyB9OiBXZWJBdXRoblNpZ25DaGFsbGVuZ2UpOiBQcm9taXNlPFdlYkF1dGhuU2lnblJlc3VsdD4ge1xuXHRcdGNvbnN0IGFsbG93Q3JlZGVudGlhbHM6IFB1YmxpY0tleUNyZWRlbnRpYWxEZXNjcmlwdG9yW10gPSBrZXlzLm1hcCgoa2V5KSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRpZDoga2V5LmlkLFxuXHRcdFx0XHR0eXBlOiBcInB1YmxpYy1rZXlcIixcblx0XHRcdH1cblx0XHR9KVxuXHRcdGNvbnN0IHB1YmxpY0tleUNyZWRlbnRpYWxSZXF1ZXN0T3B0aW9uczogUHVibGljS2V5Q3JlZGVudGlhbFJlcXVlc3RPcHRpb25zID0ge1xuXHRcdFx0Y2hhbGxlbmdlOiBjaGFsbGVuZ2UsXG5cdFx0XHRycElkOiB0aGlzLnJwSWQsXG5cdFx0XHRhbGxvd0NyZWRlbnRpYWxzLFxuXHRcdFx0ZXh0ZW5zaW9uczoge1xuXHRcdFx0XHRhcHBpZDogdGhpcy5hcHBJZCxcblx0XHRcdH0sXG5cdFx0XHR1c2VyVmVyaWZpY2F0aW9uOiBcImRpc2NvdXJhZ2VkXCIsXG5cdFx0XHR0aW1lb3V0OiBXRUJBVVRITl9USU1FT1VUX01TLFxuXHRcdH1cblx0XHRsZXQgYXNzZXJ0aW9uXG5cblx0XHR0aGlzLmN1cnJlbnRPcGVyYXRpb25TaWduYWwgPSBuZXcgQWJvcnRDb250cm9sbGVyKClcblx0XHR0cnkge1xuXHRcdFx0YXNzZXJ0aW9uID0gYXdhaXQgdGhpcy5hcGkuZ2V0KHtcblx0XHRcdFx0cHVibGljS2V5OiBwdWJsaWNLZXlDcmVkZW50aWFsUmVxdWVzdE9wdGlvbnMsXG5cdFx0XHRcdHNpZ25hbDogdGhpcy5jdXJyZW50T3BlcmF0aW9uU2lnbmFsLnNpZ25hbCxcblx0XHRcdH0pXG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKGUubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHtcblx0XHRcdFx0dGhyb3cgbmV3IENhbmNlbGxlZEVycm9yKGUpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBuZXcgV2ViYXV0aG5FcnJvcihlKVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IHB1YmxpY0tleUNyZWRlbnRpYWwgPSBhc3NlcnRpb24gYXMgUHVibGljS2V5Q3JlZGVudGlhbCB8IG51bGxcblxuXHRcdGlmIChwdWJsaWNLZXlDcmVkZW50aWFsID09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBQcm9ncmFtbWluZ0Vycm9yKFwiV2ViYXV0aG4gY3JlZGVudGlhbCBjb3VsZCBub3QgYmUgdW5hbWJpZ3VvdXNseSByZXNvbHZlZFwiKVxuXHRcdH1cblx0XHRjb25zdCBhc3NlcnRpb25SZXNwb25zZSA9IHB1YmxpY0tleUNyZWRlbnRpYWwucmVzcG9uc2UgYXMgQXV0aGVudGljYXRvckFzc2VydGlvblJlc3BvbnNlXG5cdFx0cmV0dXJuIHtcblx0XHRcdHJhd0lkOiBuZXcgVWludDhBcnJheShwdWJsaWNLZXlDcmVkZW50aWFsLnJhd0lkKSxcblx0XHRcdGF1dGhlbnRpY2F0b3JEYXRhOiBuZXcgVWludDhBcnJheShhc3NlcnRpb25SZXNwb25zZS5hdXRoZW50aWNhdG9yRGF0YSksXG5cdFx0XHRzaWduYXR1cmU6IG5ldyBVaW50OEFycmF5KGFzc2VydGlvblJlc3BvbnNlLnNpZ25hdHVyZSksXG5cdFx0XHRjbGllbnREYXRhSlNPTjogbmV3IFVpbnQ4QXJyYXkoYXNzZXJ0aW9uUmVzcG9uc2UuY2xpZW50RGF0YUpTT04pLFxuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGFib3J0Q3VycmVudE9wZXJhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLmN1cnJlbnRPcGVyYXRpb25TaWduYWw/LmFib3J0KClcblx0XHR0aGlzLmN1cnJlbnRPcGVyYXRpb25TaWduYWwgPSBudWxsXG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztJQUdZLDhEQUFMO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7Ozs7QUNJRCxNQUFNLHNCQUFzQjtJQUdmLGtCQUFOLE1BQWdEOzs7OztDQUt0RCxBQUFpQjs7Q0FFakIsQUFBaUI7Q0FDakIsQUFBUSx5QkFBaUQ7Q0FFekQsWUFBNkJBLEtBQTJCQyxjQUE0QjtFQW9IcEYsS0FwSDZCO0FBQzVCLE9BQUssT0FBTyxhQUFhO0FBQ3pCLE9BQUssUUFBUSxhQUFhO0NBQzFCO0NBRUQsTUFBTSwyQkFBMkJDLE1BQWdDO0FBQ2hFLFNBQU8sU0FBUyxLQUFLO0NBQ3JCO0NBRUQsTUFBTSwrQkFBK0JDLE9BQWlDO0FBQ3JFLFNBQU8sS0FBSyxVQUFVO0NBQ3RCOzs7O0NBS0QsTUFBTSxjQUFnQztBQUNyQyxVQUNFLE9BQU8sSUFDUixLQUFLLE9BQU8sU0FHWCxPQUFPO0NBRVQ7Q0FFRCxNQUFNLFNBQVMsRUFBRSxXQUFXLFFBQVEsTUFBTSxhQUE0QyxFQUF1QztFQUM1SCxNQUFNQyxxQ0FBeUU7R0FDOUU7R0FDQSxJQUFJO0lBQ0gsTUFBTTtJQUNOLElBQUksS0FBSztHQUNUO0dBQ0QsTUFBTTtJQUNMLElBQUksdUJBQXVCLE9BQU87SUFDbEM7SUFDQTtHQUNBO0dBQ0Qsa0JBQWtCLENBQ2pCO0lBQ0MsS0FBSyx3QkFBd0I7SUFDN0IsTUFBTTtHQUNOLENBQ0Q7R0FDRCx3QkFBd0I7SUFDdkIseUJBQXlCO0lBQ3pCLGtCQUFrQjtHQUNsQjtHQUNELFNBQVM7R0FDVCxhQUFhO0VBQ2I7QUFDRCxPQUFLLHlCQUF5QixJQUFJO0VBQ2xDLE1BQU0sYUFBYyxNQUFNLEtBQUssSUFBSSxPQUFPO0dBQ3pDLFdBQVc7R0FDWCxRQUFRLEtBQUssdUJBQXVCO0VBQ3BDLEVBQUM7QUFFRixTQUFPO0dBQ04sTUFBTSxLQUFLO0dBQ1gsT0FBTyxJQUFJLFdBQVcsV0FBVztHQUNqQyxtQkFBbUIsSUFBSSxXQUFZLFdBQVcsU0FBOEM7RUFDNUY7Q0FDRDtDQUVELE1BQU0sS0FBSyxFQUFFLFdBQVcsTUFBNkIsRUFBK0I7RUFDbkYsTUFBTUMsbUJBQW9ELEtBQUssSUFBSSxDQUFDLFFBQVE7QUFDM0UsVUFBTztJQUNOLElBQUksSUFBSTtJQUNSLE1BQU07R0FDTjtFQUNELEVBQUM7RUFDRixNQUFNQyxvQ0FBdUU7R0FDakU7R0FDWCxNQUFNLEtBQUs7R0FDWDtHQUNBLFlBQVksRUFDWCxPQUFPLEtBQUssTUFDWjtHQUNELGtCQUFrQjtHQUNsQixTQUFTO0VBQ1Q7RUFDRCxJQUFJO0FBRUosT0FBSyx5QkFBeUIsSUFBSTtBQUNsQyxNQUFJO0FBQ0gsZUFBWSxNQUFNLEtBQUssSUFBSSxJQUFJO0lBQzlCLFdBQVc7SUFDWCxRQUFRLEtBQUssdUJBQXVCO0dBQ3BDLEVBQUM7RUFDRixTQUFRLEdBQUc7QUFDWCxPQUFJLEVBQUUsU0FBUyxhQUNkLE9BQU0sSUFBSSxlQUFlO0lBRXpCLE9BQU0sSUFBSSxjQUFjO0VBRXpCO0VBRUQsTUFBTSxzQkFBc0I7QUFFNUIsTUFBSSx1QkFBdUIsS0FDMUIsT0FBTSxJQUFJLGlCQUFpQjtFQUU1QixNQUFNLG9CQUFvQixvQkFBb0I7QUFDOUMsU0FBTztHQUNOLE9BQU8sSUFBSSxXQUFXLG9CQUFvQjtHQUMxQyxtQkFBbUIsSUFBSSxXQUFXLGtCQUFrQjtHQUNwRCxXQUFXLElBQUksV0FBVyxrQkFBa0I7R0FDNUMsZ0JBQWdCLElBQUksV0FBVyxrQkFBa0I7RUFDakQ7Q0FDRDtDQUVELE1BQU0sd0JBQXVDO0FBQzVDLE9BQUssd0JBQXdCLE9BQU87QUFDcEMsT0FBSyx5QkFBeUI7Q0FDOUI7QUFDRCJ9