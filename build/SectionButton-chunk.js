import { mithril_default } from "./mithril-chunk.js";
import { lang } from "./LanguageViewModel-chunk.js";
import { Keys, TabIndex } from "./TutanotaConstants-chunk.js";
import { isKeyPressed } from "./KeyManager-chunk.js";
import { BaseButton, ButtonColor, getColors } from "./Button-chunk.js";
import { Icons } from "./Icons-chunk.js";
import { Icon, IconSize } from "./Icon-chunk.js";
import { AriaRole } from "./AriaUtils-chunk.js";

//#region src/common/gui/base/Card.ts
var Card = class {
	view({ attrs, children }) {
		return mithril_default(`${attrs.rootElementType ?? "div"}.tutaui-card-container${attrs.shouldDivide ? ".tutaui-card-container-divide" : ""}`, {
			class: attrs.classes?.join(" "),
			style: attrs.style
		}, children);
	}
};

//#endregion
//#region src/common/gui/base/Switch.ts
var Switch = class {
	checkboxDom;
	view({ attrs: { disabled, variant, ariaLabel, checked, onclick, togglePillPosition, classes }, children }) {
		const childrenArr = [children, this.buildTogglePillComponent(checked, onclick, disabled)];
		if (togglePillPosition === "left") childrenArr.reverse();
		return mithril_default("label.tutaui-switch.flash", {
			class: this.resolveClasses(classes, disabled, variant),
			role: AriaRole.Switch,
			ariaLabel,
			ariaChecked: String(checked),
			ariaDisabled: disabled ? "true" : undefined,
			tabIndex: Number(disabled ? TabIndex.Programmatic : TabIndex.Default),
			onkeydown: (e) => {
				if (isKeyPressed(e.key, Keys.SPACE, Keys.RETURN)) {
					e.preventDefault();
					this.checkboxDom?.click();
				}
			}
		}, childrenArr);
	}
	buildTogglePillComponent(checked = false, onclick, disabled) {
		return mithril_default("span.tutaui-toggle-pill", { class: this.checkboxDom?.checked ? "checked" : "unchecked" }, mithril_default("input[type='checkbox']", {
			role: AriaRole.Switch,
			onclick: () => {
				onclick(this.checkboxDom?.checked ?? false);
			},
			oncreate: ({ dom }) => {
				this.checkboxDom = dom;
				this.checkboxDom.checked = checked;
			},
			tabIndex: TabIndex.Programmatic,
			disabled: disabled ? true : undefined
		}));
	}
	resolveClasses(classes = [], disabled = false, variant = "normal") {
		const classList = [...classes];
		if (disabled) classList.push("disabled", "click-disabled");
else classList.push("click");
		if (variant === "expanded") classList.push("justify-between", "full-width");
else classList.push("fit-content");
		return classList.join(" ");
	}
};

//#endregion
//#region src/common/gui/base/buttons/SectionButton.ts
var SectionButton = class {
	view(vnode) {
		const { leftIcon, injectionLeft, onclick, injectionRight, rightIcon, isDisabled, text } = vnode.attrs;
		const leftPart = mithril_default.fragment({}, [leftIcon == null ? null : mithril_default(Icon, {
			icon: leftIcon.icon,
			style: { fill: leftIcon.fill ?? getColors(ButtonColor.Content).button },
			title: lang.get(leftIcon.title),
			size: IconSize.Medium
		}), injectionLeft == null ? null : injectionLeft]);
		const rightPart = mithril_default.fragment({}, [injectionRight == null ? null : injectionRight, rightIcon == null ? mithril_default(Icon, {
			icon: Icons.ArrowForward,
			style: { fill: getColors(ButtonColor.Content).button },
			title: lang.get("next_action"),
			size: IconSize.Medium
		}) : mithril_default(Icon, {
			icon: rightIcon.icon,
			style: { fill: rightIcon.fill ?? getColors(ButtonColor.Content).button },
			title: lang.get(rightIcon.title),
			size: IconSize.Medium
		})]);
		return mithril_default(BaseButton, {
			class: `flash button-min-height flex items-center full-width ${vnode.attrs.classes ?? ""}`,
			label: text,
			disabled: isDisabled,
			role: AriaRole.MenuItem,
			onclick
		}, mithril_default(Card, { classes: [
			"flex",
			"justify-between",
			"flex-grow",
			"items-start"
		] }, [
			leftIcon || injectionLeft ? mithril_default(".flex.items-center.mr-s", [leftPart]) : null,
			mithril_default("span.flex-grow.full-width.white-space", lang.getTranslationText(text)),
			rightPart
		]));
	}
};

//#endregion
export { Card, SectionButton, Switch };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VjdGlvbkJ1dHRvbi1jaHVuay5qcyIsIm5hbWVzIjpbImU6IEtleWJvYXJkRXZlbnQiLCJjaGVja2VkOiBib29sZWFuIiwib25jbGljazogKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHVua25vd24iLCJkaXNhYmxlZDogYm9vbGVhbiB8IHVuZGVmaW5lZCIsImNsYXNzZXM6IEFycmF5PHN0cmluZz4iLCJkaXNhYmxlZDogYm9vbGVhbiIsInZhcmlhbnQ6IFN3aXRjaFZhcmlhbnQiLCJ2bm9kZTogVm5vZGU8U2VjdGlvbkJ1dHRvbkF0dHJzPiJdLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tb24vZ3VpL2Jhc2UvQ2FyZC50cyIsIi4uL3NyYy9jb21tb24vZ3VpL2Jhc2UvU3dpdGNoLnRzIiwiLi4vc3JjL2NvbW1vbi9ndWkvYmFzZS9idXR0b25zL1NlY3Rpb25CdXR0b24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG0sIHsgQ2hpbGRyZW4sIENsYXNzQ29tcG9uZW50LCBWbm9kZSB9IGZyb20gXCJtaXRocmlsXCJcblxuZXhwb3J0IGludGVyZmFjZSBDYXJkQXR0cnMge1xuXHRyb290RWxlbWVudFR5cGU/OiBcImRpdlwiIHwgXCJzZWN0aW9uXCJcblx0Y2xhc3Nlcz86IEFycmF5PHN0cmluZz5cblx0c3R5bGU/OiBQYXJ0aWFsPFBpY2s8Q1NTU3R5bGVEZWNsYXJhdGlvbiwgXCJwYWRkaW5nXCI+PlxuXHRzaG91bGREaXZpZGU/OiBib29sZWFuXG59XG5cbnR5cGUgSFRNTEVsZW1lbnRXaXRoQXR0cnMgPSBQYXJ0aWFsPFBpY2s8bS5BdHRyaWJ1dGVzLCBcImNsYXNzXCI+ICYgT21pdDxIVE1MRWxlbWVudCwgXCJzdHlsZVwiPiAmIENhcmRBdHRycz5cblxuLyoqXG4gKiBTaW1wbGUgY2FyZCBjb21wb25lbnRcbiAqIEBzZWUgQ29tcG9uZW50IGF0dHJpYnV0ZXM6IHtDYXJkQXR0cnN9XG4gKiBAZXhhbXBsZVxuICogbShDYXJkLCB7XG4gKiAgICAgcm9vdEVsZW1lbnRUeXBlOiBcInNlY3Rpb25cIiwgLy8gQ2hhbmdpbmcgdGhlIGRlZmF1bHQgcm9vdCBlbGVtZW50XG4gKiAgICAgY2xhc3NlczogW1wibXRcIl0sIC8vIEFkZGluZyBuZXcgc3R5bGVzXG4gKiAgICAgc3R5bGU6IHtcbiAqICAgICAgICAgXCJmb250LXNpemVcIjogcHgoc2l6ZS5mb250X3NpemVfYmFzZSAqIDEuMjUpIC8vIE92ZXJyaWRpbmcgdGhlIGNvbXBvbmVudCBzdHlsZVxuICogICAgIH1cbiAqIH0sIG0oXCJzcGFuXCIsIFwiQ2hpbGQgc3BhbiB0ZXh0XCIpKSxcbiAqL1xuZXhwb3J0IGNsYXNzIENhcmQgaW1wbGVtZW50cyBDbGFzc0NvbXBvbmVudDxDYXJkQXR0cnM+IHtcblx0dmlldyh7IGF0dHJzLCBjaGlsZHJlbiB9OiBWbm9kZTxDYXJkQXR0cnMsIHRoaXM+KTogQ2hpbGRyZW4gfCB2b2lkIHwgbnVsbCB7XG5cdFx0cmV0dXJuIG0oXG5cdFx0XHRgJHthdHRycy5yb290RWxlbWVudFR5cGUgPz8gXCJkaXZcIn0udHV0YXVpLWNhcmQtY29udGFpbmVyJHthdHRycy5zaG91bGREaXZpZGUgPyBcIi50dXRhdWktY2FyZC1jb250YWluZXItZGl2aWRlXCIgOiBcIlwifWAsXG5cdFx0XHR7XG5cdFx0XHRcdGNsYXNzOiBhdHRycy5jbGFzc2VzPy5qb2luKFwiIFwiKSxcblx0XHRcdFx0c3R5bGU6IGF0dHJzLnN0eWxlLFxuXHRcdFx0fSBzYXRpc2ZpZXMgSFRNTEVsZW1lbnRXaXRoQXR0cnMsXG5cdFx0XHRjaGlsZHJlbixcblx0XHQpXG5cdH1cbn1cbiIsImltcG9ydCBtLCB7IENsYXNzQ29tcG9uZW50LCBWbm9kZSwgVm5vZGVET00gfSBmcm9tIFwibWl0aHJpbFwiXG5pbXBvcnQgeyBLZXlzLCBUYWJJbmRleCB9IGZyb20gXCIuLi8uLi9hcGkvY29tbW9uL1R1dGFub3RhQ29uc3RhbnRzLmpzXCJcbmltcG9ydCB7IGlzS2V5UHJlc3NlZCB9IGZyb20gXCIuLi8uLi9taXNjL0tleU1hbmFnZXIuanNcIlxuaW1wb3J0IHsgQXJpYVJvbGUgfSBmcm9tIFwiLi4vQXJpYVV0aWxzLmpzXCJcblxudHlwZSBTd2l0Y2hWYXJpYW50ID0gXCJub3JtYWxcIiB8IFwiZXhwYW5kZWRcIlxudHlwZSBUb2dnbGVQaWxsUG9zaXRpb24gPSBcImxlZnRcIiB8IFwicmlnaHRcIlxudHlwZSBIVE1MRWxlbWVudFdpdGhBdHRycyA9IFBhcnRpYWw8UGljazxtLkF0dHJpYnV0ZXMsIFwiY2xhc3NcIj4gJiBPbWl0PEhUTUxFbGVtZW50LCBcInN0eWxlXCI+ICYgU3dpdGNoQXR0cnM+XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3dpdGNoQXR0cnMge1xuXHRjaGVja2VkOiBib29sZWFuXG5cdG9uY2xpY2s6IChjaGVja2VkOiBib29sZWFuKSA9PiB1bmtub3duXG5cdGFyaWFMYWJlbDogc3RyaW5nXG5cdGRpc2FibGVkPzogYm9vbGVhblxuXHR0b2dnbGVQaWxsUG9zaXRpb24/OiBUb2dnbGVQaWxsUG9zaXRpb25cblx0Y2xhc3Nlcz86IEFycmF5PHN0cmluZz5cblx0dmFyaWFudD86IFN3aXRjaFZhcmlhbnRcbn1cblxuLyoqXG4gKiBTd2l0Y2ggY29tcG9uZW50IHdpdGggdmFyaWFudHNcbiAqIEBzZWUgQ29tcG9uZW50IGF0dHJpYnV0ZXM6IHtTd2l0Y2hBdHRyc31cbiAqIEBleGFtcGxlXG4gKiBtKFN3aXRjaCxcbiAqICAgICB7XG4gKiAgICAgICAgIGNsYXNzZXM6IFtcIm15LWN1c3RvbS1zd2l0Y2gtY2xhc3NcIl0sXG4gKiAgICAgICAgIGNoZWNrZWQ6IHRoaXMuY2hlY2tlZCxcbiAqICAgICAgICAgb25jbGljazogKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAqICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IGNoZWNrZWRcbiAqICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hlY2tlZClcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgdG9nZ2xlUGlsbFBvc2l0aW9uOiBcInJpZ2h0XCIsXG4gKiAgICAgICAgIGFyaWFMYWJlbDogXCJUZXN0IFN3aXRjaFwiLFxuICogICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gKiAgICAgICAgIHZhcmlhbnQ6IFwibm9ybWFsXCIsXG4gKiAgICAgfSxcbiAqICAgICBcIk15IGxhYmVsXCIsXG4gKiApLFxuICovXG5leHBvcnQgY2xhc3MgU3dpdGNoIGltcGxlbWVudHMgQ2xhc3NDb21wb25lbnQ8U3dpdGNoQXR0cnM+IHtcblx0cHJpdmF0ZSBjaGVja2JveERvbT86IEhUTUxJbnB1dEVsZW1lbnRcblxuXHR2aWV3KHsgYXR0cnM6IHsgZGlzYWJsZWQsIHZhcmlhbnQsIGFyaWFMYWJlbCwgY2hlY2tlZCwgb25jbGljaywgdG9nZ2xlUGlsbFBvc2l0aW9uLCBjbGFzc2VzIH0sIGNoaWxkcmVuIH06IFZub2RlPFN3aXRjaEF0dHJzPikge1xuXHRcdGNvbnN0IGNoaWxkcmVuQXJyID0gW2NoaWxkcmVuLCB0aGlzLmJ1aWxkVG9nZ2xlUGlsbENvbXBvbmVudChjaGVja2VkLCBvbmNsaWNrLCBkaXNhYmxlZCldXG5cdFx0aWYgKHRvZ2dsZVBpbGxQb3NpdGlvbiA9PT0gXCJsZWZ0XCIpIHtcblx0XHRcdGNoaWxkcmVuQXJyLnJldmVyc2UoKVxuXHRcdH1cblxuXHRcdHJldHVybiBtKFxuXHRcdFx0XCJsYWJlbC50dXRhdWktc3dpdGNoLmZsYXNoXCIsXG5cdFx0XHR7XG5cdFx0XHRcdGNsYXNzOiB0aGlzLnJlc29sdmVDbGFzc2VzKGNsYXNzZXMsIGRpc2FibGVkLCB2YXJpYW50KSxcblx0XHRcdFx0cm9sZTogQXJpYVJvbGUuU3dpdGNoLFxuXHRcdFx0XHRhcmlhTGFiZWw6IGFyaWFMYWJlbCxcblx0XHRcdFx0YXJpYUNoZWNrZWQ6IFN0cmluZyhjaGVja2VkKSxcblx0XHRcdFx0YXJpYURpc2FibGVkOiBkaXNhYmxlZCA/IFwidHJ1ZVwiIDogdW5kZWZpbmVkLFxuXHRcdFx0XHR0YWJJbmRleDogTnVtYmVyKGRpc2FibGVkID8gVGFiSW5kZXguUHJvZ3JhbW1hdGljIDogVGFiSW5kZXguRGVmYXVsdCksXG5cdFx0XHRcdG9ua2V5ZG93bjogKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcblx0XHRcdFx0XHRpZiAoaXNLZXlQcmVzc2VkKGUua2V5LCBLZXlzLlNQQUNFLCBLZXlzLlJFVFVSTikpIHtcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdFx0XHRcdFx0dGhpcy5jaGVja2JveERvbT8uY2xpY2soKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdH0gc2F0aXNmaWVzIEhUTUxFbGVtZW50V2l0aEF0dHJzLFxuXHRcdFx0Y2hpbGRyZW5BcnIsXG5cdFx0KVxuXHR9XG5cblx0cHJpdmF0ZSBidWlsZFRvZ2dsZVBpbGxDb21wb25lbnQoY2hlY2tlZDogYm9vbGVhbiA9IGZhbHNlLCBvbmNsaWNrOiAoY2hlY2tlZDogYm9vbGVhbikgPT4gdW5rbm93biwgZGlzYWJsZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gbShcblx0XHRcdFwic3Bhbi50dXRhdWktdG9nZ2xlLXBpbGxcIixcblx0XHRcdHtcblx0XHRcdFx0Y2xhc3M6IHRoaXMuY2hlY2tib3hEb20/LmNoZWNrZWQgPyBcImNoZWNrZWRcIiA6IFwidW5jaGVja2VkXCIsXG5cdFx0XHR9LFxuXHRcdFx0bShcImlucHV0W3R5cGU9J2NoZWNrYm94J11cIiwge1xuXHRcdFx0XHRyb2xlOiBBcmlhUm9sZS5Td2l0Y2gsXG5cdFx0XHRcdG9uY2xpY2s6ICgpID0+IHtcblx0XHRcdFx0XHRvbmNsaWNrKHRoaXMuY2hlY2tib3hEb20/LmNoZWNrZWQgPz8gZmFsc2UpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9uY3JlYXRlOiAoeyBkb20gfTogVm5vZGVET008SFRNTElucHV0RWxlbWVudD4pID0+IHtcblx0XHRcdFx0XHR0aGlzLmNoZWNrYm94RG9tID0gZG9tIGFzIEhUTUxJbnB1dEVsZW1lbnRcblx0XHRcdFx0XHR0aGlzLmNoZWNrYm94RG9tLmNoZWNrZWQgPSBjaGVja2VkXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRhYkluZGV4OiBUYWJJbmRleC5Qcm9ncmFtbWF0aWMsXG5cdFx0XHRcdGRpc2FibGVkOiBkaXNhYmxlZCA/IHRydWUgOiB1bmRlZmluZWQsXG5cdFx0XHR9KSxcblx0XHQpXG5cdH1cblxuXHRwcml2YXRlIHJlc29sdmVDbGFzc2VzKGNsYXNzZXM6IEFycmF5PHN0cmluZz4gPSBbXSwgZGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZSwgdmFyaWFudDogU3dpdGNoVmFyaWFudCA9IFwibm9ybWFsXCIpIHtcblx0XHRjb25zdCBjbGFzc0xpc3QgPSBbLi4uY2xhc3Nlc11cblxuXHRcdGlmIChkaXNhYmxlZCkgY2xhc3NMaXN0LnB1c2goXCJkaXNhYmxlZFwiLCBcImNsaWNrLWRpc2FibGVkXCIpXG5cdFx0ZWxzZSBjbGFzc0xpc3QucHVzaChcImNsaWNrXCIpXG5cblx0XHRpZiAodmFyaWFudCA9PT0gXCJleHBhbmRlZFwiKSBjbGFzc0xpc3QucHVzaChcImp1c3RpZnktYmV0d2VlblwiLCBcImZ1bGwtd2lkdGhcIilcblx0XHRlbHNlIGNsYXNzTGlzdC5wdXNoKFwiZml0LWNvbnRlbnRcIilcblxuXHRcdHJldHVybiBjbGFzc0xpc3Quam9pbihcIiBcIilcblx0fVxufVxuIiwiaW1wb3J0IHsgQWxsSWNvbnMsIEljb24sIEljb25TaXplIH0gZnJvbSBcIi4uL0ljb24uanNcIlxuaW1wb3J0IHsgbGFuZywgTWF5YmVUcmFuc2xhdGlvbiwgVHJhbnNsYXRpb25LZXkgfSBmcm9tIFwiLi4vLi4vLi4vbWlzYy9MYW5ndWFnZVZpZXdNb2RlbC5qc1wiXG5pbXBvcnQgbSwgeyBDaGlsZHJlbiwgQ29tcG9uZW50LCBWbm9kZSB9IGZyb20gXCJtaXRocmlsXCJcbmltcG9ydCB7IENsaWNrSGFuZGxlciB9IGZyb20gXCIuLi9HdWlVdGlscy5qc1wiXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL0NhcmQuanNcIlxuaW1wb3J0IHsgQnV0dG9uQ29sb3IsIGdldENvbG9ycyB9IGZyb20gXCIuLi9CdXR0b24uanNcIlxuaW1wb3J0IHsgSWNvbnMgfSBmcm9tIFwiLi4vaWNvbnMvSWNvbnMuanNcIlxuaW1wb3J0IHsgQmFzZUJ1dHRvbiB9IGZyb20gXCIuL0Jhc2VCdXR0b24uanNcIlxuaW1wb3J0IHsgQXJpYVJvbGUgfSBmcm9tIFwiLi4vLi4vQXJpYVV0aWxzLmpzXCJcblxuZXhwb3J0IGludGVyZmFjZSBTZWN0aW9uQnV0dG9uQXR0cnMge1xuXHQvKipcblx0ICogVGhlIGljb24gZGlzcGxheWVkIG9uIHRoZSB2ZXJ5IGxlZnQgb2YgdGhlIGJ1dHRvbi5cblx0ICovXG5cdGxlZnRJY29uPzogeyBpY29uOiBBbGxJY29uczsgdGl0bGU6IFRyYW5zbGF0aW9uS2V5OyBmaWxsPzogc3RyaW5nIH1cblx0LyoqXG5cdCAqIFRoZSBpY29uIGRpc3BsYXllZCBvbiB0aGUgdmVyeSByaWdodCBvZiB0aGUgYnV0dG9uLiBEZWZhdWx0cyB0byBhbiBhcnJvdyBwb2ludGluZyB0byB0aGUgcmlnaHQuXG5cdCAqL1xuXHRyaWdodEljb24/OiB7IGljb246IEFsbEljb25zOyB0aXRsZTogVHJhbnNsYXRpb25LZXk7IGZpbGw/OiBzdHJpbmcgfVxuXHQvKipcblx0ICogQW4gb3B0aW9uYWwgZWxlbWVudCBkaXNwbGF5ZWQgcmlnaHQgaGFuZCBzaWRlIG9mIHRoZSBsZWZ0IGljb24uXG5cdCAqL1xuXHRpbmplY3Rpb25MZWZ0PzogQ2hpbGRyZW5cblx0LyoqXG5cdCAqIEFuIG9wdGlvbmFsIGVsZW1lbnQgZGlzcGxheWVkIG9uIHRoZSBsZWZ0IGhhbmQgc2lkZSBvZiB0aGUgcmlnaHQgaWNvbi5cblx0ICovXG5cdGluamVjdGlvblJpZ2h0PzogQ2hpbGRyZW5cblx0Y2xhc3Nlcz86IHN0cmluZ1xuXHRpc0Rpc2FibGVkPzogYm9vbGVhblxuXHR0ZXh0OiBNYXliZVRyYW5zbGF0aW9uXG5cdG9uY2xpY2s6IENsaWNrSGFuZGxlclxufVxuXG4vKipcbiAqIEEgZGFyayBOYXZCdXR0b24tbGlrZSBidXR0b24gd2l0aCBhbiBhcnJvdy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlY3Rpb25CdXR0b24gaW1wbGVtZW50cyBDb21wb25lbnQ8U2VjdGlvbkJ1dHRvbkF0dHJzPiB7XG5cdHZpZXcodm5vZGU6IFZub2RlPFNlY3Rpb25CdXR0b25BdHRycz4pOiBDaGlsZHJlbiB7XG5cdFx0Y29uc3QgeyBsZWZ0SWNvbiwgaW5qZWN0aW9uTGVmdCwgb25jbGljaywgaW5qZWN0aW9uUmlnaHQsIHJpZ2h0SWNvbiwgaXNEaXNhYmxlZCwgdGV4dCB9ID0gdm5vZGUuYXR0cnNcblxuXHRcdGNvbnN0IGxlZnRQYXJ0ID0gbS5mcmFnbWVudCh7fSwgW1xuXHRcdFx0bGVmdEljb24gPT0gbnVsbFxuXHRcdFx0XHQ/IG51bGxcblx0XHRcdFx0OiBtKEljb24sIHtcblx0XHRcdFx0XHRcdGljb246IGxlZnRJY29uLmljb24sXG5cdFx0XHRcdFx0XHRzdHlsZTogeyBmaWxsOiBsZWZ0SWNvbi5maWxsID8/IGdldENvbG9ycyhCdXR0b25Db2xvci5Db250ZW50KS5idXR0b24gfSxcblx0XHRcdFx0XHRcdHRpdGxlOiBsYW5nLmdldChsZWZ0SWNvbi50aXRsZSksXG5cdFx0XHRcdFx0XHRzaXplOiBJY29uU2l6ZS5NZWRpdW0sXG5cdFx0XHRcdCAgfSksXG5cdFx0XHRpbmplY3Rpb25MZWZ0ID09IG51bGwgPyBudWxsIDogaW5qZWN0aW9uTGVmdCxcblx0XHRdKVxuXG5cdFx0Y29uc3QgcmlnaHRQYXJ0ID0gbS5mcmFnbWVudCh7fSwgW1xuXHRcdFx0aW5qZWN0aW9uUmlnaHQgPT0gbnVsbCA/IG51bGwgOiBpbmplY3Rpb25SaWdodCxcblx0XHRcdHJpZ2h0SWNvbiA9PSBudWxsXG5cdFx0XHRcdD8gbShJY29uLCB7XG5cdFx0XHRcdFx0XHRpY29uOiBJY29ucy5BcnJvd0ZvcndhcmQsXG5cdFx0XHRcdFx0XHRzdHlsZTogeyBmaWxsOiBnZXRDb2xvcnMoQnV0dG9uQ29sb3IuQ29udGVudCkuYnV0dG9uIH0sXG5cdFx0XHRcdFx0XHR0aXRsZTogbGFuZy5nZXQoXCJuZXh0X2FjdGlvblwiKSxcblx0XHRcdFx0XHRcdHNpemU6IEljb25TaXplLk1lZGl1bSxcblx0XHRcdFx0ICB9KVxuXHRcdFx0XHQ6IG0oSWNvbiwge1xuXHRcdFx0XHRcdFx0aWNvbjogcmlnaHRJY29uLmljb24sXG5cdFx0XHRcdFx0XHRzdHlsZTogeyBmaWxsOiByaWdodEljb24uZmlsbCA/PyBnZXRDb2xvcnMoQnV0dG9uQ29sb3IuQ29udGVudCkuYnV0dG9uIH0sXG5cdFx0XHRcdFx0XHR0aXRsZTogbGFuZy5nZXQocmlnaHRJY29uLnRpdGxlKSxcblx0XHRcdFx0XHRcdHNpemU6IEljb25TaXplLk1lZGl1bSxcblx0XHRcdFx0ICB9KSxcblx0XHRdKVxuXG5cdFx0cmV0dXJuIG0oXG5cdFx0XHRCYXNlQnV0dG9uLFxuXHRcdFx0e1xuXHRcdFx0XHRjbGFzczogYGZsYXNoIGJ1dHRvbi1taW4taGVpZ2h0IGZsZXggaXRlbXMtY2VudGVyIGZ1bGwtd2lkdGggJHt2bm9kZS5hdHRycy5jbGFzc2VzID8/IFwiXCJ9YCxcblx0XHRcdFx0bGFiZWw6IHRleHQsXG5cdFx0XHRcdGRpc2FibGVkOiBpc0Rpc2FibGVkLFxuXHRcdFx0XHRyb2xlOiBBcmlhUm9sZS5NZW51SXRlbSxcblx0XHRcdFx0b25jbGljayxcblx0XHRcdH0sXG5cdFx0XHRtKENhcmQsIHsgY2xhc3NlczogW1wiZmxleFwiLCBcImp1c3RpZnktYmV0d2VlblwiLCBcImZsZXgtZ3Jvd1wiLCBcIml0ZW1zLXN0YXJ0XCJdIH0sIFtcblx0XHRcdFx0bGVmdEljb24gfHwgaW5qZWN0aW9uTGVmdCA/IG0oXCIuZmxleC5pdGVtcy1jZW50ZXIubXItc1wiLCBbbGVmdFBhcnRdKSA6IG51bGwsXG5cdFx0XHRcdG0oXCJzcGFuLmZsZXgtZ3Jvdy5mdWxsLXdpZHRoLndoaXRlLXNwYWNlXCIsIGxhbmcuZ2V0VHJhbnNsYXRpb25UZXh0KHRleHQpKSxcblx0XHRcdFx0cmlnaHRQYXJ0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