
//#region libs/linkify.js
const encodedTlds = "aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2";
const encodedUtlds = "ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2";
/**
* @template A
* @template B
* @param {A} target
* @param {B} properties
* @return {A & B}
*/
const assign = (target, properties) => {
	for (const key in properties) target[key] = properties[key];
	return target;
};
/**
* Finite State Machine generation utilities
*/
/**
* @template T
* @typedef {{ [group: string]: T[] }} Collections
*/
/**
* @typedef {{ [group: string]: true }} Flags
*/
const numeric = "numeric";
const ascii = "ascii";
const alpha = "alpha";
const asciinumeric = "asciinumeric";
const alphanumeric = "alphanumeric";
const domain = "domain";
const emoji = "emoji";
const scheme = "scheme";
const slashscheme = "slashscheme";
const whitespace = "whitespace";
/**
* @template T
* @param {string} name
* @param {Collections<T>} groups to register in
* @returns {T[]} Current list of tokens in the given collection
*/
function registerGroup(name, groups) {
	if (!(name in groups)) groups[name] = [];
	return groups[name];
}
/**
* @template T
* @param {T} t token to add
* @param {Collections<T>} groups
* @param {Flags} flags
*/
function addToGroups(t, flags, groups) {
	if (flags[numeric]) {
		flags[asciinumeric] = true;
		flags[alphanumeric] = true;
	}
	if (flags[ascii]) {
		flags[asciinumeric] = true;
		flags[alpha] = true;
	}
	if (flags[asciinumeric]) flags[alphanumeric] = true;
	if (flags[alpha]) flags[alphanumeric] = true;
	if (flags[alphanumeric]) flags[domain] = true;
	if (flags[emoji]) flags[domain] = true;
	for (const k in flags) {
		const group = registerGroup(k, groups);
		if (group.indexOf(t) < 0) group.push(t);
	}
}
/**
* @template T
* @param {T} t token to check
* @param {Collections<T>} groups
* @returns {Flags} group flags that contain this token
*/
function flagsForToken(t, groups) {
	const result = {};
	for (const c in groups) if (groups[c].indexOf(t) >= 0) result[c] = true;
	return result;
}
/**
* @template T
* @typedef {null | T } Transition
*/
/**
* Define a basic state machine state. j is the list of character transitions,
* jr is the list of regex-match transitions, jd is the default state to
* transition to t is the accepting token type, if any. If this is the terminal
* state, then it does not emit a token.
*
* The template type T represents the type of the token this state accepts. This
* should be a string (such as of the token exports in `text.js`) or a
* MultiToken subclass (from `multi.js`)
*
* @template T
* @param {T} [token] Token that this state emits
*/
function State(token) {
	if (token === void 0) token = null;
	/** @type {{ [input: string]: State<T> }} j */
	this.j = {};
	/** @type {[RegExp, State<T>][]} jr */
	this.jr = [];
	/** @type {?State<T>} jd */
	this.jd = null;
	/** @type {?T} t */
	this.t = token;
}
/**
* Scanner token groups
* @type Collections<string>
*/
State.groups = {};
State.prototype = {
	accepts() {
		return !!this.t;
	},
	go(input) {
		const state = this;
		const nextState = state.j[input];
		if (nextState) return nextState;
		for (let i = 0; i < state.jr.length; i++) {
			const regex = state.jr[i][0];
			const nextState$1 = state.jr[i][1];
			if (nextState$1 && regex.test(input)) return nextState$1;
		}
		return state.jd;
	},
	has(input, exactOnly) {
		if (exactOnly === void 0) exactOnly = false;
		return exactOnly ? input in this.j : !!this.go(input);
	},
	ta(inputs, next, flags, groups) {
		for (let i = 0; i < inputs.length; i++) this.tt(inputs[i], next, flags, groups);
	},
	tr(regexp, next, flags, groups) {
		groups = groups || State.groups;
		let nextState;
		if (next && next.j) nextState = next;
else {
			nextState = new State(next);
			if (flags && groups) addToGroups(next, flags, groups);
		}
		this.jr.push([regexp, nextState]);
		return nextState;
	},
	ts(input, next, flags, groups) {
		let state = this;
		const len = input.length;
		if (!len) return state;
		for (let i = 0; i < len - 1; i++) state = state.tt(input[i]);
		return state.tt(input[len - 1], next, flags, groups);
	},
	tt(input, next, flags, groups) {
		groups = groups || State.groups;
		const state = this;
		if (next && next.j) {
			state.j[input] = next;
			return next;
		}
		const t = next;
		let nextState, templateState = state.go(input);
		if (templateState) {
			nextState = new State();
			assign(nextState.j, templateState.j);
			nextState.jr.push.apply(nextState.jr, templateState.jr);
			nextState.jd = templateState.jd;
			nextState.t = templateState.t;
		} else nextState = new State();
		if (t) {
			if (groups) {
				if (nextState.t && typeof nextState.t === "string") {
					const allFlags = assign(flagsForToken(nextState.t, groups), flags);
					addToGroups(t, allFlags, groups);
				} else if (flags) addToGroups(t, flags, groups);
			}
			nextState.t = t;
		}
		state.j[input] = nextState;
		return nextState;
	}
};
/**
* @template T
* @param {State<T>} state
* @param {string | string[]} input
* @param {Flags} [flags]
* @param {Collections<T>} [groups]
*/
const ta = (state, input, next, flags, groups) => state.ta(input, next, flags, groups);
/**
* @template T
* @param {State<T>} state
* @param {RegExp} regexp
* @param {T | State<T>} [next]
* @param {Flags} [flags]
* @param {Collections<T>} [groups]
*/
const tr = (state, regexp, next, flags, groups) => state.tr(regexp, next, flags, groups);
/**
* @template T
* @param {State<T>} state
* @param {string | string[]} input
* @param {T | State<T>} [next]
* @param {Flags} [flags]
* @param {Collections<T>} [groups]
*/
const ts = (state, input, next, flags, groups) => state.ts(input, next, flags, groups);
/**
* @template T
* @param {State<T>} state
* @param {string} input
* @param {T | State<T>} [next]
* @param {Collections<T>} [groups]
* @param {Flags} [flags]
*/
const tt = (state, input, next, flags, groups) => state.tt(input, next, flags, groups);
/******************************************************************************
Text Tokens
Identifiers for token outputs from the regexp scanner
******************************************************************************/
const WORD = "WORD";
const UWORD = "UWORD";
const LOCALHOST = "LOCALHOST";
const TLD = "TLD";
const UTLD = "UTLD";
const SCHEME = "SCHEME";
const SLASH_SCHEME = "SLASH_SCHEME";
const NUM = "NUM";
const WS = "WS";
const NL$1 = "NL";
const OPENBRACE = "OPENBRACE";
const CLOSEBRACE = "CLOSEBRACE";
const OPENBRACKET = "OPENBRACKET";
const CLOSEBRACKET = "CLOSEBRACKET";
const OPENPAREN = "OPENPAREN";
const CLOSEPAREN = "CLOSEPAREN";
const OPENANGLEBRACKET = "OPENANGLEBRACKET";
const CLOSEANGLEBRACKET = "CLOSEANGLEBRACKET";
const FULLWIDTHLEFTPAREN = "FULLWIDTHLEFTPAREN";
const FULLWIDTHRIGHTPAREN = "FULLWIDTHRIGHTPAREN";
const LEFTCORNERBRACKET = "LEFTCORNERBRACKET";
const RIGHTCORNERBRACKET = "RIGHTCORNERBRACKET";
const LEFTWHITECORNERBRACKET = "LEFTWHITECORNERBRACKET";
const RIGHTWHITECORNERBRACKET = "RIGHTWHITECORNERBRACKET";
const FULLWIDTHLESSTHAN = "FULLWIDTHLESSTHAN";
const FULLWIDTHGREATERTHAN = "FULLWIDTHGREATERTHAN";
const AMPERSAND = "AMPERSAND";
const APOSTROPHE = "APOSTROPHE";
const ASTERISK = "ASTERISK";
const AT = "AT";
const BACKSLASH = "BACKSLASH";
const BACKTICK = "BACKTICK";
const CARET = "CARET";
const COLON = "COLON";
const COMMA = "COMMA";
const DOLLAR = "DOLLAR";
const DOT = "DOT";
const EQUALS = "EQUALS";
const EXCLAMATION = "EXCLAMATION";
const HYPHEN = "HYPHEN";
const PERCENT = "PERCENT";
const PIPE = "PIPE";
const PLUS = "PLUS";
const POUND = "POUND";
const QUERY = "QUERY";
const QUOTE = "QUOTE";
const SEMI = "SEMI";
const SLASH = "SLASH";
const TILDE = "TILDE";
const UNDERSCORE = "UNDERSCORE";
const EMOJI$1 = "EMOJI";
const SYM = "SYM";
var tk = /*#__PURE__*/ Object.freeze({
	__proto__: null,
	WORD,
	UWORD,
	LOCALHOST,
	TLD,
	UTLD,
	SCHEME,
	SLASH_SCHEME,
	NUM,
	WS,
	NL: NL$1,
	OPENBRACE,
	CLOSEBRACE,
	OPENBRACKET,
	CLOSEBRACKET,
	OPENPAREN,
	CLOSEPAREN,
	OPENANGLEBRACKET,
	CLOSEANGLEBRACKET,
	FULLWIDTHLEFTPAREN,
	FULLWIDTHRIGHTPAREN,
	LEFTCORNERBRACKET,
	RIGHTCORNERBRACKET,
	LEFTWHITECORNERBRACKET,
	RIGHTWHITECORNERBRACKET,
	FULLWIDTHLESSTHAN,
	FULLWIDTHGREATERTHAN,
	AMPERSAND,
	APOSTROPHE,
	ASTERISK,
	AT,
	BACKSLASH,
	BACKTICK,
	CARET,
	COLON,
	COMMA,
	DOLLAR,
	DOT,
	EQUALS,
	EXCLAMATION,
	HYPHEN,
	PERCENT,
	PIPE,
	PLUS,
	POUND,
	QUERY,
	QUOTE,
	SEMI,
	SLASH,
	TILDE,
	UNDERSCORE,
	EMOJI: EMOJI$1,
	SYM
});
const ASCII_LETTER = /[a-z]/;
const LETTER = /\p{L}/u;
const EMOJI = /\p{Emoji}/u;
const DIGIT = /\d/;
const SPACE = /\s/;
/**
The scanner provides an interface that takes a string of text as input, and
outputs an array of tokens instances that can be used for easy URL parsing.
*/
const NL = "\n";
const EMOJI_VARIATION = "️";
const EMOJI_JOINER = "‍";
let tlds = null, utlds = null;
/**
* Scanner output token:
* - `t` is the token name (e.g., 'NUM', 'EMOJI', 'TLD')
* - `v` is the value of the token (e.g., '123', '❤️', 'com')
* - `s` is the start index of the token in the original string
* - `e` is the end index of the token in the original string
* @typedef {{t: string, v: string, s: number, e: number}} Token
*/
/**
* @template T
* @typedef {{ [collection: string]: T[] }} Collections
*/
/**
* Initialize the scanner character-based state machine for the given start
* state
* @param {[string, boolean][]} customSchemes List of custom schemes, where each
* item is a length-2 tuple with the first element set to the string scheme, and
* the second element set to `true` if the `://` after the scheme is optional
*/
function init$2(customSchemes) {
	if (customSchemes === void 0) customSchemes = [];
	/** @type Collections<string> */
	const groups = {};
	State.groups = groups;
	/** @type State<string> */
	const Start = new State();
	if (tlds == null) tlds = decodeTlds(encodedTlds);
	if (utlds == null) utlds = decodeTlds(encodedUtlds);
	tt(Start, "'", APOSTROPHE);
	tt(Start, "{", OPENBRACE);
	tt(Start, "}", CLOSEBRACE);
	tt(Start, "[", OPENBRACKET);
	tt(Start, "]", CLOSEBRACKET);
	tt(Start, "(", OPENPAREN);
	tt(Start, ")", CLOSEPAREN);
	tt(Start, "<", OPENANGLEBRACKET);
	tt(Start, ">", CLOSEANGLEBRACKET);
	tt(Start, "（", FULLWIDTHLEFTPAREN);
	tt(Start, "）", FULLWIDTHRIGHTPAREN);
	tt(Start, "「", LEFTCORNERBRACKET);
	tt(Start, "」", RIGHTCORNERBRACKET);
	tt(Start, "『", LEFTWHITECORNERBRACKET);
	tt(Start, "』", RIGHTWHITECORNERBRACKET);
	tt(Start, "＜", FULLWIDTHLESSTHAN);
	tt(Start, "＞", FULLWIDTHGREATERTHAN);
	tt(Start, "&", AMPERSAND);
	tt(Start, "*", ASTERISK);
	tt(Start, "@", AT);
	tt(Start, "`", BACKTICK);
	tt(Start, "^", CARET);
	tt(Start, ":", COLON);
	tt(Start, ",", COMMA);
	tt(Start, "$", DOLLAR);
	tt(Start, ".", DOT);
	tt(Start, "=", EQUALS);
	tt(Start, "!", EXCLAMATION);
	tt(Start, "-", HYPHEN);
	tt(Start, "%", PERCENT);
	tt(Start, "|", PIPE);
	tt(Start, "+", PLUS);
	tt(Start, "#", POUND);
	tt(Start, "?", QUERY);
	tt(Start, "\"", QUOTE);
	tt(Start, "/", SLASH);
	tt(Start, ";", SEMI);
	tt(Start, "~", TILDE);
	tt(Start, "_", UNDERSCORE);
	tt(Start, "\\", BACKSLASH);
	const Num = tr(Start, DIGIT, NUM, { [numeric]: true });
	tr(Num, DIGIT, Num);
	const Word = tr(Start, ASCII_LETTER, WORD, { [ascii]: true });
	tr(Word, ASCII_LETTER, Word);
	const UWord = tr(Start, LETTER, UWORD, { [alpha]: true });
	tr(UWord, ASCII_LETTER);
	tr(UWord, LETTER, UWord);
	const Ws = tr(Start, SPACE, WS, { [whitespace]: true });
	tt(Start, NL, NL$1, { [whitespace]: true });
	tt(Ws, NL);
	tr(Ws, SPACE, Ws);
	const Emoji = tr(Start, EMOJI, EMOJI$1, { [emoji]: true });
	tr(Emoji, EMOJI, Emoji);
	tt(Emoji, EMOJI_VARIATION, Emoji);
	const EmojiJoiner = tt(Emoji, EMOJI_JOINER);
	tr(EmojiJoiner, EMOJI, Emoji);
	const wordjr = [[ASCII_LETTER, Word]];
	const uwordjr = [[ASCII_LETTER, null], [LETTER, UWord]];
	for (let i = 0; i < tlds.length; i++) fastts(Start, tlds[i], TLD, WORD, wordjr);
	for (let i = 0; i < utlds.length; i++) fastts(Start, utlds[i], UTLD, UWORD, uwordjr);
	addToGroups(TLD, {
		tld: true,
		ascii: true
	}, groups);
	addToGroups(UTLD, {
		utld: true,
		alpha: true
	}, groups);
	fastts(Start, "file", SCHEME, WORD, wordjr);
	fastts(Start, "mailto", SCHEME, WORD, wordjr);
	fastts(Start, "http", SLASH_SCHEME, WORD, wordjr);
	fastts(Start, "https", SLASH_SCHEME, WORD, wordjr);
	fastts(Start, "ftp", SLASH_SCHEME, WORD, wordjr);
	fastts(Start, "ftps", SLASH_SCHEME, WORD, wordjr);
	addToGroups(SCHEME, {
		scheme: true,
		ascii: true
	}, groups);
	addToGroups(SLASH_SCHEME, {
		slashscheme: true,
		ascii: true
	}, groups);
	customSchemes = customSchemes.sort((a, b) => a[0] > b[0] ? 1 : -1);
	for (let i = 0; i < customSchemes.length; i++) {
		const sch = customSchemes[i][0];
		const optionalSlashSlash = customSchemes[i][1];
		const flags = optionalSlashSlash ? { [scheme]: true } : { [slashscheme]: true };
		if (sch.indexOf("-") >= 0) flags[domain] = true;
else if (!ASCII_LETTER.test(sch)) flags[numeric] = true;
else if (DIGIT.test(sch)) flags[asciinumeric] = true;
else flags[ascii] = true;
		ts(Start, sch, sch, flags);
	}
	ts(Start, "localhost", LOCALHOST, { ascii: true });
	Start.jd = new State(SYM);
	return {
		start: Start,
		tokens: assign({ groups }, tk)
	};
}
/**
Given a string, returns an array of TOKEN instances representing the
composition of that string.

@method run
@param {State<string>} start scanner starting state
@param {string} str input string to scan
@return {Token[]} list of tokens, each with a type and value
*/
function run$1(start, str) {
	const iterable = stringToArray(str.replace(/[A-Z]/g, (c) => c.toLowerCase()));
	const charCount = iterable.length;
	const tokens = [];
	let cursor = 0;
	let charCursor = 0;
	while (charCursor < charCount) {
		let state = start;
		let nextState = null;
		let tokenLength = 0;
		let latestAccepting = null;
		let sinceAccepts = -1;
		let charsSinceAccepts = -1;
		while (charCursor < charCount && (nextState = state.go(iterable[charCursor]))) {
			state = nextState;
			if (state.accepts()) {
				sinceAccepts = 0;
				charsSinceAccepts = 0;
				latestAccepting = state;
			} else if (sinceAccepts >= 0) {
				sinceAccepts += iterable[charCursor].length;
				charsSinceAccepts++;
			}
			tokenLength += iterable[charCursor].length;
			cursor += iterable[charCursor].length;
			charCursor++;
		}
		cursor -= sinceAccepts;
		charCursor -= charsSinceAccepts;
		tokenLength -= sinceAccepts;
		tokens.push({
			t: latestAccepting.t,
			v: str.slice(cursor - tokenLength, cursor),
			s: cursor - tokenLength,
			e: cursor
		});
	}
	return tokens;
}
/**
* Convert a String to an Array of characters, taking into account that some
* characters like emojis take up two string indexes.
*
* Adapted from core-js (MIT license)
* https://github.com/zloirock/core-js/blob/2d69cf5f99ab3ea3463c395df81e5a15b68f49d9/packages/core-js/internals/string-multibyte.js
*
* @function stringToArray
* @param {string} str
* @returns {string[]}
*/
function stringToArray(str) {
	const result = [];
	const len = str.length;
	let index = 0;
	while (index < len) {
		let first = str.charCodeAt(index);
		let second;
		let char = first < 55296 || first > 56319 || index + 1 === len || (second = str.charCodeAt(index + 1)) < 56320 || second > 57343 ? str[index] : str.slice(index, index + 2);
		result.push(char);
		index += char.length;
	}
	return result;
}
/**
* Fast version of ts function for when transition defaults are well known
* @param {State<string>} state
* @param {string} input
* @param {string} t
* @param {string} defaultt
* @param {[RegExp, State<string>][]} jr
* @returns {State<string>}
*/
function fastts(state, input, t, defaultt, jr) {
	let next;
	const len = input.length;
	for (let i = 0; i < len - 1; i++) {
		const char = input[i];
		if (state.j[char]) next = state.j[char];
else {
			next = new State(defaultt);
			next.jr = jr.slice();
			state.j[char] = next;
		}
		state = next;
	}
	next = new State(t);
	next.jr = jr.slice();
	state.j[input[len - 1]] = next;
	return next;
}
/**
* Converts a string of Top-Level Domain names encoded in update-tlds.js back
* into a list of strings.
* @param {str} encoded encoded TLDs string
* @returns {str[]} original TLDs list
*/
function decodeTlds(encoded) {
	const words = [];
	const stack = [];
	let i = 0;
	let digits = "0123456789";
	while (i < encoded.length) {
		let popDigitCount = 0;
		while (digits.indexOf(encoded[i + popDigitCount]) >= 0) popDigitCount++;
		if (popDigitCount > 0) {
			words.push(stack.join(""));
			for (let popCount = parseInt(encoded.substring(i, i + popDigitCount), 10); popCount > 0; popCount--) stack.pop();
			i += popDigitCount;
		} else {
			stack.push(encoded[i]);
			i++;
		}
	}
	return words;
}
/**
* An object where each key is a valid DOM Event Name such as `click` or `focus`
* and each value is an event handler function.
*
* https://developer.mozilla.org/en-US/docs/Web/API/Element#events
* @typedef {?{ [event: string]: Function }} EventListeners
*/
/**
* All formatted properties required to render a link, including `tagName`,
* `attributes`, `content` and `eventListeners`.
* @typedef {{ tagName: any, attributes: {[attr: string]: any}, content: string,
* eventListeners: EventListeners }} IntermediateRepresentation
*/
/**
* Specify either an object described by the template type `O` or a function.
*
* The function takes a string value (usually the link's href attribute), the
* link type (`'url'`, `'hashtag`', etc.) and an internal token representation
* of the link. It should return an object of the template type `O`
* @template O
* @typedef {O | ((value: string, type: string, token: MultiToken) => O)} OptObj
*/
/**
* Specify either a function described by template type `F` or an object.
*
* Each key in the object should be a link type (`'url'`, `'hashtag`', etc.). Each
* value should be a function with template type `F` that is called when the
* corresponding link type is encountered.
* @template F
* @typedef {F | { [type: string]: F}} OptFn
*/
/**
* Specify either a value with template type `V`, a function that returns `V` or
* an object where each value resolves to `V`.
*
* The function takes a string value (usually the link's href attribute), the
* link type (`'url'`, `'hashtag`', etc.) and an internal token representation
* of the link. It should return an object of the template type `V`
*
* For the object, each key should be a link type (`'url'`, `'hashtag`', etc.).
* Each value should either have type `V` or a function that returns V. This
* function similarly takes a string value and a token.
*
* Example valid types for `Opt<string>`:
*
* ```js
* 'hello'
* (value, type, token) => 'world'
* { url: 'hello', email: (value, token) => 'world'}
* ```
* @template V
* @typedef {V | ((value: string, type: string, token: MultiToken) => V) | { [type: string]: V | ((value: string, token: MultiToken) => V) }} Opt
*/
/**
* See available options: https://linkify.js.org/docs/options.html
* @typedef {{
* 	defaultProtocol?: string,
*  events?: OptObj<EventListeners>,
* 	format?: Opt<string>,
* 	formatHref?: Opt<string>,
* 	nl2br?: boolean,
* 	tagName?: Opt<any>,
* 	target?: Opt<string>,
* 	rel?: Opt<string>,
* 	validate?: Opt<boolean>,
* 	truncate?: Opt<number>,
* 	className?: Opt<string>,
* 	attributes?: OptObj<({ [attr: string]: any })>,
*  ignoreTags?: string[],
* 	render?: OptFn<((ir: IntermediateRepresentation) => any)>
* }} Opts
*/
/**
* @type Required<Opts>
*/
const defaults = {
	defaultProtocol: "http",
	events: null,
	format: noop,
	formatHref: noop,
	nl2br: false,
	tagName: "a",
	target: null,
	rel: null,
	validate: true,
	truncate: Infinity,
	className: null,
	attributes: null,
	ignoreTags: [],
	render: null
};
/**
* Utility class for linkify interfaces to apply specified
* {@link Opts formatting and rendering options}.
*
* @param {Opts | Options} [opts] Option value overrides.
* @param {(ir: IntermediateRepresentation) => any} [defaultRender] (For
*   internal use) default render function that determines how to generate an
*   HTML element based on a link token's derived tagName, attributes and HTML.
*   Similar to render option
*/
function Options(opts, defaultRender$1) {
	if (defaultRender$1 === void 0) defaultRender$1 = null;
	let o = assign({}, defaults);
	if (opts) o = assign(o, opts instanceof Options ? opts.o : opts);
	const ignoredTags = o.ignoreTags;
	const uppercaseIgnoredTags = [];
	for (let i = 0; i < ignoredTags.length; i++) uppercaseIgnoredTags.push(ignoredTags[i].toUpperCase());
	/** @protected */
	this.o = o;
	if (defaultRender$1) this.defaultRender = defaultRender$1;
	this.ignoreTags = uppercaseIgnoredTags;
}
Options.prototype = {
	o: defaults,
	ignoreTags: [],
	defaultRender(ir) {
		return ir;
	},
	check(token) {
		return this.get("validate", token.toString(), token);
	},
	get(key, operator, token) {
		const isCallable = operator != null;
		let option = this.o[key];
		if (!option) return option;
		if (typeof option === "object") {
			option = token.t in option ? option[token.t] : defaults[key];
			if (typeof option === "function" && isCallable) option = option(operator, token);
		} else if (typeof option === "function" && isCallable) option = option(operator, token.t, token);
		return option;
	},
	getObj(key, operator, token) {
		let obj = this.o[key];
		if (typeof obj === "function" && operator != null) obj = obj(operator, token.t, token);
		return obj;
	},
	render(token) {
		const ir = token.render(this);
		const renderFn = this.get("render", null, token) || this.defaultRender;
		return renderFn(ir, token.t, token);
	}
};
function noop(val) {
	return val;
}
/******************************************************************************
Multi-Tokens
Tokens composed of arrays of TextTokens
******************************************************************************/
/**
* @param {string} value
* @param {Token[]} tokens
*/
function MultiToken(value, tokens) {
	this.t = "token";
	this.v = value;
	this.tk = tokens;
}
/**
* Abstract class used for manufacturing tokens of text tokens. That is rather
* than the value for a token being a small string of text, it's value an array
* of text tokens.
*
* Used for grouping together URLs, emails, hashtags, and other potential
* creations.
* @class MultiToken
* @property {string} t
* @property {string} v
* @property {Token[]} tk
* @abstract
*/
MultiToken.prototype = {
	isLink: false,
	toString() {
		return this.v;
	},
	toHref(scheme$1) {
		return this.toString();
	},
	toFormattedString(options) {
		const val = this.toString();
		const truncate = options.get("truncate", val, this);
		const formatted = options.get("format", val, this);
		return truncate && formatted.length > truncate ? formatted.substring(0, truncate) + "…" : formatted;
	},
	toFormattedHref(options) {
		return options.get("formatHref", this.toHref(options.get("defaultProtocol")), this);
	},
	startIndex() {
		return this.tk[0].s;
	},
	endIndex() {
		return this.tk[this.tk.length - 1].e;
	},
	toObject(protocol) {
		if (protocol === void 0) protocol = defaults.defaultProtocol;
		return {
			type: this.t,
			value: this.toString(),
			isLink: this.isLink,
			href: this.toHref(protocol),
			start: this.startIndex(),
			end: this.endIndex()
		};
	},
	toFormattedObject(options) {
		return {
			type: this.t,
			value: this.toFormattedString(options),
			isLink: this.isLink,
			href: this.toFormattedHref(options),
			start: this.startIndex(),
			end: this.endIndex()
		};
	},
	validate(options) {
		return options.get("validate", this.toString(), this);
	},
	render(options) {
		const token = this;
		const href = this.toHref(options.get("defaultProtocol"));
		const formattedHref = options.get("formatHref", href, this);
		const tagName = options.get("tagName", href, token);
		const content = this.toFormattedString(options);
		const attributes = {};
		const className = options.get("className", href, token);
		const target = options.get("target", href, token);
		const rel = options.get("rel", href, token);
		const attrs = options.getObj("attributes", href, token);
		const eventListeners = options.getObj("events", href, token);
		attributes.href = formattedHref;
		if (className) attributes.class = className;
		if (target) attributes.target = target;
		if (rel) attributes.rel = rel;
		if (attrs) assign(attributes, attrs);
		return {
			tagName,
			attributes,
			content,
			eventListeners
		};
	}
};
/**
* Create a new token that can be emitted by the parser state machine
* @param {string} type readable type of the token
* @param {object} props properties to assign or override, including isLink = true or false
* @returns {new (value: string, tokens: Token[]) => MultiToken} new token class
*/
function createTokenClass(type, props) {
	class Token extends MultiToken {
		constructor(value, tokens) {
			super(value, tokens);
			this.t = type;
		}
	}
	for (const p in props) Token.prototype[p] = props[p];
	Token.t = type;
	return Token;
}
/**
Represents a list of tokens making up a valid email address
*/
const Email = createTokenClass("email", {
	isLink: true,
	toHref() {
		return "mailto:" + this.toString();
	}
});
/**
Represents some plain text
*/
const Text = createTokenClass("text");
/**
Multi-linebreak token - represents a line break
@class Nl
*/
const Nl = createTokenClass("nl");
/**
Represents a list of text tokens making up a valid URL
@class Url
*/
const Url = createTokenClass("url", {
	isLink: true,
	toHref(scheme$1) {
		if (scheme$1 === void 0) scheme$1 = defaults.defaultProtocol;
		return this.hasProtocol() ? this.v : `${scheme$1}://${this.v}`;
	},
	hasProtocol() {
		const tokens = this.tk;
		return tokens.length >= 2 && tokens[0].t !== LOCALHOST && tokens[1].t === COLON;
	}
});
/**
Not exactly parser, more like the second-stage scanner (although we can
theoretically hotswap the code here with a real parser in the future... but
for a little URL-finding utility abstract syntax trees may be a little
overkill).

URL format: http://en.wikipedia.org/wiki/URI_scheme
Email format: http://en.wikipedia.org/wiki/EmailAddress (links to RFC in
reference)

@module linkify
@submodule parser
@main run
*/
const makeState = (arg) => new State(arg);
/**
* Generate the parser multi token-based state machine
* @param {{ groups: Collections<string> }} tokens
*/
function init$1(_ref) {
	let { groups } = _ref;
	const qsAccepting = groups.domain.concat([
		AMPERSAND,
		ASTERISK,
		AT,
		BACKSLASH,
		BACKTICK,
		CARET,
		DOLLAR,
		EQUALS,
		HYPHEN,
		NUM,
		PERCENT,
		PIPE,
		PLUS,
		POUND,
		SLASH,
		SYM,
		TILDE,
		UNDERSCORE
	]);
	const qsNonAccepting = [
		APOSTROPHE,
		COLON,
		COMMA,
		DOT,
		EXCLAMATION,
		QUERY,
		QUOTE,
		SEMI,
		OPENANGLEBRACKET,
		CLOSEANGLEBRACKET,
		OPENBRACE,
		CLOSEBRACE,
		CLOSEBRACKET,
		OPENBRACKET,
		OPENPAREN,
		CLOSEPAREN,
		FULLWIDTHLEFTPAREN,
		FULLWIDTHRIGHTPAREN,
		LEFTCORNERBRACKET,
		RIGHTCORNERBRACKET,
		LEFTWHITECORNERBRACKET,
		RIGHTWHITECORNERBRACKET,
		FULLWIDTHLESSTHAN,
		FULLWIDTHGREATERTHAN
	];
	const localpartAccepting = [
		AMPERSAND,
		APOSTROPHE,
		ASTERISK,
		BACKSLASH,
		BACKTICK,
		CARET,
		DOLLAR,
		EQUALS,
		HYPHEN,
		OPENBRACE,
		CLOSEBRACE,
		PERCENT,
		PIPE,
		PLUS,
		POUND,
		QUERY,
		SLASH,
		SYM,
		TILDE,
		UNDERSCORE
	];
	/**
	* @type State<Token>
	*/
	const Start = makeState();
	const Localpart = tt(Start, TILDE);
	ta(Localpart, localpartAccepting, Localpart);
	ta(Localpart, groups.domain, Localpart);
	const Domain = makeState(), Scheme = makeState(), SlashScheme = makeState();
	ta(Start, groups.domain, Domain);
	ta(Start, groups.scheme, Scheme);
	ta(Start, groups.slashscheme, SlashScheme);
	ta(Domain, localpartAccepting, Localpart);
	ta(Domain, groups.domain, Domain);
	const LocalpartAt = tt(Domain, AT);
	tt(Localpart, AT, LocalpartAt);
	tt(Scheme, AT, LocalpartAt);
	tt(SlashScheme, AT, LocalpartAt);
	const LocalpartDot = tt(Localpart, DOT);
	ta(LocalpartDot, localpartAccepting, Localpart);
	ta(LocalpartDot, groups.domain, Localpart);
	const EmailDomain = makeState();
	ta(LocalpartAt, groups.domain, EmailDomain);
	ta(EmailDomain, groups.domain, EmailDomain);
	const EmailDomainDot = tt(EmailDomain, DOT);
	ta(EmailDomainDot, groups.domain, EmailDomain);
	const Email$1 = makeState(Email);
	ta(EmailDomainDot, groups.tld, Email$1);
	ta(EmailDomainDot, groups.utld, Email$1);
	tt(LocalpartAt, LOCALHOST, Email$1);
	const EmailDomainHyphen = tt(EmailDomain, HYPHEN);
	ta(EmailDomainHyphen, groups.domain, EmailDomain);
	ta(Email$1, groups.domain, EmailDomain);
	tt(Email$1, DOT, EmailDomainDot);
	tt(Email$1, HYPHEN, EmailDomainHyphen);
	const EmailColon = tt(Email$1, COLON);
	ta(EmailColon, groups.numeric, Email);
	const DomainHyphen = tt(Domain, HYPHEN);
	const DomainDot = tt(Domain, DOT);
	ta(DomainHyphen, groups.domain, Domain);
	ta(DomainDot, localpartAccepting, Localpart);
	ta(DomainDot, groups.domain, Domain);
	const DomainDotTld = makeState(Url);
	ta(DomainDot, groups.tld, DomainDotTld);
	ta(DomainDot, groups.utld, DomainDotTld);
	ta(DomainDotTld, groups.domain, Domain);
	ta(DomainDotTld, localpartAccepting, Localpart);
	tt(DomainDotTld, DOT, DomainDot);
	tt(DomainDotTld, HYPHEN, DomainHyphen);
	tt(DomainDotTld, AT, LocalpartAt);
	const DomainDotTldColon = tt(DomainDotTld, COLON);
	const DomainDotTldColonPort = makeState(Url);
	ta(DomainDotTldColon, groups.numeric, DomainDotTldColonPort);
	const Url$1 = makeState(Url);
	const UrlNonaccept = makeState();
	ta(Url$1, qsAccepting, Url$1);
	ta(Url$1, qsNonAccepting, UrlNonaccept);
	ta(UrlNonaccept, qsAccepting, Url$1);
	ta(UrlNonaccept, qsNonAccepting, UrlNonaccept);
	tt(DomainDotTld, SLASH, Url$1);
	tt(DomainDotTldColonPort, SLASH, Url$1);
	const SchemeColon = tt(Scheme, COLON);
	const SlashSchemeColon = tt(SlashScheme, COLON);
	const SlashSchemeColonSlash = tt(SlashSchemeColon, SLASH);
	const UriPrefix = tt(SlashSchemeColonSlash, SLASH);
	ta(Scheme, groups.domain, Domain);
	tt(Scheme, DOT, DomainDot);
	tt(Scheme, HYPHEN, DomainHyphen);
	ta(SlashScheme, groups.domain, Domain);
	tt(SlashScheme, DOT, DomainDot);
	tt(SlashScheme, HYPHEN, DomainHyphen);
	ta(SchemeColon, groups.domain, Url$1);
	tt(SchemeColon, SLASH, Url$1);
	ta(UriPrefix, groups.domain, Url$1);
	ta(UriPrefix, qsAccepting, Url$1);
	tt(UriPrefix, SLASH, Url$1);
	const bracketPairs = [
		[OPENBRACE, CLOSEBRACE],
		[OPENBRACKET, CLOSEBRACKET],
		[OPENPAREN, CLOSEPAREN],
		[OPENANGLEBRACKET, CLOSEANGLEBRACKET],
		[FULLWIDTHLEFTPAREN, FULLWIDTHRIGHTPAREN],
		[LEFTCORNERBRACKET, RIGHTCORNERBRACKET],
		[LEFTWHITECORNERBRACKET, RIGHTWHITECORNERBRACKET],
		[FULLWIDTHLESSTHAN, FULLWIDTHGREATERTHAN]
	];
	for (let i = 0; i < bracketPairs.length; i++) {
		const [OPEN, CLOSE] = bracketPairs[i];
		const UrlOpen = tt(Url$1, OPEN);
		tt(UrlNonaccept, OPEN, UrlOpen);
		tt(UrlOpen, CLOSE, Url$1);
		const UrlOpenQ = makeState(Url);
		ta(UrlOpen, qsAccepting, UrlOpenQ);
		const UrlOpenSyms = makeState();
		ta(UrlOpen, qsNonAccepting);
		ta(UrlOpenQ, qsAccepting, UrlOpenQ);
		ta(UrlOpenQ, qsNonAccepting, UrlOpenSyms);
		ta(UrlOpenSyms, qsAccepting, UrlOpenQ);
		ta(UrlOpenSyms, qsNonAccepting, UrlOpenSyms);
		tt(UrlOpenQ, CLOSE, Url$1);
		tt(UrlOpenSyms, CLOSE, Url$1);
	}
	tt(Start, LOCALHOST, DomainDotTld);
	tt(Start, NL$1, Nl);
	return {
		start: Start,
		tokens: tk
	};
}
/**
* Run the parser state machine on a list of scanned string-based tokens to
* create a list of multi tokens, each of which represents a URL, email address,
* plain text, etc.
*
* @param {State<MultiToken>} start parser start state
* @param {string} input the original input used to generate the given tokens
* @param {Token[]} tokens list of scanned tokens
* @returns {MultiToken[]}
*/
function run(start, input, tokens) {
	let len = tokens.length;
	let cursor = 0;
	let multis = [];
	let textTokens = [];
	while (cursor < len) {
		let state = start;
		let secondState = null;
		let nextState = null;
		let multiLength = 0;
		let latestAccepting = null;
		let sinceAccepts = -1;
		while (cursor < len && !(secondState = state.go(tokens[cursor].t))) textTokens.push(tokens[cursor++]);
		while (cursor < len && (nextState = secondState || state.go(tokens[cursor].t))) {
			secondState = null;
			state = nextState;
			if (state.accepts()) {
				sinceAccepts = 0;
				latestAccepting = state;
			} else if (sinceAccepts >= 0) sinceAccepts++;
			cursor++;
			multiLength++;
		}
		if (sinceAccepts < 0) {
			cursor -= multiLength;
			if (cursor < len) {
				textTokens.push(tokens[cursor]);
				cursor++;
			}
		} else {
			if (textTokens.length > 0) {
				multis.push(initMultiToken(Text, input, textTokens));
				textTokens = [];
			}
			cursor -= sinceAccepts;
			multiLength -= sinceAccepts;
			const Multi = latestAccepting.t;
			const subtokens = tokens.slice(cursor - multiLength, cursor);
			multis.push(initMultiToken(Multi, input, subtokens));
		}
	}
	if (textTokens.length > 0) multis.push(initMultiToken(Text, input, textTokens));
	return multis;
}
/**
* Utility function for instantiating a new multitoken with all the relevant
* fields during parsing.
* @param {new (value: string, tokens: Token[]) => MultiToken} Multi class to instantiate
* @param {string} input original input string
* @param {Token[]} tokens consecutive tokens scanned from input string
* @returns {MultiToken}
*/
function initMultiToken(Multi, input, tokens) {
	const startIdx = tokens[0].s;
	const endIdx = tokens[tokens.length - 1].e;
	const value = input.slice(startIdx, endIdx);
	return new Multi(value, tokens);
}
const INIT = {
	scanner: null,
	parser: null,
	tokenQueue: [],
	pluginQueue: [],
	customSchemes: [],
	initialized: false
};
/**
* Initialize the linkify state machine. Called automatically the first time
* linkify is called on a string, but may be called manually as well.
*/
function init() {
	INIT.scanner = init$2(INIT.customSchemes);
	for (let i = 0; i < INIT.tokenQueue.length; i++) INIT.tokenQueue[i][1]({ scanner: INIT.scanner });
	INIT.parser = init$1(INIT.scanner.tokens);
	for (let i = 0; i < INIT.pluginQueue.length; i++) INIT.pluginQueue[i][1]({
		scanner: INIT.scanner,
		parser: INIT.parser
	});
	INIT.initialized = true;
}
/**
* Parse a string into tokens that represent linkable and non-linkable sub-components
* @param {string} str
* @return {MultiToken[]} tokens
*/
function tokenize$1(str) {
	if (!INIT.initialized) init();
	return run(INIT.parser.start, str, run$1(INIT.scanner.start, str));
}

//#endregion
//#region libs/linkify-html.js
/**
* generated from https://raw.githubusercontent.com/w3c/html/26b5126f96f736f796b9e29718138919dd513744/entities.json
* do not edit
*/
var HTML5NamedCharRefs = {
	amp: "&",
	gt: ">",
	lt: "<",
	nbsp: "\xA0",
	quot: "\""
};
var HEXCHARCODE = /^#[xX]([A-Fa-f0-9]+)$/;
var CHARCODE = /^#([0-9]+)$/;
var NAMED = /^([A-Za-z0-9]+)$/;
var EntityParser = function() {
	function EntityParser$1(named) {
		this.named = named;
	}
	EntityParser$1.prototype.parse = function(entity) {
		if (!entity) return;
		var matches = entity.match(HEXCHARCODE);
		if (matches) return String.fromCharCode(parseInt(matches[1], 16));
		matches = entity.match(CHARCODE);
		if (matches) return String.fromCharCode(parseInt(matches[1], 10));
		matches = entity.match(NAMED);
		if (matches) return this.named[matches[1]] || "&" + matches[1] + ";";
	};
	return EntityParser$1;
}();
var WSP = /[\t\n\f ]/;
var ALPHA = /[A-Za-z]/;
var CRLF = /\r\n?/g;
function isSpace(char) {
	return WSP.test(char);
}
function isAlpha(char) {
	return ALPHA.test(char);
}
function preprocessInput(input) {
	return input.replace(CRLF, "\n");
}
var EventedTokenizer = function() {
	function EventedTokenizer$1(delegate, entityParser, mode) {
		if (mode === void 0) mode = "precompile";
		this.delegate = delegate;
		this.entityParser = entityParser;
		this.mode = mode;
		this.state = "beforeData";
		this.line = -1;
		this.column = -1;
		this.input = "";
		this.index = -1;
		this.tagNameBuffer = "";
		this.states = {
			beforeData: function() {
				var char = this.peek();
				if (char === "<" && !this.isIgnoredEndTag()) {
					this.transitionTo(
						"tagOpen"
						/* tagOpen */
);
					this.markTagStart();
					this.consume();
				} else {
					if (this.mode === "precompile" && char === "\n") {
						var tag = this.tagNameBuffer.toLowerCase();
						if (tag === "pre" || tag === "textarea") this.consume();
					}
					this.transitionTo(
						"data"
						/* data */
);
					this.delegate.beginData();
				}
			},
			data: function() {
				var char = this.peek();
				var tag = this.tagNameBuffer;
				if (char === "<" && !this.isIgnoredEndTag()) {
					this.delegate.finishData();
					this.transitionTo(
						"tagOpen"
						/* tagOpen */
);
					this.markTagStart();
					this.consume();
				} else if (char === "&" && tag !== "script" && tag !== "style") {
					this.consume();
					this.delegate.appendToData(this.consumeCharRef() || "&");
				} else {
					this.consume();
					this.delegate.appendToData(char);
				}
			},
			tagOpen: function() {
				var char = this.consume();
				if (char === "!") this.transitionTo(
					"markupDeclarationOpen"
					/* markupDeclarationOpen */
);
else if (char === "/") this.transitionTo(
					"endTagOpen"
					/* endTagOpen */
);
else if (char === "@" || char === ":" || isAlpha(char)) {
					this.transitionTo(
						"tagName"
						/* tagName */
);
					this.tagNameBuffer = "";
					this.delegate.beginStartTag();
					this.appendToTagName(char);
				}
			},
			markupDeclarationOpen: function() {
				var char = this.consume();
				if (char === "-" && this.peek() === "-") {
					this.consume();
					this.transitionTo(
						"commentStart"
						/* commentStart */
);
					this.delegate.beginComment();
				} else {
					var maybeDoctype = char.toUpperCase() + this.input.substring(this.index, this.index + 6).toUpperCase();
					if (maybeDoctype === "DOCTYPE") {
						this.consume();
						this.consume();
						this.consume();
						this.consume();
						this.consume();
						this.consume();
						this.transitionTo(
							"doctype"
							/* doctype */
);
						if (this.delegate.beginDoctype) this.delegate.beginDoctype();
					}
				}
			},
			doctype: function() {
				var char = this.consume();
				if (isSpace(char)) this.transitionTo(
					"beforeDoctypeName"
					/* beforeDoctypeName */
);
			},
			beforeDoctypeName: function() {
				var char = this.consume();
				if (isSpace(char)) return;
else {
					this.transitionTo(
						"doctypeName"
						/* doctypeName */
);
					if (this.delegate.appendToDoctypeName) this.delegate.appendToDoctypeName(char.toLowerCase());
				}
			},
			doctypeName: function() {
				var char = this.consume();
				if (isSpace(char)) this.transitionTo(
					"afterDoctypeName"
					/* afterDoctypeName */
);
else if (char === ">") {
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else if (this.delegate.appendToDoctypeName) this.delegate.appendToDoctypeName(char.toLowerCase());
			},
			afterDoctypeName: function() {
				var char = this.consume();
				if (isSpace(char)) return;
else if (char === ">") {
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else {
					var nextSixChars = char.toUpperCase() + this.input.substring(this.index, this.index + 5).toUpperCase();
					var isPublic = nextSixChars.toUpperCase() === "PUBLIC";
					var isSystem = nextSixChars.toUpperCase() === "SYSTEM";
					if (isPublic || isSystem) {
						this.consume();
						this.consume();
						this.consume();
						this.consume();
						this.consume();
						this.consume();
					}
					if (isPublic) this.transitionTo(
						"afterDoctypePublicKeyword"
						/* afterDoctypePublicKeyword */
);
else if (isSystem) this.transitionTo(
						"afterDoctypeSystemKeyword"
						/* afterDoctypeSystemKeyword */
);
				}
			},
			afterDoctypePublicKeyword: function() {
				var char = this.peek();
				if (isSpace(char)) {
					this.transitionTo(
						"beforeDoctypePublicIdentifier"
						/* beforeDoctypePublicIdentifier */
);
					this.consume();
				} else if (char === "\"") {
					this.transitionTo(
						"doctypePublicIdentifierDoubleQuoted"
						/* doctypePublicIdentifierDoubleQuoted */
);
					this.consume();
				} else if (char === "'") {
					this.transitionTo(
						"doctypePublicIdentifierSingleQuoted"
						/* doctypePublicIdentifierSingleQuoted */
);
					this.consume();
				} else if (char === ">") {
					this.consume();
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				}
			},
			doctypePublicIdentifierDoubleQuoted: function() {
				var char = this.consume();
				if (char === "\"") this.transitionTo(
					"afterDoctypePublicIdentifier"
					/* afterDoctypePublicIdentifier */
);
else if (char === ">") {
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else if (this.delegate.appendToDoctypePublicIdentifier) this.delegate.appendToDoctypePublicIdentifier(char);
			},
			doctypePublicIdentifierSingleQuoted: function() {
				var char = this.consume();
				if (char === "'") this.transitionTo(
					"afterDoctypePublicIdentifier"
					/* afterDoctypePublicIdentifier */
);
else if (char === ">") {
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else if (this.delegate.appendToDoctypePublicIdentifier) this.delegate.appendToDoctypePublicIdentifier(char);
			},
			afterDoctypePublicIdentifier: function() {
				var char = this.consume();
				if (isSpace(char)) this.transitionTo(
					"betweenDoctypePublicAndSystemIdentifiers"
					/* betweenDoctypePublicAndSystemIdentifiers */
);
else if (char === ">") {
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else if (char === "\"") this.transitionTo(
					"doctypeSystemIdentifierDoubleQuoted"
					/* doctypeSystemIdentifierDoubleQuoted */
);
else if (char === "'") this.transitionTo(
					"doctypeSystemIdentifierSingleQuoted"
					/* doctypeSystemIdentifierSingleQuoted */
);
			},
			betweenDoctypePublicAndSystemIdentifiers: function() {
				var char = this.consume();
				if (isSpace(char)) return;
else if (char === ">") {
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else if (char === "\"") this.transitionTo(
					"doctypeSystemIdentifierDoubleQuoted"
					/* doctypeSystemIdentifierDoubleQuoted */
);
else if (char === "'") this.transitionTo(
					"doctypeSystemIdentifierSingleQuoted"
					/* doctypeSystemIdentifierSingleQuoted */
);
			},
			doctypeSystemIdentifierDoubleQuoted: function() {
				var char = this.consume();
				if (char === "\"") this.transitionTo(
					"afterDoctypeSystemIdentifier"
					/* afterDoctypeSystemIdentifier */
);
else if (char === ">") {
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else if (this.delegate.appendToDoctypeSystemIdentifier) this.delegate.appendToDoctypeSystemIdentifier(char);
			},
			doctypeSystemIdentifierSingleQuoted: function() {
				var char = this.consume();
				if (char === "'") this.transitionTo(
					"afterDoctypeSystemIdentifier"
					/* afterDoctypeSystemIdentifier */
);
else if (char === ">") {
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else if (this.delegate.appendToDoctypeSystemIdentifier) this.delegate.appendToDoctypeSystemIdentifier(char);
			},
			afterDoctypeSystemIdentifier: function() {
				var char = this.consume();
				if (isSpace(char)) return;
else if (char === ">") {
					if (this.delegate.endDoctype) this.delegate.endDoctype();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				}
			},
			commentStart: function() {
				var char = this.consume();
				if (char === "-") this.transitionTo(
					"commentStartDash"
					/* commentStartDash */
);
else if (char === ">") {
					this.delegate.finishComment();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else {
					this.delegate.appendToCommentData(char);
					this.transitionTo(
						"comment"
						/* comment */
);
				}
			},
			commentStartDash: function() {
				var char = this.consume();
				if (char === "-") this.transitionTo(
					"commentEnd"
					/* commentEnd */
);
else if (char === ">") {
					this.delegate.finishComment();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else {
					this.delegate.appendToCommentData("-");
					this.transitionTo(
						"comment"
						/* comment */
);
				}
			},
			comment: function() {
				var char = this.consume();
				if (char === "-") this.transitionTo(
					"commentEndDash"
					/* commentEndDash */
);
else this.delegate.appendToCommentData(char);
			},
			commentEndDash: function() {
				var char = this.consume();
				if (char === "-") this.transitionTo(
					"commentEnd"
					/* commentEnd */
);
else {
					this.delegate.appendToCommentData("-" + char);
					this.transitionTo(
						"comment"
						/* comment */
);
				}
			},
			commentEnd: function() {
				var char = this.consume();
				if (char === ">") {
					this.delegate.finishComment();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else {
					this.delegate.appendToCommentData("--" + char);
					this.transitionTo(
						"comment"
						/* comment */
);
				}
			},
			tagName: function() {
				var char = this.consume();
				if (isSpace(char)) this.transitionTo(
					"beforeAttributeName"
					/* beforeAttributeName */
);
else if (char === "/") this.transitionTo(
					"selfClosingStartTag"
					/* selfClosingStartTag */
);
else if (char === ">") {
					this.delegate.finishTag();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else this.appendToTagName(char);
			},
			endTagName: function() {
				var char = this.consume();
				if (isSpace(char)) {
					this.transitionTo(
						"beforeAttributeName"
						/* beforeAttributeName */
);
					this.tagNameBuffer = "";
				} else if (char === "/") {
					this.transitionTo(
						"selfClosingStartTag"
						/* selfClosingStartTag */
);
					this.tagNameBuffer = "";
				} else if (char === ">") {
					this.delegate.finishTag();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
					this.tagNameBuffer = "";
				} else this.appendToTagName(char);
			},
			beforeAttributeName: function() {
				var char = this.peek();
				if (isSpace(char)) {
					this.consume();
					return;
				} else if (char === "/") {
					this.transitionTo(
						"selfClosingStartTag"
						/* selfClosingStartTag */
);
					this.consume();
				} else if (char === ">") {
					this.consume();
					this.delegate.finishTag();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else if (char === "=") {
					this.delegate.reportSyntaxError("attribute name cannot start with equals sign");
					this.transitionTo(
						"attributeName"
						/* attributeName */
);
					this.delegate.beginAttribute();
					this.consume();
					this.delegate.appendToAttributeName(char);
				} else {
					this.transitionTo(
						"attributeName"
						/* attributeName */
);
					this.delegate.beginAttribute();
				}
			},
			attributeName: function() {
				var char = this.peek();
				if (isSpace(char)) {
					this.transitionTo(
						"afterAttributeName"
						/* afterAttributeName */
);
					this.consume();
				} else if (char === "/") {
					this.delegate.beginAttributeValue(false);
					this.delegate.finishAttributeValue();
					this.consume();
					this.transitionTo(
						"selfClosingStartTag"
						/* selfClosingStartTag */
);
				} else if (char === "=") {
					this.transitionTo(
						"beforeAttributeValue"
						/* beforeAttributeValue */
);
					this.consume();
				} else if (char === ">") {
					this.delegate.beginAttributeValue(false);
					this.delegate.finishAttributeValue();
					this.consume();
					this.delegate.finishTag();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else if (char === "\"" || char === "'" || char === "<") {
					this.delegate.reportSyntaxError(char + " is not a valid character within attribute names");
					this.consume();
					this.delegate.appendToAttributeName(char);
				} else {
					this.consume();
					this.delegate.appendToAttributeName(char);
				}
			},
			afterAttributeName: function() {
				var char = this.peek();
				if (isSpace(char)) {
					this.consume();
					return;
				} else if (char === "/") {
					this.delegate.beginAttributeValue(false);
					this.delegate.finishAttributeValue();
					this.consume();
					this.transitionTo(
						"selfClosingStartTag"
						/* selfClosingStartTag */
);
				} else if (char === "=") {
					this.consume();
					this.transitionTo(
						"beforeAttributeValue"
						/* beforeAttributeValue */
);
				} else if (char === ">") {
					this.delegate.beginAttributeValue(false);
					this.delegate.finishAttributeValue();
					this.consume();
					this.delegate.finishTag();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else {
					this.delegate.beginAttributeValue(false);
					this.delegate.finishAttributeValue();
					this.transitionTo(
						"attributeName"
						/* attributeName */
);
					this.delegate.beginAttribute();
					this.consume();
					this.delegate.appendToAttributeName(char);
				}
			},
			beforeAttributeValue: function() {
				var char = this.peek();
				if (isSpace(char)) this.consume();
else if (char === "\"") {
					this.transitionTo(
						"attributeValueDoubleQuoted"
						/* attributeValueDoubleQuoted */
);
					this.delegate.beginAttributeValue(true);
					this.consume();
				} else if (char === "'") {
					this.transitionTo(
						"attributeValueSingleQuoted"
						/* attributeValueSingleQuoted */
);
					this.delegate.beginAttributeValue(true);
					this.consume();
				} else if (char === ">") {
					this.delegate.beginAttributeValue(false);
					this.delegate.finishAttributeValue();
					this.consume();
					this.delegate.finishTag();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else {
					this.transitionTo(
						"attributeValueUnquoted"
						/* attributeValueUnquoted */
);
					this.delegate.beginAttributeValue(false);
					this.consume();
					this.delegate.appendToAttributeValue(char);
				}
			},
			attributeValueDoubleQuoted: function() {
				var char = this.consume();
				if (char === "\"") {
					this.delegate.finishAttributeValue();
					this.transitionTo(
						"afterAttributeValueQuoted"
						/* afterAttributeValueQuoted */
);
				} else if (char === "&") this.delegate.appendToAttributeValue(this.consumeCharRef() || "&");
else this.delegate.appendToAttributeValue(char);
			},
			attributeValueSingleQuoted: function() {
				var char = this.consume();
				if (char === "'") {
					this.delegate.finishAttributeValue();
					this.transitionTo(
						"afterAttributeValueQuoted"
						/* afterAttributeValueQuoted */
);
				} else if (char === "&") this.delegate.appendToAttributeValue(this.consumeCharRef() || "&");
else this.delegate.appendToAttributeValue(char);
			},
			attributeValueUnquoted: function() {
				var char = this.peek();
				if (isSpace(char)) {
					this.delegate.finishAttributeValue();
					this.consume();
					this.transitionTo(
						"beforeAttributeName"
						/* beforeAttributeName */
);
				} else if (char === "/") {
					this.delegate.finishAttributeValue();
					this.consume();
					this.transitionTo(
						"selfClosingStartTag"
						/* selfClosingStartTag */
);
				} else if (char === "&") {
					this.consume();
					this.delegate.appendToAttributeValue(this.consumeCharRef() || "&");
				} else if (char === ">") {
					this.delegate.finishAttributeValue();
					this.consume();
					this.delegate.finishTag();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else {
					this.consume();
					this.delegate.appendToAttributeValue(char);
				}
			},
			afterAttributeValueQuoted: function() {
				var char = this.peek();
				if (isSpace(char)) {
					this.consume();
					this.transitionTo(
						"beforeAttributeName"
						/* beforeAttributeName */
);
				} else if (char === "/") {
					this.consume();
					this.transitionTo(
						"selfClosingStartTag"
						/* selfClosingStartTag */
);
				} else if (char === ">") {
					this.consume();
					this.delegate.finishTag();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else this.transitionTo(
					"beforeAttributeName"
					/* beforeAttributeName */
);
			},
			selfClosingStartTag: function() {
				var char = this.peek();
				if (char === ">") {
					this.consume();
					this.delegate.markTagAsSelfClosing();
					this.delegate.finishTag();
					this.transitionTo(
						"beforeData"
						/* beforeData */
);
				} else this.transitionTo(
					"beforeAttributeName"
					/* beforeAttributeName */
);
			},
			endTagOpen: function() {
				var char = this.consume();
				if (char === "@" || char === ":" || isAlpha(char)) {
					this.transitionTo(
						"endTagName"
						/* endTagName */
);
					this.tagNameBuffer = "";
					this.delegate.beginEndTag();
					this.appendToTagName(char);
				}
			}
		};
		this.reset();
	}
	EventedTokenizer$1.prototype.reset = function() {
		this.transitionTo(
			"beforeData"
			/* beforeData */
);
		this.input = "";
		this.tagNameBuffer = "";
		this.index = 0;
		this.line = 1;
		this.column = 0;
		this.delegate.reset();
	};
	EventedTokenizer$1.prototype.transitionTo = function(state) {
		this.state = state;
	};
	EventedTokenizer$1.prototype.tokenize = function(input) {
		this.reset();
		this.tokenizePart(input);
		this.tokenizeEOF();
	};
	EventedTokenizer$1.prototype.tokenizePart = function(input) {
		this.input += preprocessInput(input);
		while (this.index < this.input.length) {
			var handler = this.states[this.state];
			if (handler !== undefined) handler.call(this);
else throw new Error("unhandled state " + this.state);
		}
	};
	EventedTokenizer$1.prototype.tokenizeEOF = function() {
		this.flushData();
	};
	EventedTokenizer$1.prototype.flushData = function() {
		if (this.state === "data") {
			this.delegate.finishData();
			this.transitionTo(
				"beforeData"
				/* beforeData */
);
		}
	};
	EventedTokenizer$1.prototype.peek = function() {
		return this.input.charAt(this.index);
	};
	EventedTokenizer$1.prototype.consume = function() {
		var char = this.peek();
		this.index++;
		if (char === "\n") {
			this.line++;
			this.column = 0;
		} else this.column++;
		return char;
	};
	EventedTokenizer$1.prototype.consumeCharRef = function() {
		var endIndex = this.input.indexOf(";", this.index);
		if (endIndex === -1) return;
		var entity = this.input.slice(this.index, endIndex);
		var chars = this.entityParser.parse(entity);
		if (chars) {
			var count = entity.length;
			while (count) {
				this.consume();
				count--;
			}
			this.consume();
			return chars;
		}
	};
	EventedTokenizer$1.prototype.markTagStart = function() {
		this.delegate.tagOpen();
	};
	EventedTokenizer$1.prototype.appendToTagName = function(char) {
		this.tagNameBuffer += char;
		this.delegate.appendToTagName(char);
	};
	EventedTokenizer$1.prototype.isIgnoredEndTag = function() {
		var tag = this.tagNameBuffer;
		return tag === "title" && this.input.substring(this.index, this.index + 8) !== "</title>" || tag === "style" && this.input.substring(this.index, this.index + 8) !== "</style>" || tag === "script" && this.input.substring(this.index, this.index + 9) !== "</script>";
	};
	return EventedTokenizer$1;
}();
var Tokenizer = function() {
	function Tokenizer$1(entityParser, options) {
		if (options === void 0) options = {};
		this.options = options;
		this.token = null;
		this.startLine = 1;
		this.startColumn = 0;
		this.tokens = [];
		this.tokenizer = new EventedTokenizer(this, entityParser, options.mode);
		this._currentAttribute = undefined;
	}
	Tokenizer$1.prototype.tokenize = function(input) {
		this.tokens = [];
		this.tokenizer.tokenize(input);
		return this.tokens;
	};
	Tokenizer$1.prototype.tokenizePart = function(input) {
		this.tokens = [];
		this.tokenizer.tokenizePart(input);
		return this.tokens;
	};
	Tokenizer$1.prototype.tokenizeEOF = function() {
		this.tokens = [];
		this.tokenizer.tokenizeEOF();
		return this.tokens[0];
	};
	Tokenizer$1.prototype.reset = function() {
		this.token = null;
		this.startLine = 1;
		this.startColumn = 0;
	};
	Tokenizer$1.prototype.current = function() {
		var token = this.token;
		if (token === null) throw new Error("token was unexpectedly null");
		if (arguments.length === 0) return token;
		for (var i = 0; i < arguments.length; i++) if (token.type === arguments[i]) return token;
		throw new Error("token type was unexpectedly " + token.type);
	};
	Tokenizer$1.prototype.push = function(token) {
		this.token = token;
		this.tokens.push(token);
	};
	Tokenizer$1.prototype.currentAttribute = function() {
		return this._currentAttribute;
	};
	Tokenizer$1.prototype.addLocInfo = function() {
		if (this.options.loc) this.current().loc = {
			start: {
				line: this.startLine,
				column: this.startColumn
			},
			end: {
				line: this.tokenizer.line,
				column: this.tokenizer.column
			}
		};
		this.startLine = this.tokenizer.line;
		this.startColumn = this.tokenizer.column;
	};
	Tokenizer$1.prototype.beginDoctype = function() {
		this.push({
			type: "Doctype",
			name: ""
		});
	};
	Tokenizer$1.prototype.appendToDoctypeName = function(char) {
		this.current(
			"Doctype"
			/* Doctype */
).name += char;
	};
	Tokenizer$1.prototype.appendToDoctypePublicIdentifier = function(char) {
		var doctype = this.current(
			"Doctype"
			/* Doctype */
);
		if (doctype.publicIdentifier === undefined) doctype.publicIdentifier = char;
else doctype.publicIdentifier += char;
	};
	Tokenizer$1.prototype.appendToDoctypeSystemIdentifier = function(char) {
		var doctype = this.current(
			"Doctype"
			/* Doctype */
);
		if (doctype.systemIdentifier === undefined) doctype.systemIdentifier = char;
else doctype.systemIdentifier += char;
	};
	Tokenizer$1.prototype.endDoctype = function() {
		this.addLocInfo();
	};
	Tokenizer$1.prototype.beginData = function() {
		this.push({
			type: "Chars",
			chars: ""
		});
	};
	Tokenizer$1.prototype.appendToData = function(char) {
		this.current(
			"Chars"
			/* Chars */
).chars += char;
	};
	Tokenizer$1.prototype.finishData = function() {
		this.addLocInfo();
	};
	Tokenizer$1.prototype.beginComment = function() {
		this.push({
			type: "Comment",
			chars: ""
		});
	};
	Tokenizer$1.prototype.appendToCommentData = function(char) {
		this.current(
			"Comment"
			/* Comment */
).chars += char;
	};
	Tokenizer$1.prototype.finishComment = function() {
		this.addLocInfo();
	};
	Tokenizer$1.prototype.tagOpen = function() {};
	Tokenizer$1.prototype.beginStartTag = function() {
		this.push({
			type: "StartTag",
			tagName: "",
			attributes: [],
			selfClosing: false
		});
	};
	Tokenizer$1.prototype.beginEndTag = function() {
		this.push({
			type: "EndTag",
			tagName: ""
		});
	};
	Tokenizer$1.prototype.finishTag = function() {
		this.addLocInfo();
	};
	Tokenizer$1.prototype.markTagAsSelfClosing = function() {
		this.current(
			"StartTag"
			/* StartTag */
).selfClosing = true;
	};
	Tokenizer$1.prototype.appendToTagName = function(char) {
		this.current(
			"StartTag",
			"EndTag"
			/* EndTag */
).tagName += char;
	};
	Tokenizer$1.prototype.beginAttribute = function() {
		this._currentAttribute = [
			"",
			"",
			false
		];
	};
	Tokenizer$1.prototype.appendToAttributeName = function(char) {
		this.currentAttribute()[0] += char;
	};
	Tokenizer$1.prototype.beginAttributeValue = function(isQuoted) {
		this.currentAttribute()[2] = isQuoted;
	};
	Tokenizer$1.prototype.appendToAttributeValue = function(char) {
		this.currentAttribute()[1] += char;
	};
	Tokenizer$1.prototype.finishAttributeValue = function() {
		this.current(
			"StartTag"
			/* StartTag */
).attributes.push(this._currentAttribute);
	};
	Tokenizer$1.prototype.reportSyntaxError = function(message) {
		this.current().syntaxError = message;
	};
	return Tokenizer$1;
}();
function tokenize(input, options) {
	var tokenizer = new Tokenizer(new EntityParser(HTML5NamedCharRefs), options);
	return tokenizer.tokenize(input);
}
const LinkifyResult = "LinkifyResult";
const StartTag = "StartTag";
const EndTag = "EndTag";
const Chars = "Chars";
const Comment = "Comment";
const Doctype = "Doctype";
/**
* @param {string} str html string to link
* @param {import('linkifyjs').Opts} [opts] linkify options
* @returns {string} resulting string
*/
function linkifyHtml(str, opts) {
	if (opts === void 0) opts = {};
	const tokens = tokenize(str);
	const linkifiedTokens = [];
	const linkified = [];
	const options = new Options(opts, defaultRender);
	for (let i = 0; i < tokens.length; i++) {
		const token = tokens[i];
		if (token.type === StartTag) {
			linkifiedTokens.push(token);
			const tagName = token.tagName.toUpperCase();
			const isIgnored = tagName === "A" || options.ignoreTags.indexOf(tagName) >= 0;
			if (!isIgnored) continue;
			let preskipLen = linkifiedTokens.length;
			skipTagTokens(tagName, tokens, ++i, linkifiedTokens);
			i += linkifiedTokens.length - preskipLen - 1;
		} else if (token.type !== Chars) linkifiedTokens.push(token);
else {
			const linkifedChars = linkifyChars(token.chars, options);
			linkifiedTokens.push.apply(linkifiedTokens, linkifedChars);
		}
	}
	for (let i = 0; i < linkifiedTokens.length; i++) {
		const token = linkifiedTokens[i];
		switch (token.type) {
			case LinkifyResult:
				linkified.push(token.rendered);
				break;
			case StartTag: {
				let link = "<" + token.tagName;
				if (token.attributes.length > 0) link += " " + attributeArrayToStrings(token.attributes).join(" ");
				if (token.selfClosing) link += " /";
				link += ">";
				linkified.push(link);
				break;
			}
			case EndTag:
				linkified.push(`</${token.tagName}>`);
				break;
			case Chars:
				linkified.push(escapeText(token.chars));
				break;
			case Comment:
				linkified.push(`<!--${escapeText(token.chars)}-->`);
				break;
			case Doctype: {
				let doctype = `<!DOCTYPE ${token.name}`;
				if (token.publicIdentifier) doctype += ` PUBLIC "${token.publicIdentifier}"`;
				if (token.systemIdentifier) doctype += ` "${token.systemIdentifier}"`;
				doctype += ">";
				linkified.push(doctype);
				break;
			}
		}
	}
	return linkified.join("");
}
/**
`tokens` and `token` in this section referes to tokens returned by
`linkify.tokenize`. `linkified` will contain HTML Parser-style tokens
@param {string}
@param {import('linkifyjs').Options}
*/
function linkifyChars(str, options) {
	const tokens = tokenize$1(str);
	const result = [];
	for (let i = 0; i < tokens.length; i++) {
		const token = tokens[i];
		if (token.t === "nl" && options.get("nl2br")) result.push({
			type: StartTag,
			tagName: "br",
			attributes: [],
			selfClosing: true
		});
else if (!token.isLink || !options.check(token)) result.push({
			type: Chars,
			chars: token.toString()
		});
else result.push({
			type: LinkifyResult,
			rendered: options.render(token)
		});
	}
	return result;
}
/**
Returns a list of tokens skipped until the closing tag of tagName.

* `tagName` is the closing tag which will prompt us to stop skipping
* `tokens` is the array of tokens generated by HTML5Tokenizer which
* `i` is the index immediately after the opening tag to skip
* `skippedTokens` is an array which skipped tokens are being pushed into

Caveats

* Assumes that i is the first token after the given opening tagName
* The closing tag will be skipped, but nothing after it
* Will track whether there is a nested tag of the same type
*/
function skipTagTokens(tagName, tokens, i, skippedTokens) {
	let stackCount = 1;
	while (i < tokens.length && stackCount > 0) {
		let token = tokens[i];
		if (token.type === StartTag && token.tagName.toUpperCase() === tagName) stackCount++;
else if (token.type === EndTag && token.tagName.toUpperCase() === tagName) stackCount--;
		skippedTokens.push(token);
		i++;
	}
	return skippedTokens;
}
function defaultRender(_ref) {
	let { tagName, attributes, content } = _ref;
	return `<${tagName} ${attributesToString(attributes)}>${escapeText(content)}</${tagName}>`;
}
function escapeText(text) {
	return text.replace(/</g, "&lt;").replace(/>/g, "&gt;");
}
function escapeAttr(attr) {
	return attr.replace(/"/g, "&quot;");
}
function attributesToString(attributes) {
	const result = [];
	for (const attr in attributes) {
		const val = attributes[attr] + "";
		result.push(`${attr}="${escapeAttr(val)}"`);
	}
	return result.join(" ");
}
function attributeArrayToStrings(attrs) {
	const attrStrs = [];
	for (let i = 0; i < attrs.length; i++) {
		const name = attrs[i][0];
		const value = attrs[i][1] + "";
		attrStrs.push(`${name}="${escapeAttr(value)}"`);
	}
	return attrStrs;
}

//#endregion
//#region src/common/api/worker/Urlifier.ts
function urlify(html) {
	return linkifyHtml(html, {
		defaultProtocol: "https",
		attributes: { rel: "noopener noreferrer" },
		target: "_blank"
	});
}

//#endregion
export { urlify };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXJsaWZpZXItY2h1bmsuanMiLCJuYW1lcyI6WyJuZXh0U3RhdGUiLCJkZWZhdWx0UmVuZGVyIiwic2NoZW1lIiwidG9rZW5pemUiLCJFbnRpdHlQYXJzZXIiLCJFdmVudGVkVG9rZW5pemVyIiwiVG9rZW5pemVyIiwiaHRtbDogc3RyaW5nIl0sInNvdXJjZXMiOlsiLi4vbGlicy9saW5raWZ5LmpzIiwiLi4vbGlicy9saW5raWZ5LWh0bWwuanMiLCIuLi9zcmMvY29tbW9uL2FwaS93b3JrZXIvVXJsaWZpZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVEhJUyBGSUxFIElTIEFVVE9NQVRJQ0FMTFkgR0VORVJBVEVEIERPIE5PVCBFRElUIERJUkVDVExZXG4vLyBTZWUgdXBkYXRlLXRsZHMuanMgZm9yIGVuY29kaW5nL2RlY29kaW5nIGZvcm1hdFxuLy8gaHR0cHM6Ly9kYXRhLmlhbmEub3JnL1RMRC90bGRzLWFscGhhLWJ5LWRvbWFpbi50eHRcbmNvbnN0IGVuY29kZWRUbGRzID0gJ2FhYTFycDNiYjBvdHQzdmllNGMxbGUyb2dhZG81dWRoYWJpN2MwYWRlbXk1Y2VudHVyZTZvdW50YW50MHM5bzF0b3I0ZDBzMXVsdDRlMGcxcm8ydG5hNGYwbDFyaWNhNWcwYWtoYW41ZW5jeTVpMGcxcmJ1czNmb3JjZTV0ZWw1a2RuM2wwaWJhYmE0cGF5NGxmaW5hbno2c3RhdGU1eTJzYWNlM3RvbTVtMGF6b240ZXJpY2FuZXhwcmVzczdmYW1pbHkxMXgyZmFtM2ljYTNzdGVyZGFtOG5hbHl0aWNzN2Ryb2lkNXF1YW40ejJvMGwycGFydG1lbnRzOHAwbGU0cTB1YXJlbGxlOHIwYWIxbWNvNGNoaTNteTJwYTJ0MGUzczBkYTJpYTJzb2NpYXRlczl0MGhsZXRhNXRvcm5leTd1MGN0aW9uNWRpMGJsZTNvM3Nwb3N0NXRob3IzbzBzNHZpYW5jYTZ3MHMyeDBhMnowdXJlNWJhMGJ5MmlkdTNuYW1leDNuYXJlcHVibGljMTFkMWsycjBjZWxvbmE1bGF5Y2FyZDRzNWVmb290NWdhaW5zNnNlYmFsbDVrZXRiYWxsOHVoYXVzNXllcm41YjBjMXQxdmEzY2cxbjJkMWUwYXRzMnV0eTRlcjJudGxleTVybGluNHN0MGJ1eTV0MmYxZzFoMGFydGk1aTBibGUzZDFrZTJuZzBvM28xejJqMWxhY2swZnJpZGF5OW9ja2J1c3RlcjhnMW9tYmVyZzd1ZTNtMHMxdzJuMHBwYXJpYmFzOW8wYXRzM2VocmluZ2VyOGZhMm0xbmQybzBrMGluZzVzY2gydGlrMm9uNHQxdXRpcXVlNngycjBhZGVzY282aWRnZXN0b25lOW9hZHdheTVrZXIzdGhlcjV1c3NlbHM3czF0MXVpbGQwZXJzNnNpbmVzczZ5MXp6M3YxdzF5MXowaDNjYTBiMWZlMmwwbDF2aW5rbGVpbjltMGVyYTNwMm5vbjNwZXRvd241aXRhbDBvbmU4cjBhdmFuNGRzMmUwZXIwczRzMnNhMWUxaDFpbm80dDBlcmluZzVob2xpYzdiYTFuMXJlM2MxZDFlbnRlcjRvMXJuM2YwYTFkMmcxaDBhbmVsMm5lbDRyaXR5NHNlMnQyZWFwM2ludGFpNXJpc3RtYXM2b21lNHVyY2g1aTBwcmlhbmk2cmNsZTRzY28zdGFkZWw0aTBjMnkzazFsMGFpbXM0ZWFuaW5nNmljazJuaWMxcXVlNm90aGluZzV1ZDN1YjBtZWQ2bTFuMW8wYWNoM2RlczNmZmVlNGxsZWdlNG9nbmU1bTBjYXN0NG1iYW5rNHVuaXR5NnBhbnkycmUzdXRlcjVzZWM0bmRvczNzdHJ1Y3Rpb244dWx0aW5nN3RhY3QzcmFjdG9yczlva2luZzRsMXAycnNpY2E1dW50cnk0cG9uMHM0cnNlczZwYTJyMGVkaXQwY2FyZDR1bmlvbjlpY2tldDVvd24zczF1aXNlMHM2dTBpc2luZWxsYTl2MXcxeDF5MG1ydTNvdTN6MmRhYnVyM2QxbmNlM3RhMWUxaW5nM3N1bjR5MmNsazNkczJlMGFsMGVyMnMzZ3JlZTRsaXZlcnk1bDFvaXR0ZTV0YTNtb2NyYXQ2bnRhbDJpc3Q1c2kwZ240djJobDJpYW1vbmRzNmV0MmdpdGFsNXJlY3Qwb3J5N3Njb3VudDN2ZXI1aDJ5MmoxazFtMW5wMm8wY3MxdG9yNGcxbWFpbnM1dDF3bmxvYWQ3cml2ZTR0djJ1YmFpM25sb3A0cG9udDRyYmFuNXZhZzJyMnoyZWFydGgzdDJjMG8yZGVrYTN1MGNhdGlvbjhlMWcxbWFpbDNlcmNrNW5lcmd5NGdpbmVlcjBpbmc5dGVycHJpc2VzMTBwc29uNHF1aXBtZW50OHIwaWNzc29uNm5pM3MwcTF0YXRlNXQxdTByb3Zpc2lvbjhzMnZlbnRzNXhjaGFuZ2U2cGVydDNvc2VkNHJlc3M1dHJhc3BhY2UxMGZhZ2UyaWwxcndpbmRzNnRoM21pbHk0bjBzMnJtMGVyczVzaGlvbjR0M2VkZXgzZWRiYWNrNnJyYXJpM2VybzZpMGRlbGl0eTVvMmxtMm5hbDFuY2UxaWFsN3JlMHN0b25lNm1kYWxlNnNoMGluZzV0MG5lc3M2ajFrMWxpY2tyM2dodHM0cjJvcmlzdDR3ZXJzNXkybTFvMG8wZDF0YmFsbDZyZDFleDJzYWxlNHVtM3VuZGF0aW9uOHgycjBlZTFzZW5pdXM3bDFvZ2FuczRudGllcjd0cjJ1aml0c3U1bjBkMnJuaXR1cmU3dGJvbDV5aTNnYTBsMGxlcnkzbzF1cDRtZTBzM3AxcmRlbjR5MmIwaXozZDBuMmUwYTFudDBpbmc1b3JnZTVmMWcwZWUzaDFpMGZ0MHMzdmVzMmluZzVsMGFzczNlMW9iYWwybzRtMGFpbDNiaDJvMXgybjFvZGFkZHk1bGQwcG9pbnQ2ZjJvMGR5ZWFyNWcwbGU0cDF0MXYycDFxMXIwYWluZ2VyNXBoaWNzNXRpczRlZW4zaXBlM29jZXJ5NHVwNHMxdDF1MGFyZGlhbjZjY2kzZ2UyaWRlMnRhcnM1cnUzdzF5MmhhaXIybWJ1cmc1bmdvdXQ1dXMzYm8yZGZjMGJhbms3ZWFsdGgwY2FyZThscDFzaW5raTZyZTFtZXM1aXBob3A0c2FtaXRzdTd0YWNoaTV2MmswdDJtMW4xb2NrZXk0bGRpbmdzNWlkYXk1bWVkZXBvdDVnb29kczVzMGVuc2U3bmRhM3JzZTNzcGl0YWw1dDBpbmc1dDBlbHMzbWFpbDV1c2UzdzJyMXNiYzN0MXUwZ2hlczV5YXR0M3VuZGFpN2libTJjYmMyZTF1MmQxZTBlZTNmbTJrYW5vNGwxbTBhbWF0NGRiMm1vMGJpbGllbjluMGMxZHVzdHJpZXM4ZmluaXRpNW8yZzFrMXN0aXR1dGU2dXJhbmNlNGU0dDBlcm5hdGlvbmFsMTB1aXQ0dmVzdG1lbnRzMTBvMXBpcmFuZ2E3cTFyMGlzaDRzMG1haWxpNXQwYW5idWw3dDBhdTJ2M2phZ3VhcjR2YTNjYjJlMGVwMnR6dDN3ZWxyeTZpbzJsbDJtMHAybmoybzBiczF1cmc0dDF5MnAwbW9yZ2FuNnJzM3VlZ29zNG5pcGVyN2thdWZlbjVkZGkzZTBycnlob3RlbHM2bG9naXN0aWNzOXByb3BlcnRpZXMxNGZoMmcxaDFpMGExZHMybTFuZGxlNHRjaGVuNXdpM20xbjFvZWxuM21hdHN1NXNoZXI1cDBtZzJuMnIwZDFlZDN1b2tncm91cDh3MXkwb3RvNHoybGEwY2FpeGE1bWJvcmdoaW5pOGVyM25jYXN0ZXI2ZDByb3ZlcjZ4ZXNzNXNhbGxlNXQwaW5vM3JvYmU1dzB5ZXI1YjFjMWRzMmVhc2UzY2xlcmM1ZnJhazRnYWwybzJ4dXM0Z2J0M2kwZGwyZmUwaW5zdXJhbmNlOXN0eWxlN2dodGluZzZrZTJsbHkzbWl0ZWQ0bzJuY29sbjRrMnBzeTN2ZTFpbmc1azFsYzFwMm9hbjBzM2NrZXIzdXMzbDFuZG9uNHR0ZTFvM3ZlM3BsMGZpbmFuY2lhbDExcjFzMXQwZDBhM3UwbmRiZWNrNnhlMXVyeTV2MXkybWEwZHJpZDRpZjFzb240a2V1cDRuMGFnZW1lbnQ3Z28zcDFya2V0MGluZzNzNHJpb3R0NXNoYWxsczd0dGVsNWJhMmMwa2luc2V5N2QxZTBkMGlhM2V0Mmxib3VybmU3bWUxb3JpYWw2bjB1MnJja21zZDdnMWgxaWFtaTNjcm9zb2Z0N2wxbmkxdDJ0MHN1YmlzaGk5azFsMGIxczJtMGEybjFvMGJpMGxlNGRhMmUxaTFtMW5hc2gzZXkyc3RlcjVybW9uM3RnYWdlNnNjb3c0dG8wcmN5Y2xlczl2MGllNHAxcTFyMXMwZDJ0MG4xcjJ1MHNldW0zaWM0djF3MXgxeTF6Mm5hMGIxZ295YTRtZTJ0dXJhNHZ5M2JhMmMxZTBjMXQwYmFuazRmbGl4NHdvcms1dXN0YXI1dzBzMnh0MGRpcmVjdDd1czRmMGwyZzBvMmhrMmkwY28ya2Uxb24zbmphM3NzYW4xeTVsMW8wa2lhM3J0b240dzBydXozdHY0cDFyMGExdzJ0dDJ1MXljMnoyb2JpMXNlcnZlcjdmZmljZTVraW5hd2E2bGF5YW4wZ3JvdXA5ZG5hdnk1bG8zbTBlZ2E0bmUxZzFsMGluZTVvbzJwZW4zcmFjbGUzbmdlNGcwYW5pYzVpZ2luczZzYWthNHRzdWthNHQydmgzcGEwZ2UybmFzb25pYzdyaXMyczF0bmVyczRzMXkzeTJjY3czZTB0MmYwaXplcjVnMWgwYXJtYWN5NmQxaWxpcHM1b25lMnRvMGdyYXBoeTZzNHlzaW81aWNzMXRldDJ1cmVzNmQxbjBnMWsyb25lZXI1enphNGsxbDBhY2UyeTBzdGF0aW9uOXVtYmluZzVzM20xbjBjMm9obDJrZXIzbGl0aWU1cm4yc3QzcjBhbWVyaWNhNnhpM2VzczNpbWUzbzBkMHVjdGlvbnM4ZjFncmVzc2l2ZThtbzJwZXJ0aWVzM3k1dGVjdGlvbjh1MGRlbnRpYWw5czF0MXViMncwYzJ5MnFhMXBvbjN1ZWJlYzNzdDVyYWNpbmc0ZGlvNGUwYWQxbGVzdGF0ZTZ0b3IyeTRjaXBlczVkMHN0b25lNXVtYnJlbGxhOWhhYjNpc2UwbjN0MmxpYW5jZTZuMHQwYWxzNXBhaXIzb3J0M3VibGljYW44c3QwYXVyYW50OHZpZXcwczV4cm90aDZpY2gwYXJkbGk2b2gzbDFvMXAybzBja3MzZGVvM2dlcnM0b20zczB2cDN1MGdieTNocjJuMncwZTJ5dWt5dTZzYTBhcmxhbmQ2ZmUwdHk0a3VyYTRsZTFvbjNtc2NsdWI0dW5nNW5kdmlrMGNvcm9tYW50MTJvZmk0cDFybDJzMXZlMnhvM2IwaTFzMmMwYTFiMWhhZWZmbGVyN21pZHQ0b2xhcnNoaXBzOG9sM3VsZTN3YXJ6NWllbmNlNW90M2QxZTBhcmNoM3QyY3VyZTFpdHk2ZWsybGVjdDRuZXIzcnZpY2VzNnZlbjN3MXgweTNmcjJnMWgwYW5ncmlsYTZycDJ3MmVsbDNpYTFrc2hhNW9lczJwMHBpbmc1dWppM3czaTBsazJuYTFnbGVzNXRlM2oxazBpMG4yeTBwZTRsMGluZzRtMGFydDNpbGU0bjBjZjNvMGNjZXIzaWFsNGZ0YmFuazR3YXJlNmh1MmxhcjJ1dGlvbnM3bmcxeTJ5MnBhMGNlM29ydDJ0M3IwbDJzMXQwYWRhMnBsZXM0cjF0ZWJhbms0ZmFybTdjMGdyb3VwNm9ja2hvbG02cmFnZTNlM3JlYW00dWRpbzJ5M3lsZTR1MGNrczNwcGxpZXMzeTJvcnQ1cmYxZ2VyeTV6dWtpNXYxd2F0Y2g0aXNzNHgxeTBkbmV5NHN0ZW1zNnoydGFiMWlwZWk0bGsyb2JhbzRyZ2V0NHRhbW90b3JzNnIydG9vNHgwaTNjMGkyZDBrMmVhbTJjaDBub2xvZ3k4bDFtYXNlazVubmlzNHZhM2YxZzFoMGQxZWF0ZXIycmU2aWFhMmNrZXRzNWVuZGE0cHMycmVzMm9sNGowbWF4eDR4MmswbWF4eDVsMW0wYWxsNG4xbzBkYXkza3lvM29sczNwMXJheTNzaGliYTV0YWwzdXJzM3duMnlvdGEzczNyMGFkZTFpbmc0aW5pbmc1dmVsMGVyczBpbnN1cmFuY2UxNnVzdDN2MnQxdWJlMmkxbmVzM3NodTR2MHMydzF6MnVhMWJhbmszczJnMWsxbmljb20zdmVyc2l0eThvMm9sMnBzMnMxeTF6MnZhMGNhdGlvbnM3bmExZ3VhcmQ3YzFlMGdhczNudHVyZXM2cmlzaWduNW3DtmdlbnNiZXJhdGVyMnVuZzE0c2ljaGVydW5nMTB0MmcxaTBhamVzNGRlbzNnMWtpbmc0bGxhczRuMXAxcmdpbjRzYTFpb240dmExbzNsYWFuZGVyZW45bjFvZGthM2x2bzN0ZTFpbmczbzJ5YWdlNXUyd2FsZXMybWFydDR0ZXI0bmcwZ291NXRjaDBlczZlYXRoZXIwY2hhbm5lbDEyYmNhbTNlcjJzaXRlNWQwZGluZzVpYm8ycjNmMWhvc3dobzZpZW4ya2kybGxpYW1oaWxsOW4wZG93czRlMW5lcnM2bWUyb2x0ZXJza2x1d2VyMTFvZHNpZGU2cmswczJsZDN3MnMxdGMxZjN4Ym94M2Vyb3g0ZmluaXR5NmlodWFuNG4yeHgyeXozeWFjaHRzNGhvbzNtYXh1bjVuZGV4NWUxb2RvYmFzaGk3Z2Eya29oYW1hNnUwdHViZTZ0MXVuM3phMHBwb3M0cmEzZXJvM2lwMm0xb25lM3VlcmljaDZ3Mic7XG4vLyBJbnRlcm5hdGlvbmFsaXplZCBkb21haW4gbmFtZXMgY29udGFpbmluZyBub24tQVNDSUlcbmNvbnN0IGVuY29kZWRVdGxkcyA9ICfOtc67Mc+FMtCx0LMx0LXQuzPQtNC10YLQuDTQtdGOMtC60LDRgtC+0LvQuNC6NtC+0Lwz0LzQutC0MtC+0L0x0YHQutCy0LA20L7QvdC70LDQudC9NdGA0LMz0YDRg9GBMtGEMtGB0LDQudGCM9GA0LEz0YPQutGAM9Kb0LDQtzPVsNWh1bUz15nXqdeo15DXnDXXp9eV150z2KfYqNmI2LjYqNmKNdix2KfZhdmD2Yg12YTYp9ix2K/ZhjTYqNit2LHZitmGNdis2LLYp9im2LE12LPYudmI2K/ZitipNti52YTZitin2YY12YXYutix2Kg12YXYp9ix2KfYqjXbjNix2KfZhjXYqNin2LHYqjLYstin2LE02YrYqtmDM9q+2KfYsdiqNdiq2YjZhtizNNiz2YjYr9in2YYz2LHZitipNdi02KjZg9ipNNi52LHYp9mCMtioMtmF2KfZhjTZgdmE2LPYt9mK2YY22YLYt9ixM9mD2KfYq9mI2YTZitmDNtmI2YUz2YXYtdixMtmE2YrYs9mK2Kc12YjYsdmK2KrYp9mG2YrYpzfZgti5NNmH2YXYsdin2Yc12b7Yp9qp2LPYqtin2YY32oDYp9ix2Ko04KSV4KWJ4KSuM+CkqOClh+CknzPgpK3gpL7gpLDgpKQw4KSu4KWNM+Cli+CkpDXgpLjgpILgpJfgpKDgpKg14Kas4Ka+4KaC4Kay4Ka+NeCmreCmvuCmsOCmpDLgp7DgpqQ04Kit4Ki+4Kiw4KikNOCqreCqvuCqsOCqpDTgrK3grL7grLDgrKQ04K6H4K6o4K+N4K6k4K6/4K6v4K6+NuCusuCumeCvjeCuleCviDbgrprgrr/grpngr43grpXgrqrgr43grqrgr4LgrrDgr40xMeCwreCwvuCwsOCwpOCxjTXgsq3gsr7gsrDgsqQ04LSt4LS+4LSw4LSk4LSCNeC2veC2guC2muC3jzTguITguK3guKEz4LmE4LiX4LiiM+C6peC6suC6pzPhg5Lhg5Qy44G/44KT44GqM+OCouODnuOCvuODszTjgq/jg6njgqbjg4k044Kw44O844Kw44OrNOOCs+ODoDLjgrnjg4jjgqIz44K744O844OrM+ODleOCoeODg+OCt+ODp+ODszbjg53jgqTjg7Pjg4g05LiW55WMMuS4reS/oTHlm70x5ZyLMeaWh+e9kTPkuprpqazpgIoz5LyB5LiaMuS9m+WxsTLkv6Hmga8y5YGl5bq3MuWFq+WNpjLlhazlj7gx55uKMuWPsOa5vjHngaMy5ZWG5Z+OMeW6lzHmoIcy5ZiJ6YeMMOWkp+mFkuW6lzXlnKjnur8y5aSn5ou/MuWkqeS4u+aVmTPlqLHkuZAy5a626Zu7MuW5v+S4nDLlvq7ljZoy5oWI5ZaEMuaIkeeIseS9oDPmiYvmnLoy5oub6IGYMuaUv+WKoTHlupwy5paw5Yqg5Z2hMumXuzLml7blsJoy5pu457GNMuacuuaehDLmt6HpqazplKEz5ri45oiPMua+s+mWgDLngrnnnIsy56e75YqoMue7hOe7h+acuuaehDTnvZHlnYAx5bqXMeermTHnu5wy6IGU6YCaMuiwt+atjDLotK3niaky6YCa6LKpMumbhuWbojLpm7voqIrnm4jnp5E06aOe5Yip5rWmM+mjn+WTgTLppJDljoUy6aaZ5qC86YeM5ouJM+a4rzLri7frhLcx7Lu0MuyCvOyEsTLtlZzqta0yJztcblxuLyoqXG4gKiBAdGVtcGxhdGUgQVxuICogQHRlbXBsYXRlIEJcbiAqIEBwYXJhbSB7QX0gdGFyZ2V0XG4gKiBAcGFyYW0ge0J9IHByb3BlcnRpZXNcbiAqIEByZXR1cm4ge0EgJiBCfVxuICovXG5jb25zdCBhc3NpZ24gPSAodGFyZ2V0LCBwcm9wZXJ0aWVzKSA9PiB7XG4gIGZvciAoY29uc3Qga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICB0YXJnZXRba2V5XSA9IHByb3BlcnRpZXNba2V5XTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuLyoqXG4gKiBGaW5pdGUgU3RhdGUgTWFjaGluZSBnZW5lcmF0aW9uIHV0aWxpdGllc1xuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHt7IFtncm91cDogc3RyaW5nXTogVFtdIH19IENvbGxlY3Rpb25zXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7eyBbZ3JvdXA6IHN0cmluZ106IHRydWUgfX0gRmxhZ3NcbiAqL1xuXG4vLyBLZXlzIGluIHNjYW5uZXIgQ29sbGVjdGlvbnMgaW5zdGFuY2VzXG5jb25zdCBudW1lcmljID0gJ251bWVyaWMnO1xuY29uc3QgYXNjaWkgPSAnYXNjaWknO1xuY29uc3QgYWxwaGEgPSAnYWxwaGEnO1xuY29uc3QgYXNjaWludW1lcmljID0gJ2FzY2lpbnVtZXJpYyc7XG5jb25zdCBhbHBoYW51bWVyaWMgPSAnYWxwaGFudW1lcmljJztcbmNvbnN0IGRvbWFpbiA9ICdkb21haW4nO1xuY29uc3QgZW1vamkgPSAnZW1vamknO1xuY29uc3Qgc2NoZW1lID0gJ3NjaGVtZSc7XG5jb25zdCBzbGFzaHNjaGVtZSA9ICdzbGFzaHNjaGVtZSc7XG5jb25zdCB3aGl0ZXNwYWNlID0gJ3doaXRlc3BhY2UnO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtDb2xsZWN0aW9uczxUPn0gZ3JvdXBzIHRvIHJlZ2lzdGVyIGluXG4gKiBAcmV0dXJucyB7VFtdfSBDdXJyZW50IGxpc3Qgb2YgdG9rZW5zIGluIHRoZSBnaXZlbiBjb2xsZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyR3JvdXAobmFtZSwgZ3JvdXBzKSB7XG4gIGlmICghKG5hbWUgaW4gZ3JvdXBzKSkge1xuICAgIGdyb3Vwc1tuYW1lXSA9IFtdO1xuICB9XG4gIHJldHVybiBncm91cHNbbmFtZV07XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gdCB0b2tlbiB0byBhZGRcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbnM8VD59IGdyb3Vwc1xuICogQHBhcmFtIHtGbGFnc30gZmxhZ3NcbiAqL1xuZnVuY3Rpb24gYWRkVG9Hcm91cHModCwgZmxhZ3MsIGdyb3Vwcykge1xuICBpZiAoZmxhZ3NbbnVtZXJpY10pIHtcbiAgICBmbGFnc1thc2NpaW51bWVyaWNdID0gdHJ1ZTtcbiAgICBmbGFnc1thbHBoYW51bWVyaWNdID0gdHJ1ZTtcbiAgfVxuICBpZiAoZmxhZ3NbYXNjaWldKSB7XG4gICAgZmxhZ3NbYXNjaWludW1lcmljXSA9IHRydWU7XG4gICAgZmxhZ3NbYWxwaGFdID0gdHJ1ZTtcbiAgfVxuICBpZiAoZmxhZ3NbYXNjaWludW1lcmljXSkge1xuICAgIGZsYWdzW2FscGhhbnVtZXJpY10gPSB0cnVlO1xuICB9XG4gIGlmIChmbGFnc1thbHBoYV0pIHtcbiAgICBmbGFnc1thbHBoYW51bWVyaWNdID0gdHJ1ZTtcbiAgfVxuICBpZiAoZmxhZ3NbYWxwaGFudW1lcmljXSkge1xuICAgIGZsYWdzW2RvbWFpbl0gPSB0cnVlO1xuICB9XG4gIGlmIChmbGFnc1tlbW9qaV0pIHtcbiAgICBmbGFnc1tkb21haW5dID0gdHJ1ZTtcbiAgfVxuICBmb3IgKGNvbnN0IGsgaW4gZmxhZ3MpIHtcbiAgICBjb25zdCBncm91cCA9IHJlZ2lzdGVyR3JvdXAoaywgZ3JvdXBzKTtcbiAgICBpZiAoZ3JvdXAuaW5kZXhPZih0KSA8IDApIHtcbiAgICAgIGdyb3VwLnB1c2godCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gdCB0b2tlbiB0byBjaGVja1xuICogQHBhcmFtIHtDb2xsZWN0aW9uczxUPn0gZ3JvdXBzXG4gKiBAcmV0dXJucyB7RmxhZ3N9IGdyb3VwIGZsYWdzIHRoYXQgY29udGFpbiB0aGlzIHRva2VuXG4gKi9cbmZ1bmN0aW9uIGZsYWdzRm9yVG9rZW4odCwgZ3JvdXBzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBmb3IgKGNvbnN0IGMgaW4gZ3JvdXBzKSB7XG4gICAgaWYgKGdyb3Vwc1tjXS5pbmRleE9mKHQpID49IDApIHtcbiAgICAgIHJlc3VsdFtjXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHtudWxsIHwgVCB9IFRyYW5zaXRpb25cbiAqL1xuXG4vKipcbiAqIERlZmluZSBhIGJhc2ljIHN0YXRlIG1hY2hpbmUgc3RhdGUuIGogaXMgdGhlIGxpc3Qgb2YgY2hhcmFjdGVyIHRyYW5zaXRpb25zLFxuICoganIgaXMgdGhlIGxpc3Qgb2YgcmVnZXgtbWF0Y2ggdHJhbnNpdGlvbnMsIGpkIGlzIHRoZSBkZWZhdWx0IHN0YXRlIHRvXG4gKiB0cmFuc2l0aW9uIHRvIHQgaXMgdGhlIGFjY2VwdGluZyB0b2tlbiB0eXBlLCBpZiBhbnkuIElmIHRoaXMgaXMgdGhlIHRlcm1pbmFsXG4gKiBzdGF0ZSwgdGhlbiBpdCBkb2VzIG5vdCBlbWl0IGEgdG9rZW4uXG4gKlxuICogVGhlIHRlbXBsYXRlIHR5cGUgVCByZXByZXNlbnRzIHRoZSB0eXBlIG9mIHRoZSB0b2tlbiB0aGlzIHN0YXRlIGFjY2VwdHMuIFRoaXNcbiAqIHNob3VsZCBiZSBhIHN0cmluZyAoc3VjaCBhcyBvZiB0aGUgdG9rZW4gZXhwb3J0cyBpbiBgdGV4dC5qc2ApIG9yIGFcbiAqIE11bHRpVG9rZW4gc3ViY2xhc3MgKGZyb20gYG11bHRpLmpzYClcbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBbdG9rZW5dIFRva2VuIHRoYXQgdGhpcyBzdGF0ZSBlbWl0c1xuICovXG5mdW5jdGlvbiBTdGF0ZSh0b2tlbikge1xuICBpZiAodG9rZW4gPT09IHZvaWQgMCkge1xuICAgIHRva2VuID0gbnVsbDtcbiAgfVxuICAvLyB0aGlzLm4gPSBudWxsOyAvLyBERUJVRzogU3RhdGUgbmFtZVxuICAvKiogQHR5cGUge3sgW2lucHV0OiBzdHJpbmddOiBTdGF0ZTxUPiB9fSBqICovXG4gIHRoaXMuaiA9IHt9OyAvLyBJTVBMRU1FTlRBVElPTiAxXG4gIC8vIHRoaXMuaiA9IFtdOyAvLyBJTVBMRU1FTlRBVElPTiAyXG4gIC8qKiBAdHlwZSB7W1JlZ0V4cCwgU3RhdGU8VD5dW119IGpyICovXG4gIHRoaXMuanIgPSBbXTtcbiAgLyoqIEB0eXBlIHs/U3RhdGU8VD59IGpkICovXG4gIHRoaXMuamQgPSBudWxsO1xuICAvKiogQHR5cGUgez9UfSB0ICovXG4gIHRoaXMudCA9IHRva2VuO1xufVxuXG4vKipcbiAqIFNjYW5uZXIgdG9rZW4gZ3JvdXBzXG4gKiBAdHlwZSBDb2xsZWN0aW9uczxzdHJpbmc+XG4gKi9cblN0YXRlLmdyb3VwcyA9IHt9O1xuU3RhdGUucHJvdG90eXBlID0ge1xuICBhY2NlcHRzKCkge1xuICAgIHJldHVybiAhIXRoaXMudDtcbiAgfSxcbiAgLyoqXG4gICAqIEZvbGxvdyBhbiBleGlzdGluZyB0cmFuc2l0aW9uIGZyb20gdGhlIGdpdmVuIGlucHV0IHRvIHRoZSBuZXh0IHN0YXRlLlxuICAgKiBEb2VzIG5vdCBtdXRhdGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBjaGFyYWN0ZXIgb3IgdG9rZW4gdHlwZSB0byB0cmFuc2l0aW9uIG9uXG4gICAqIEByZXR1cm5zIHs/U3RhdGU8VD59IHRoZSBuZXh0IHN0YXRlLCBpZiBhbnlcbiAgICovXG4gIGdvKGlucHV0KSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzO1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IHN0YXRlLmpbaW5wdXRdO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGUuanIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gc3RhdGUuanJbaV1bMF07XG4gICAgICBjb25zdCBuZXh0U3RhdGUgPSBzdGF0ZS5qcltpXVsxXTsgLy8gbm90ZTogbWlnaHQgYmUgZW1wdHkgdG8gcHJldmVudCBkZWZhdWx0IGp1bXBcbiAgICAgIGlmIChuZXh0U3RhdGUgJiYgcmVnZXgudGVzdChpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTm93aGVyZSBsZWZ0IHRvIGp1bXAhIFJldHVybiBkZWZhdWx0LCBpZiBhbnlcbiAgICByZXR1cm4gc3RhdGUuamQ7XG4gIH0sXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBzdGF0ZSBoYXMgYSB0cmFuc2l0aW9uIGZvciB0aGUgZ2l2ZW4gaW5wdXQuIFNldCB0aGUgc2Vjb25kXG4gICAqIGFyZ3VtZW50IHRvIHRydWUgdG8gb25seSBsb29rIGZvciBhbiBleGFjdCBtYXRjaCAoYW5kIG5vdCBhIGRlZmF1bHQgb3JcbiAgICogcmVndWxhci1leHByZXNzaW9uLWJhc2VkIHRyYW5zaXRpb24pXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4YWN0T25seVxuICAgKi9cbiAgaGFzKGlucHV0LCBleGFjdE9ubHkpIHtcbiAgICBpZiAoZXhhY3RPbmx5ID09PSB2b2lkIDApIHtcbiAgICAgIGV4YWN0T25seSA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZXhhY3RPbmx5ID8gaW5wdXQgaW4gdGhpcy5qIDogISF0aGlzLmdvKGlucHV0KTtcbiAgfSxcbiAgLyoqXG4gICAqIFNob3J0IGZvciBcInRyYW5zaXRpb24gYWxsXCI7IGNyZWF0ZSBhIHRyYW5zaXRpb24gZnJvbSB0aGUgYXJyYXkgb2YgaXRlbXNcbiAgICogaW4gdGhlIGdpdmVuIGxpc3QgdG8gdGhlIHNhbWUgZmluYWwgcmVzdWx0aW5nIHN0YXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBpbnB1dHMgR3JvdXAgb2YgaW5wdXRzIHRvIHRyYW5zaXRpb24gb25cbiAgICogQHBhcmFtIHtUcmFuc2l0aW9uPFQ+IHwgU3RhdGU8VD59IFtuZXh0XSBUcmFuc2l0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtGbGFnc30gW2ZsYWdzXSBDb2xsZWN0aW9ucyBmbGFncyB0byBhZGQgdG9rZW4gdG9cbiAgICogQHBhcmFtIHtDb2xsZWN0aW9uczxUPn0gW2dyb3Vwc10gTWFzdGVyIGxpc3Qgb2YgdG9rZW4gZ3JvdXBzXG4gICAqL1xuICB0YShpbnB1dHMsIG5leHQsIGZsYWdzLCBncm91cHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy50dChpbnB1dHNbaV0sIG5leHQsIGZsYWdzLCBncm91cHMpO1xuICAgIH1cbiAgfSxcbiAgLyoqXG4gICAqIFNob3J0IGZvciBcInRha2UgcmVnZXhwIHRyYW5zaXRpb25cIjsgZGVmaW5lcyBhIHRyYW5zaXRpb24gZm9yIHRoaXMgc3RhdGVcbiAgICogd2hlbiBpdCBlbmNvdW50ZXJzIGEgdG9rZW4gd2hpY2ggbWF0Y2hlcyB0aGUgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uXG4gICAqIEBwYXJhbSB7UmVnRXhwfSByZWdleHAgUmVndWxhciBleHByZXNzaW9uIHRyYW5zaXRpb24gKHBvcHVsYXRlIGZpcnN0KVxuICAgKiBAcGFyYW0ge1QgfCBTdGF0ZTxUPn0gW25leHRdIFRyYW5zaXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge0ZsYWdzfSBbZmxhZ3NdIENvbGxlY3Rpb25zIGZsYWdzIHRvIGFkZCB0b2tlbiB0b1xuICAgKiBAcGFyYW0ge0NvbGxlY3Rpb25zPFQ+fSBbZ3JvdXBzXSBNYXN0ZXIgbGlzdCBvZiB0b2tlbiBncm91cHNcbiAgICogQHJldHVybnMge1N0YXRlPFQ+fSB0YWtlbiBhZnRlciB0aGUgZ2l2ZW4gaW5wdXRcbiAgICovXG4gIHRyKHJlZ2V4cCwgbmV4dCwgZmxhZ3MsIGdyb3Vwcykge1xuICAgIGdyb3VwcyA9IGdyb3VwcyB8fCBTdGF0ZS5ncm91cHM7XG4gICAgbGV0IG5leHRTdGF0ZTtcbiAgICBpZiAobmV4dCAmJiBuZXh0LmopIHtcbiAgICAgIG5leHRTdGF0ZSA9IG5leHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRva2VuIHdpdGggbWF5YmUgdG9rZW4gZ3JvdXBzXG4gICAgICBuZXh0U3RhdGUgPSBuZXcgU3RhdGUobmV4dCk7XG4gICAgICBpZiAoZmxhZ3MgJiYgZ3JvdXBzKSB7XG4gICAgICAgIGFkZFRvR3JvdXBzKG5leHQsIGZsYWdzLCBncm91cHMpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmpyLnB1c2goW3JlZ2V4cCwgbmV4dFN0YXRlXSk7XG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfSxcbiAgLyoqXG4gICAqIFNob3J0IGZvciBcInRha2UgdHJhbnNpdGlvbnNcIiwgd2lsbCB0YWtlIGFzIG1hbnkgc2VxdWVudGlhbCB0cmFuc2l0aW9ucyBhc1xuICAgKiB0aGUgbGVuZ3RoIG9mIHRoZSBnaXZlbiBpbnB1dCBhbmQgcmV0dXJucyB0aGVcbiAgICogcmVzdWx0aW5nIGZpbmFsIHN0YXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBpbnB1dFxuICAgKiBAcGFyYW0ge1QgfCBTdGF0ZTxUPn0gW25leHRdIFRyYW5zaXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge0ZsYWdzfSBbZmxhZ3NdIENvbGxlY3Rpb25zIGZsYWdzIHRvIGFkZCB0b2tlbiB0b1xuICAgKiBAcGFyYW0ge0NvbGxlY3Rpb25zPFQ+fSBbZ3JvdXBzXSBNYXN0ZXIgbGlzdCBvZiB0b2tlbiBncm91cHNcbiAgICogQHJldHVybnMge1N0YXRlPFQ+fSB0YWtlbiBhZnRlciB0aGUgZ2l2ZW4gaW5wdXRcbiAgICovXG4gIHRzKGlucHV0LCBuZXh0LCBmbGFncywgZ3JvdXBzKSB7XG4gICAgbGV0IHN0YXRlID0gdGhpcztcbiAgICBjb25zdCBsZW4gPSBpbnB1dC5sZW5ndGg7XG4gICAgaWYgKCFsZW4pIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4gLSAxOyBpKyspIHtcbiAgICAgIHN0YXRlID0gc3RhdGUudHQoaW5wdXRbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUudHQoaW5wdXRbbGVuIC0gMV0sIG5leHQsIGZsYWdzLCBncm91cHMpO1xuICB9LFxuICAvKipcbiAgICogU2hvcnQgZm9yIFwidGFrZSB0cmFuc2l0aW9uXCIsIHRoaXMgaXMgYSBtZXRob2QgZm9yIGJ1aWxkaW5nL3dvcmtpbmcgd2l0aFxuICAgKiBzdGF0ZSBtYWNoaW5lcy5cbiAgICpcbiAgICogSWYgYSBzdGF0ZSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhlIGdpdmVuIGlucHV0LCByZXR1cm5zIGl0LlxuICAgKlxuICAgKiBJZiBhIHRva2VuIGlzIHNwZWNpZmllZCwgdGhhdCBzdGF0ZSB3aWxsIGVtaXQgdGhhdCB0b2tlbiB3aGVuIHJlYWNoZWQgYnlcbiAgICogdGhlIGxpbmtpZnkgZW5naW5lLlxuICAgKlxuICAgKiBJZiBubyBzdGF0ZSBleGlzdHMsIGl0IHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCBzb21lIGRlZmF1bHQgdHJhbnNpdGlvbnNcbiAgICogdGhhdCByZXNlbWJsZSBleGlzdGluZyBkZWZhdWx0IHRyYW5zaXRpb25zLlxuICAgKlxuICAgKiBJZiBhIHN0YXRlIGlzIGdpdmVuIGZvciB0aGUgc2Vjb25kIGFyZ3VtZW50LCB0aGF0IHN0YXRlIHdpbGwgYmVcbiAgICogdHJhbnNpdGlvbmVkIHRvIG9uIHRoZSBnaXZlbiBpbnB1dCByZWdhcmRsZXNzIG9mIHdoYXQgdGhhdCBpbnB1dFxuICAgKiBwcmV2aW91c2x5IGRpZC5cbiAgICpcbiAgICogU3BlY2lmeSBhIHRva2VuIGdyb3VwIGZsYWdzIHRvIGRlZmluZSBncm91cHMgdGhhdCB0aGlzIHRva2VuIGJlbG9uZ3MgdG8uXG4gICAqIFRoZSB0b2tlbiB3aWxsIGJlIGFkZGVkIHRvIGNvcnJlc3BvbmRpbmcgZW50aXJlcyBpbiB0aGUgZ2l2ZW4gZ3JvdXBzXG4gICAqIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IGNoYXJhY3RlciwgdG9rZW4gdHlwZSB0byB0cmFuc2l0aW9uIG9uXG4gICAqIEBwYXJhbSB7VCB8IFN0YXRlPFQ+fSBbbmV4dF0gVHJhbnNpdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7RmxhZ3N9IFtmbGFnc10gQ29sbGVjdGlvbnMgZmxhZ3MgdG8gYWRkIHRva2VuIHRvXG4gICAqIEBwYXJhbSB7Q29sbGVjdGlvbnM8VD59IFtncm91cHNdIE1hc3RlciBsaXN0IG9mIGdyb3Vwc1xuICAgKiBAcmV0dXJucyB7U3RhdGU8VD59IHRha2VuIGFmdGVyIHRoZSBnaXZlbiBpbnB1dFxuICAgKi9cbiAgdHQoaW5wdXQsIG5leHQsIGZsYWdzLCBncm91cHMpIHtcbiAgICBncm91cHMgPSBncm91cHMgfHwgU3RhdGUuZ3JvdXBzO1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcztcblxuICAgIC8vIENoZWNrIGlmIGV4aXN0aW5nIHN0YXRlIGdpdmVuLCBqdXN0IGEgYmFzaWMgdHJhbnNpdGlvblxuICAgIGlmIChuZXh0ICYmIG5leHQuaikge1xuICAgICAgc3RhdGUualtpbnB1dF0gPSBuZXh0O1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfVxuICAgIGNvbnN0IHQgPSBuZXh0O1xuXG4gICAgLy8gVGFrZSB0aGUgdHJhbnNpdGlvbiB3aXRoIHRoZSB1c3VhbCBkZWZhdWx0IG1lY2hhbmlzbXMgYW5kIHVzZSB0aGF0IGFzXG4gICAgLy8gYSB0ZW1wbGF0ZSBmb3IgY3JlYXRpbmcgdGhlIG5leHQgc3RhdGVcbiAgICBsZXQgbmV4dFN0YXRlLFxuICAgICAgdGVtcGxhdGVTdGF0ZSA9IHN0YXRlLmdvKGlucHV0KTtcbiAgICBpZiAodGVtcGxhdGVTdGF0ZSkge1xuICAgICAgbmV4dFN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICBhc3NpZ24obmV4dFN0YXRlLmosIHRlbXBsYXRlU3RhdGUuaik7XG4gICAgICBuZXh0U3RhdGUuanIucHVzaC5hcHBseShuZXh0U3RhdGUuanIsIHRlbXBsYXRlU3RhdGUuanIpO1xuICAgICAgbmV4dFN0YXRlLmpkID0gdGVtcGxhdGVTdGF0ZS5qZDtcbiAgICAgIG5leHRTdGF0ZS50ID0gdGVtcGxhdGVTdGF0ZS50O1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0U3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICB9XG4gICAgaWYgKHQpIHtcbiAgICAgIC8vIEVuc3VyZSBuZXdseSB0b2tlbiBpcyBpbiB0aGUgc2FtZSBncm91cHMgYXMgdGhlIG9sZCB0b2tlblxuICAgICAgaWYgKGdyb3Vwcykge1xuICAgICAgICBpZiAobmV4dFN0YXRlLnQgJiYgdHlwZW9mIG5leHRTdGF0ZS50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGNvbnN0IGFsbEZsYWdzID0gYXNzaWduKGZsYWdzRm9yVG9rZW4obmV4dFN0YXRlLnQsIGdyb3VwcyksIGZsYWdzKTtcbiAgICAgICAgICBhZGRUb0dyb3Vwcyh0LCBhbGxGbGFncywgZ3JvdXBzKTtcbiAgICAgICAgfSBlbHNlIGlmIChmbGFncykge1xuICAgICAgICAgIGFkZFRvR3JvdXBzKHQsIGZsYWdzLCBncm91cHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGUudCA9IHQ7IC8vIG92ZXJ3cml0ZSBhbnl0aGluZyB0aGF0IHdhcyBwcmV2aW91c2x5IHRoZXJlXG4gICAgfVxuXG4gICAgc3RhdGUualtpbnB1dF0gPSBuZXh0U3RhdGU7XG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfVxufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9ucyB0byBpbXByb3ZlIG1pbmlmaWNhdGlvbiAobm90IGV4cG9ydGVkIG91dHNpZGUgbGlua2lmeWpzIG1vZHVsZSlcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtTdGF0ZTxUPn0gc3RhdGVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IGlucHV0XG4gKiBAcGFyYW0ge0ZsYWdzfSBbZmxhZ3NdXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb25zPFQ+fSBbZ3JvdXBzXVxuICovXG5jb25zdCB0YSA9IChzdGF0ZSwgaW5wdXQsIG5leHQsIGZsYWdzLCBncm91cHMpID0+IHN0YXRlLnRhKGlucHV0LCBuZXh0LCBmbGFncywgZ3JvdXBzKTtcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtTdGF0ZTxUPn0gc3RhdGVcbiAqIEBwYXJhbSB7UmVnRXhwfSByZWdleHBcbiAqIEBwYXJhbSB7VCB8IFN0YXRlPFQ+fSBbbmV4dF1cbiAqIEBwYXJhbSB7RmxhZ3N9IFtmbGFnc11cbiAqIEBwYXJhbSB7Q29sbGVjdGlvbnM8VD59IFtncm91cHNdXG4gKi9cbmNvbnN0IHRyID0gKHN0YXRlLCByZWdleHAsIG5leHQsIGZsYWdzLCBncm91cHMpID0+IHN0YXRlLnRyKHJlZ2V4cCwgbmV4dCwgZmxhZ3MsIGdyb3Vwcyk7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7U3RhdGU8VD59IHN0YXRlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBpbnB1dFxuICogQHBhcmFtIHtUIHwgU3RhdGU8VD59IFtuZXh0XVxuICogQHBhcmFtIHtGbGFnc30gW2ZsYWdzXVxuICogQHBhcmFtIHtDb2xsZWN0aW9uczxUPn0gW2dyb3Vwc11cbiAqL1xuY29uc3QgdHMgPSAoc3RhdGUsIGlucHV0LCBuZXh0LCBmbGFncywgZ3JvdXBzKSA9PiBzdGF0ZS50cyhpbnB1dCwgbmV4dCwgZmxhZ3MsIGdyb3Vwcyk7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7U3RhdGU8VD59IHN0YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXRcbiAqIEBwYXJhbSB7VCB8IFN0YXRlPFQ+fSBbbmV4dF1cbiAqIEBwYXJhbSB7Q29sbGVjdGlvbnM8VD59IFtncm91cHNdXG4gKiBAcGFyYW0ge0ZsYWdzfSBbZmxhZ3NdXG4gKi9cbmNvbnN0IHR0ID0gKHN0YXRlLCBpbnB1dCwgbmV4dCwgZmxhZ3MsIGdyb3VwcykgPT4gc3RhdGUudHQoaW5wdXQsIG5leHQsIGZsYWdzLCBncm91cHMpO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5UZXh0IFRva2Vuc1xuSWRlbnRpZmllcnMgZm9yIHRva2VuIG91dHB1dHMgZnJvbSB0aGUgcmVnZXhwIHNjYW5uZXJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLy8gQSB2YWxpZCB3ZWIgZG9tYWluIHRva2VuXG5jb25zdCBXT1JEID0gJ1dPUkQnOyAvLyBvbmx5IGNvbnRhaW5zIGEtelxuY29uc3QgVVdPUkQgPSAnVVdPUkQnOyAvLyBjb250YWlucyBsZXR0ZXJzIG90aGVyIHRoYW4gYS16LCB1c2VkIGZvciBJRE5cblxuLy8gU3BlY2lhbCBjYXNlIG9mIHdvcmRcbmNvbnN0IExPQ0FMSE9TVCA9ICdMT0NBTEhPU1QnO1xuXG4vLyBWYWxpZCB0b3AtbGV2ZWwgZG9tYWluLCBzcGVjaWFsIGNhc2Ugb2YgV09SRCAoc2VlIHRsZHMuanMpXG5jb25zdCBUTEQgPSAnVExEJztcblxuLy8gVmFsaWQgSUROIFRMRCwgc3BlY2lhbCBjYXNlIG9mIFVXT1JEIChzZWUgdGxkcy5qcylcbmNvbnN0IFVUTEQgPSAnVVRMRCc7XG5cbi8vIFRoZSBzY2hlbWUgcG9ydGlvbiBvZiBhIHdlYiBVUkkgcHJvdG9jb2wuIFN1cHBvcnRlZCB0eXBlcyBpbmNsdWRlOiBgbWFpbHRvYCxcbi8vIGBmaWxlYCwgYW5kIHVzZXItZGVmaW5lZCBjdXN0b20gcHJvdG9jb2xzLiBMaW1pdGVkIHRvIHNjaGVtZXMgdGhhdCBjb250YWluXG4vLyBvbmx5IGxldHRlcnNcbmNvbnN0IFNDSEVNRSA9ICdTQ0hFTUUnO1xuXG4vLyBTaW1pbGFyIHRvIFNDSEVNRSwgZXhjZXB0IG1ha2VzIGRpc3RpbmN0aW9uIGZvciBzY2hlbWVzIHRoYXQgbXVzdCBhbHdheXMgYmVcbi8vIGZvbGxvd2VkIGJ5IGA6Ly9gLCBub3QganVzdCBgOmAuIFN1cHBvcnRlZCB0eXBlcyBpbmNsdWRlIGBodHRwYCwgYGh0dHBzYCxcbi8vIGBmdHBgLCBgZnRwc2BcbmNvbnN0IFNMQVNIX1NDSEVNRSA9ICdTTEFTSF9TQ0hFTUUnO1xuXG4vLyBBbnkgc2VxdWVuY2Ugb2YgZGlnaXRzIDAtOVxuY29uc3QgTlVNID0gJ05VTSc7XG5cbi8vIEFueSBudW1iZXIgb2YgY29uc2VjdXRpdmUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBuZXdsaW5lXG5jb25zdCBXUyA9ICdXUyc7XG5cbi8vIE5ldyBsaW5lICh1bml4IHN0eWxlKVxuY29uc3QgTkwkMSA9ICdOTCc7IC8vIFxcblxuXG4vLyBPcGVuaW5nL2Nsb3NpbmcgYnJhY2tldCBjbGFzc2VzXG4vLyBUT0RPOiBSZW5hbWUgT1BFTiAtPiBMRUZUIGFuZCBDTE9TRSAtPiBSSUdIVCBpbiB2NSB0byBmaXQgd2l0aCBVbmljb2RlIG5hbWVzXG4vLyBBbHNvIHJlbmFtZSBhbmdsZSBicmFja2VzIHRvIExFU1NUSEFOIGFuZCBHUkVBVEVSIFRIQU5cbmNvbnN0IE9QRU5CUkFDRSA9ICdPUEVOQlJBQ0UnOyAvLyB7XG5jb25zdCBDTE9TRUJSQUNFID0gJ0NMT1NFQlJBQ0UnOyAvLyB9XG5jb25zdCBPUEVOQlJBQ0tFVCA9ICdPUEVOQlJBQ0tFVCc7IC8vIFtcbmNvbnN0IENMT1NFQlJBQ0tFVCA9ICdDTE9TRUJSQUNLRVQnOyAvLyBdXG5jb25zdCBPUEVOUEFSRU4gPSAnT1BFTlBBUkVOJzsgLy8gKFxuY29uc3QgQ0xPU0VQQVJFTiA9ICdDTE9TRVBBUkVOJzsgLy8gKVxuY29uc3QgT1BFTkFOR0xFQlJBQ0tFVCA9ICdPUEVOQU5HTEVCUkFDS0VUJzsgLy8gPFxuY29uc3QgQ0xPU0VBTkdMRUJSQUNLRVQgPSAnQ0xPU0VBTkdMRUJSQUNLRVQnOyAvLyA+XG5jb25zdCBGVUxMV0lEVEhMRUZUUEFSRU4gPSAnRlVMTFdJRFRITEVGVFBBUkVOJzsgLy8g77yIXG5jb25zdCBGVUxMV0lEVEhSSUdIVFBBUkVOID0gJ0ZVTExXSURUSFJJR0hUUEFSRU4nOyAvLyDvvIlcbmNvbnN0IExFRlRDT1JORVJCUkFDS0VUID0gJ0xFRlRDT1JORVJCUkFDS0VUJzsgLy8g44CMXG5jb25zdCBSSUdIVENPUk5FUkJSQUNLRVQgPSAnUklHSFRDT1JORVJCUkFDS0VUJzsgLy8g44CNXG5jb25zdCBMRUZUV0hJVEVDT1JORVJCUkFDS0VUID0gJ0xFRlRXSElURUNPUk5FUkJSQUNLRVQnOyAvLyDjgI5cbmNvbnN0IFJJR0hUV0hJVEVDT1JORVJCUkFDS0VUID0gJ1JJR0hUV0hJVEVDT1JORVJCUkFDS0VUJzsgLy8g44CPXG5jb25zdCBGVUxMV0lEVEhMRVNTVEhBTiA9ICdGVUxMV0lEVEhMRVNTVEhBTic7IC8vIO+8nFxuY29uc3QgRlVMTFdJRFRIR1JFQVRFUlRIQU4gPSAnRlVMTFdJRFRIR1JFQVRFUlRIQU4nOyAvLyDvvJ5cblxuLy8gVmFyaW91cyBzeW1ib2xzXG5jb25zdCBBTVBFUlNBTkQgPSAnQU1QRVJTQU5EJzsgLy8gJlxuY29uc3QgQVBPU1RST1BIRSA9ICdBUE9TVFJPUEhFJzsgLy8gJ1xuY29uc3QgQVNURVJJU0sgPSAnQVNURVJJU0snOyAvLyAqXG5jb25zdCBBVCA9ICdBVCc7IC8vIEBcbmNvbnN0IEJBQ0tTTEFTSCA9ICdCQUNLU0xBU0gnOyAvLyBcXFxuY29uc3QgQkFDS1RJQ0sgPSAnQkFDS1RJQ0snOyAvLyBgXG5jb25zdCBDQVJFVCA9ICdDQVJFVCc7IC8vIF5cbmNvbnN0IENPTE9OID0gJ0NPTE9OJzsgLy8gOlxuY29uc3QgQ09NTUEgPSAnQ09NTUEnOyAvLyAsXG5jb25zdCBET0xMQVIgPSAnRE9MTEFSJzsgLy8gJFxuY29uc3QgRE9UID0gJ0RPVCc7IC8vIC5cbmNvbnN0IEVRVUFMUyA9ICdFUVVBTFMnOyAvLyA9XG5jb25zdCBFWENMQU1BVElPTiA9ICdFWENMQU1BVElPTic7IC8vICFcbmNvbnN0IEhZUEhFTiA9ICdIWVBIRU4nOyAvLyAtXG5jb25zdCBQRVJDRU5UID0gJ1BFUkNFTlQnOyAvLyAlXG5jb25zdCBQSVBFID0gJ1BJUEUnOyAvLyB8XG5jb25zdCBQTFVTID0gJ1BMVVMnOyAvLyArXG5jb25zdCBQT1VORCA9ICdQT1VORCc7IC8vICNcbmNvbnN0IFFVRVJZID0gJ1FVRVJZJzsgLy8gP1xuY29uc3QgUVVPVEUgPSAnUVVPVEUnOyAvLyBcIlxuXG5jb25zdCBTRU1JID0gJ1NFTUknOyAvLyA7XG5jb25zdCBTTEFTSCA9ICdTTEFTSCc7IC8vIC9cbmNvbnN0IFRJTERFID0gJ1RJTERFJzsgLy8gflxuY29uc3QgVU5ERVJTQ09SRSA9ICdVTkRFUlNDT1JFJzsgLy8gX1xuXG4vLyBFbW9qaSBzeW1ib2xcbmNvbnN0IEVNT0pJJDEgPSAnRU1PSkknO1xuXG4vLyBEZWZhdWx0IHRva2VuIC0gYW55dGhpbmcgdGhhdCBpcyBub3Qgb25lIG9mIHRoZSBhYm92ZVxuY29uc3QgU1lNID0gJ1NZTSc7XG5cbnZhciB0ayA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcblx0X19wcm90b19fOiBudWxsLFxuXHRXT1JEOiBXT1JELFxuXHRVV09SRDogVVdPUkQsXG5cdExPQ0FMSE9TVDogTE9DQUxIT1NULFxuXHRUTEQ6IFRMRCxcblx0VVRMRDogVVRMRCxcblx0U0NIRU1FOiBTQ0hFTUUsXG5cdFNMQVNIX1NDSEVNRTogU0xBU0hfU0NIRU1FLFxuXHROVU06IE5VTSxcblx0V1M6IFdTLFxuXHROTDogTkwkMSxcblx0T1BFTkJSQUNFOiBPUEVOQlJBQ0UsXG5cdENMT1NFQlJBQ0U6IENMT1NFQlJBQ0UsXG5cdE9QRU5CUkFDS0VUOiBPUEVOQlJBQ0tFVCxcblx0Q0xPU0VCUkFDS0VUOiBDTE9TRUJSQUNLRVQsXG5cdE9QRU5QQVJFTjogT1BFTlBBUkVOLFxuXHRDTE9TRVBBUkVOOiBDTE9TRVBBUkVOLFxuXHRPUEVOQU5HTEVCUkFDS0VUOiBPUEVOQU5HTEVCUkFDS0VULFxuXHRDTE9TRUFOR0xFQlJBQ0tFVDogQ0xPU0VBTkdMRUJSQUNLRVQsXG5cdEZVTExXSURUSExFRlRQQVJFTjogRlVMTFdJRFRITEVGVFBBUkVOLFxuXHRGVUxMV0lEVEhSSUdIVFBBUkVOOiBGVUxMV0lEVEhSSUdIVFBBUkVOLFxuXHRMRUZUQ09STkVSQlJBQ0tFVDogTEVGVENPUk5FUkJSQUNLRVQsXG5cdFJJR0hUQ09STkVSQlJBQ0tFVDogUklHSFRDT1JORVJCUkFDS0VULFxuXHRMRUZUV0hJVEVDT1JORVJCUkFDS0VUOiBMRUZUV0hJVEVDT1JORVJCUkFDS0VULFxuXHRSSUdIVFdISVRFQ09STkVSQlJBQ0tFVDogUklHSFRXSElURUNPUk5FUkJSQUNLRVQsXG5cdEZVTExXSURUSExFU1NUSEFOOiBGVUxMV0lEVEhMRVNTVEhBTixcblx0RlVMTFdJRFRIR1JFQVRFUlRIQU46IEZVTExXSURUSEdSRUFURVJUSEFOLFxuXHRBTVBFUlNBTkQ6IEFNUEVSU0FORCxcblx0QVBPU1RST1BIRTogQVBPU1RST1BIRSxcblx0QVNURVJJU0s6IEFTVEVSSVNLLFxuXHRBVDogQVQsXG5cdEJBQ0tTTEFTSDogQkFDS1NMQVNILFxuXHRCQUNLVElDSzogQkFDS1RJQ0ssXG5cdENBUkVUOiBDQVJFVCxcblx0Q09MT046IENPTE9OLFxuXHRDT01NQTogQ09NTUEsXG5cdERPTExBUjogRE9MTEFSLFxuXHRET1Q6IERPVCxcblx0RVFVQUxTOiBFUVVBTFMsXG5cdEVYQ0xBTUFUSU9OOiBFWENMQU1BVElPTixcblx0SFlQSEVOOiBIWVBIRU4sXG5cdFBFUkNFTlQ6IFBFUkNFTlQsXG5cdFBJUEU6IFBJUEUsXG5cdFBMVVM6IFBMVVMsXG5cdFBPVU5EOiBQT1VORCxcblx0UVVFUlk6IFFVRVJZLFxuXHRRVU9URTogUVVPVEUsXG5cdFNFTUk6IFNFTUksXG5cdFNMQVNIOiBTTEFTSCxcblx0VElMREU6IFRJTERFLFxuXHRVTkRFUlNDT1JFOiBVTkRFUlNDT1JFLFxuXHRFTU9KSTogRU1PSkkkMSxcblx0U1lNOiBTWU1cbn0pO1xuXG4vLyBOb3RlIHRoYXQgdGhlc2UgdHdvIFVuaWNvZGUgb25lcyBleHBhbmQgaW50byBhIHJlYWxseSBiaWcgb25lIHdpdGggQmFiZWxcbmNvbnN0IEFTQ0lJX0xFVFRFUiA9IC9bYS16XS87XG5jb25zdCBMRVRURVIgPSAvXFxwe0x9L3U7IC8vIEFueSBVbmljb2RlIGNoYXJhY3RlciB3aXRoIGxldHRlciBkYXRhIHR5cGVcbmNvbnN0IEVNT0pJID0gL1xccHtFbW9qaX0vdTsgLy8gQW55IFVuaWNvZGUgZW1vamkgY2hhcmFjdGVyXG5jb25zdCBFTU9KSV9WQVJJQVRJT04kMSA9IC9cXHVmZTBmLztcbmNvbnN0IERJR0lUID0gL1xcZC87XG5jb25zdCBTUEFDRSA9IC9cXHMvO1xuXG52YXIgcmVnZXhwID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuXHRfX3Byb3RvX186IG51bGwsXG5cdEFTQ0lJX0xFVFRFUjogQVNDSUlfTEVUVEVSLFxuXHRMRVRURVI6IExFVFRFUixcblx0RU1PSkk6IEVNT0pJLFxuXHRFTU9KSV9WQVJJQVRJT046IEVNT0pJX1ZBUklBVElPTiQxLFxuXHRESUdJVDogRElHSVQsXG5cdFNQQUNFOiBTUEFDRVxufSk7XG5cbi8qKlxuXHRUaGUgc2Nhbm5lciBwcm92aWRlcyBhbiBpbnRlcmZhY2UgdGhhdCB0YWtlcyBhIHN0cmluZyBvZiB0ZXh0IGFzIGlucHV0LCBhbmRcblx0b3V0cHV0cyBhbiBhcnJheSBvZiB0b2tlbnMgaW5zdGFuY2VzIHRoYXQgY2FuIGJlIHVzZWQgZm9yIGVhc3kgVVJMIHBhcnNpbmcuXG4qL1xuY29uc3QgTkwgPSAnXFxuJzsgLy8gTmV3IGxpbmUgY2hhcmFjdGVyXG5jb25zdCBFTU9KSV9WQVJJQVRJT04gPSAnXFx1ZmUwZic7IC8vIFZhcmlhdGlvbiBzZWxlY3RvciwgZm9sbG93cyBoZWFydCBhbmQgb3RoZXJzXG5jb25zdCBFTU9KSV9KT0lORVIgPSAnXFx1MjAwZCc7IC8vIHplcm8td2lkdGggam9pbmVyXG5cbmxldCB0bGRzID0gbnVsbCxcbiAgdXRsZHMgPSBudWxsOyAvLyBkb24ndCBjaGFuZ2Ugc28gb25seSBoYXZlIHRvIGJlIGNvbXB1dGVkIG9uY2VcblxuLyoqXG4gKiBTY2FubmVyIG91dHB1dCB0b2tlbjpcbiAqIC0gYHRgIGlzIHRoZSB0b2tlbiBuYW1lIChlLmcuLCAnTlVNJywgJ0VNT0pJJywgJ1RMRCcpXG4gKiAtIGB2YCBpcyB0aGUgdmFsdWUgb2YgdGhlIHRva2VuIChlLmcuLCAnMTIzJywgJ+KdpO+4jycsICdjb20nKVxuICogLSBgc2AgaXMgdGhlIHN0YXJ0IGluZGV4IG9mIHRoZSB0b2tlbiBpbiB0aGUgb3JpZ2luYWwgc3RyaW5nXG4gKiAtIGBlYCBpcyB0aGUgZW5kIGluZGV4IG9mIHRoZSB0b2tlbiBpbiB0aGUgb3JpZ2luYWwgc3RyaW5nXG4gKiBAdHlwZWRlZiB7e3Q6IHN0cmluZywgdjogc3RyaW5nLCBzOiBudW1iZXIsIGU6IG51bWJlcn19IFRva2VuXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYge3sgW2NvbGxlY3Rpb246IHN0cmluZ106IFRbXSB9fSBDb2xsZWN0aW9uc1xuICovXG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgc2Nhbm5lciBjaGFyYWN0ZXItYmFzZWQgc3RhdGUgbWFjaGluZSBmb3IgdGhlIGdpdmVuIHN0YXJ0XG4gKiBzdGF0ZVxuICogQHBhcmFtIHtbc3RyaW5nLCBib29sZWFuXVtdfSBjdXN0b21TY2hlbWVzIExpc3Qgb2YgY3VzdG9tIHNjaGVtZXMsIHdoZXJlIGVhY2hcbiAqIGl0ZW0gaXMgYSBsZW5ndGgtMiB0dXBsZSB3aXRoIHRoZSBmaXJzdCBlbGVtZW50IHNldCB0byB0aGUgc3RyaW5nIHNjaGVtZSwgYW5kXG4gKiB0aGUgc2Vjb25kIGVsZW1lbnQgc2V0IHRvIGB0cnVlYCBpZiB0aGUgYDovL2AgYWZ0ZXIgdGhlIHNjaGVtZSBpcyBvcHRpb25hbFxuICovXG5mdW5jdGlvbiBpbml0JDIoY3VzdG9tU2NoZW1lcykge1xuICBpZiAoY3VzdG9tU2NoZW1lcyA9PT0gdm9pZCAwKSB7XG4gICAgY3VzdG9tU2NoZW1lcyA9IFtdO1xuICB9XG4gIC8vIEZyZXF1ZW50bHkgdXNlZCBzdGF0ZXMgKG5hbWUgYXJndW1lbnQgcmVtb3ZlZCBkdXJpbmcgbWluaWZpY2F0aW9uKVxuICAvKiogQHR5cGUgQ29sbGVjdGlvbnM8c3RyaW5nPiAqL1xuICBjb25zdCBncm91cHMgPSB7fTsgLy8gb2YgdG9rZW5zXG4gIFN0YXRlLmdyb3VwcyA9IGdyb3VwcztcbiAgLyoqIEB0eXBlIFN0YXRlPHN0cmluZz4gKi9cbiAgY29uc3QgU3RhcnQgPSBuZXcgU3RhdGUoKTtcbiAgaWYgKHRsZHMgPT0gbnVsbCkge1xuICAgIHRsZHMgPSBkZWNvZGVUbGRzKGVuY29kZWRUbGRzKTtcbiAgfVxuICBpZiAodXRsZHMgPT0gbnVsbCkge1xuICAgIHV0bGRzID0gZGVjb2RlVGxkcyhlbmNvZGVkVXRsZHMpO1xuICB9XG5cbiAgLy8gU3RhdGVzIGZvciBzcGVjaWFsIFVSTCBzeW1ib2xzIHRoYXQgYWNjZXB0IGltbWVkaWF0ZWx5IGFmdGVyIHN0YXJ0XG4gIHR0KFN0YXJ0LCBcIidcIiwgQVBPU1RST1BIRSk7XG4gIHR0KFN0YXJ0LCAneycsIE9QRU5CUkFDRSk7XG4gIHR0KFN0YXJ0LCAnfScsIENMT1NFQlJBQ0UpO1xuICB0dChTdGFydCwgJ1snLCBPUEVOQlJBQ0tFVCk7XG4gIHR0KFN0YXJ0LCAnXScsIENMT1NFQlJBQ0tFVCk7XG4gIHR0KFN0YXJ0LCAnKCcsIE9QRU5QQVJFTik7XG4gIHR0KFN0YXJ0LCAnKScsIENMT1NFUEFSRU4pO1xuICB0dChTdGFydCwgJzwnLCBPUEVOQU5HTEVCUkFDS0VUKTtcbiAgdHQoU3RhcnQsICc+JywgQ0xPU0VBTkdMRUJSQUNLRVQpO1xuICB0dChTdGFydCwgJ++8iCcsIEZVTExXSURUSExFRlRQQVJFTik7XG4gIHR0KFN0YXJ0LCAn77yJJywgRlVMTFdJRFRIUklHSFRQQVJFTik7XG4gIHR0KFN0YXJ0LCAn44CMJywgTEVGVENPUk5FUkJSQUNLRVQpO1xuICB0dChTdGFydCwgJ+OAjScsIFJJR0hUQ09STkVSQlJBQ0tFVCk7XG4gIHR0KFN0YXJ0LCAn44COJywgTEVGVFdISVRFQ09STkVSQlJBQ0tFVCk7XG4gIHR0KFN0YXJ0LCAn44CPJywgUklHSFRXSElURUNPUk5FUkJSQUNLRVQpO1xuICB0dChTdGFydCwgJ++8nCcsIEZVTExXSURUSExFU1NUSEFOKTtcbiAgdHQoU3RhcnQsICfvvJ4nLCBGVUxMV0lEVEhHUkVBVEVSVEhBTik7XG4gIHR0KFN0YXJ0LCAnJicsIEFNUEVSU0FORCk7XG4gIHR0KFN0YXJ0LCAnKicsIEFTVEVSSVNLKTtcbiAgdHQoU3RhcnQsICdAJywgQVQpO1xuICB0dChTdGFydCwgJ2AnLCBCQUNLVElDSyk7XG4gIHR0KFN0YXJ0LCAnXicsIENBUkVUKTtcbiAgdHQoU3RhcnQsICc6JywgQ09MT04pO1xuICB0dChTdGFydCwgJywnLCBDT01NQSk7XG4gIHR0KFN0YXJ0LCAnJCcsIERPTExBUik7XG4gIHR0KFN0YXJ0LCAnLicsIERPVCk7XG4gIHR0KFN0YXJ0LCAnPScsIEVRVUFMUyk7XG4gIHR0KFN0YXJ0LCAnIScsIEVYQ0xBTUFUSU9OKTtcbiAgdHQoU3RhcnQsICctJywgSFlQSEVOKTtcbiAgdHQoU3RhcnQsICclJywgUEVSQ0VOVCk7XG4gIHR0KFN0YXJ0LCAnfCcsIFBJUEUpO1xuICB0dChTdGFydCwgJysnLCBQTFVTKTtcbiAgdHQoU3RhcnQsICcjJywgUE9VTkQpO1xuICB0dChTdGFydCwgJz8nLCBRVUVSWSk7XG4gIHR0KFN0YXJ0LCAnXCInLCBRVU9URSk7XG4gIHR0KFN0YXJ0LCAnLycsIFNMQVNIKTtcbiAgdHQoU3RhcnQsICc7JywgU0VNSSk7XG4gIHR0KFN0YXJ0LCAnficsIFRJTERFKTtcbiAgdHQoU3RhcnQsICdfJywgVU5ERVJTQ09SRSk7XG4gIHR0KFN0YXJ0LCAnXFxcXCcsIEJBQ0tTTEFTSCk7XG4gIGNvbnN0IE51bSA9IHRyKFN0YXJ0LCBESUdJVCwgTlVNLCB7XG4gICAgW251bWVyaWNdOiB0cnVlXG4gIH0pO1xuICB0cihOdW0sIERJR0lULCBOdW0pO1xuXG4gIC8vIFN0YXRlIHdoaWNoIGVtaXRzIGEgd29yZCB0b2tlblxuICBjb25zdCBXb3JkID0gdHIoU3RhcnQsIEFTQ0lJX0xFVFRFUiwgV09SRCwge1xuICAgIFthc2NpaV06IHRydWVcbiAgfSk7XG4gIHRyKFdvcmQsIEFTQ0lJX0xFVFRFUiwgV29yZCk7XG5cbiAgLy8gU2FtZSBhcyBwcmV2aW91cywgYnV0IHNwZWNpZmljIHRvIG5vbi1mc20uYXNjaWkgYWxwaGFiZXQgd29yZHNcbiAgY29uc3QgVVdvcmQgPSB0cihTdGFydCwgTEVUVEVSLCBVV09SRCwge1xuICAgIFthbHBoYV06IHRydWVcbiAgfSk7XG4gIHRyKFVXb3JkLCBBU0NJSV9MRVRURVIpOyAvLyBOb24tYWNjZXB0aW5nXG4gIHRyKFVXb3JkLCBMRVRURVIsIFVXb3JkKTtcblxuICAvLyBXaGl0ZXNwYWNlIGp1bXBzXG4gIC8vIFRva2VucyBvZiBvbmx5IG5vbi1uZXdsaW5lIHdoaXRlc3BhY2UgYXJlIGFyYml0cmFyaWx5IGxvbmdcbiAgLy8gSWYgYW55IHdoaXRlc3BhY2UgZXhjZXB0IG5ld2xpbmUsIG1vcmUgd2hpdGVzcGFjZSFcbiAgY29uc3QgV3MgPSB0cihTdGFydCwgU1BBQ0UsIFdTLCB7XG4gICAgW3doaXRlc3BhY2VdOiB0cnVlXG4gIH0pO1xuICB0dChTdGFydCwgTkwsIE5MJDEsIHtcbiAgICBbd2hpdGVzcGFjZV06IHRydWVcbiAgfSk7XG4gIHR0KFdzLCBOTCk7IC8vIG5vbi1hY2NlcHRpbmcgc3RhdGUgdG8gYXZvaWQgbWl4aW5nIHdoaXRlc3BhY2VzXG4gIHRyKFdzLCBTUEFDRSwgV3MpO1xuXG4gIC8vIEVtb2ppIHRva2Vucy4gVGhleSBhcmUgbm90IGdyb3VwZWQgYnkgdGhlIHNjYW5uZXIgZXhjZXB0IGluIGNhc2VzIHdoZXJlIGFcbiAgLy8gemVyby13aWR0aCBqb2luZXIgaXMgcHJlc2VudFxuICBjb25zdCBFbW9qaSA9IHRyKFN0YXJ0LCBFTU9KSSwgRU1PSkkkMSwge1xuICAgIFtlbW9qaV06IHRydWVcbiAgfSk7XG4gIHRyKEVtb2ppLCBFTU9KSSwgRW1vamkpO1xuICB0dChFbW9qaSwgRU1PSklfVkFSSUFUSU9OLCBFbW9qaSk7XG4gIC8vIHR0KFN0YXJ0LCBFTU9KSV9WQVJJQVRJT04sIEVtb2ppKTsgLy8gVGhpcyBvbmUgaXMgc2tldGNoeVxuXG4gIGNvbnN0IEVtb2ppSm9pbmVyID0gdHQoRW1vamksIEVNT0pJX0pPSU5FUik7XG4gIHRyKEVtb2ppSm9pbmVyLCBFTU9KSSwgRW1vamkpO1xuICAvLyB0dChFbW9qaUpvaW5lciwgRU1PSklfVkFSSUFUSU9OLCBFbW9qaSk7IC8vIGFsc28gc2tldGNoeVxuXG4gIC8vIEdlbmVyYXRlcyBzdGF0ZXMgZm9yIHRvcC1sZXZlbCBkb21haW5zXG4gIC8vIE5vdGUgdGhhdCB0aGlzIGlzIG1vc3QgYWNjdXJhdGUgd2hlbiB0bGRzIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgY29uc3Qgd29yZGpyID0gW1tBU0NJSV9MRVRURVIsIFdvcmRdXTtcbiAgY29uc3QgdXdvcmRqciA9IFtbQVNDSUlfTEVUVEVSLCBudWxsXSwgW0xFVFRFUiwgVVdvcmRdXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0bGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZmFzdHRzKFN0YXJ0LCB0bGRzW2ldLCBUTEQsIFdPUkQsIHdvcmRqcik7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB1dGxkcy5sZW5ndGg7IGkrKykge1xuICAgIGZhc3R0cyhTdGFydCwgdXRsZHNbaV0sIFVUTEQsIFVXT1JELCB1d29yZGpyKTtcbiAgfVxuICBhZGRUb0dyb3VwcyhUTEQsIHtcbiAgICB0bGQ6IHRydWUsXG4gICAgYXNjaWk6IHRydWVcbiAgfSwgZ3JvdXBzKTtcbiAgYWRkVG9Hcm91cHMoVVRMRCwge1xuICAgIHV0bGQ6IHRydWUsXG4gICAgYWxwaGE6IHRydWVcbiAgfSwgZ3JvdXBzKTtcblxuICAvLyBDb2xsZWN0IHRoZSBzdGF0ZXMgZ2VuZXJhdGVkIGJ5IGRpZmZlcmVudCBwcm90b2NvbHMuIE5PVEU6IElmIGFueSBuZXcgVExEc1xuICAvLyBnZXQgYWRkZWQgdGhhdCBhcmUgYWxzbyBwcm90b2NvbHMsIHNldCB0aGUgdG9rZW4gdG8gYmUgdGhlIHNhbWUgYXMgdGhlXG4gIC8vIHByb3RvY29sIHRvIGVuc3VyZSBwYXJzaW5nIHdvcmtzIGFzIGV4cGVjdGVkLlxuICBmYXN0dHMoU3RhcnQsICdmaWxlJywgU0NIRU1FLCBXT1JELCB3b3JkanIpO1xuICBmYXN0dHMoU3RhcnQsICdtYWlsdG8nLCBTQ0hFTUUsIFdPUkQsIHdvcmRqcik7XG4gIGZhc3R0cyhTdGFydCwgJ2h0dHAnLCBTTEFTSF9TQ0hFTUUsIFdPUkQsIHdvcmRqcik7XG4gIGZhc3R0cyhTdGFydCwgJ2h0dHBzJywgU0xBU0hfU0NIRU1FLCBXT1JELCB3b3JkanIpO1xuICBmYXN0dHMoU3RhcnQsICdmdHAnLCBTTEFTSF9TQ0hFTUUsIFdPUkQsIHdvcmRqcik7XG4gIGZhc3R0cyhTdGFydCwgJ2Z0cHMnLCBTTEFTSF9TQ0hFTUUsIFdPUkQsIHdvcmRqcik7XG4gIGFkZFRvR3JvdXBzKFNDSEVNRSwge1xuICAgIHNjaGVtZTogdHJ1ZSxcbiAgICBhc2NpaTogdHJ1ZVxuICB9LCBncm91cHMpO1xuICBhZGRUb0dyb3VwcyhTTEFTSF9TQ0hFTUUsIHtcbiAgICBzbGFzaHNjaGVtZTogdHJ1ZSxcbiAgICBhc2NpaTogdHJ1ZVxuICB9LCBncm91cHMpO1xuXG4gIC8vIFJlZ2lzdGVyIGN1c3RvbSBzY2hlbWVzLiBBc3N1bWVzIGVhY2ggc2NoZW1lIGlzIGFzY2lpbnVtZXJpYyB3aXRoIGh5cGhlbnNcbiAgY3VzdG9tU2NoZW1lcyA9IGN1c3RvbVNjaGVtZXMuc29ydCgoYSwgYikgPT4gYVswXSA+IGJbMF0gPyAxIDogLTEpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGN1c3RvbVNjaGVtZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzY2ggPSBjdXN0b21TY2hlbWVzW2ldWzBdO1xuICAgIGNvbnN0IG9wdGlvbmFsU2xhc2hTbGFzaCA9IGN1c3RvbVNjaGVtZXNbaV1bMV07XG4gICAgY29uc3QgZmxhZ3MgPSBvcHRpb25hbFNsYXNoU2xhc2ggPyB7XG4gICAgICBbc2NoZW1lXTogdHJ1ZVxuICAgIH0gOiB7XG4gICAgICBbc2xhc2hzY2hlbWVdOiB0cnVlXG4gICAgfTtcbiAgICBpZiAoc2NoLmluZGV4T2YoJy0nKSA+PSAwKSB7XG4gICAgICBmbGFnc1tkb21haW5dID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCFBU0NJSV9MRVRURVIudGVzdChzY2gpKSB7XG4gICAgICBmbGFnc1tudW1lcmljXSA9IHRydWU7IC8vIG51bWJlcnMgb25seVxuICAgIH0gZWxzZSBpZiAoRElHSVQudGVzdChzY2gpKSB7XG4gICAgICBmbGFnc1thc2NpaW51bWVyaWNdID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmxhZ3NbYXNjaWldID0gdHJ1ZTtcbiAgICB9XG4gICAgdHMoU3RhcnQsIHNjaCwgc2NoLCBmbGFncyk7XG4gIH1cblxuICAvLyBMb2NhbGhvc3QgdG9rZW5cbiAgdHMoU3RhcnQsICdsb2NhbGhvc3QnLCBMT0NBTEhPU1QsIHtcbiAgICBhc2NpaTogdHJ1ZVxuICB9KTtcblxuICAvLyBTZXQgZGVmYXVsdCB0cmFuc2l0aW9uIGZvciBzdGFydCBzdGF0ZSAoc29tZSBzeW1ib2wpXG4gIFN0YXJ0LmpkID0gbmV3IFN0YXRlKFNZTSk7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IFN0YXJ0LFxuICAgIHRva2VuczogYXNzaWduKHtcbiAgICAgIGdyb3Vwc1xuICAgIH0sIHRrKVxuICB9O1xufVxuXG4vKipcblx0R2l2ZW4gYSBzdHJpbmcsIHJldHVybnMgYW4gYXJyYXkgb2YgVE9LRU4gaW5zdGFuY2VzIHJlcHJlc2VudGluZyB0aGVcblx0Y29tcG9zaXRpb24gb2YgdGhhdCBzdHJpbmcuXG5cblx0QG1ldGhvZCBydW5cblx0QHBhcmFtIHtTdGF0ZTxzdHJpbmc+fSBzdGFydCBzY2FubmVyIHN0YXJ0aW5nIHN0YXRlXG5cdEBwYXJhbSB7c3RyaW5nfSBzdHIgaW5wdXQgc3RyaW5nIHRvIHNjYW5cblx0QHJldHVybiB7VG9rZW5bXX0gbGlzdCBvZiB0b2tlbnMsIGVhY2ggd2l0aCBhIHR5cGUgYW5kIHZhbHVlXG4qL1xuZnVuY3Rpb24gcnVuJDEoc3RhcnQsIHN0cikge1xuICAvLyBTdGF0ZSBtYWNoaW5lIGlzIG5vdCBjYXNlIHNlbnNpdGl2ZSwgc28gaW5wdXQgaXMgdG9rZW5pemVkIGluIGxvd2VyY2FzZWRcbiAgLy8gZm9ybSAoc3RpbGwgcmV0dXJucyByZWd1bGFyIGNhc2UpLiBVc2VzIHNlbGVjdGl2ZSBgdG9Mb3dlckNhc2VgIGJlY2F1c2VcbiAgLy8gbG93ZXJjYXNpbmcgdGhlIGVudGlyZSBzdHJpbmcgY2F1c2VzIHRoZSBsZW5ndGggYW5kIGNoYXJhY3RlciBwb3NpdGlvbiB0b1xuICAvLyB2YXJ5IGluIHNvbWUgbm9uLUVuZ2xpc2ggc3RyaW5ncyB3aXRoIFY4LWJhc2VkIHJ1bnRpbWVzLlxuICBjb25zdCBpdGVyYWJsZSA9IHN0cmluZ1RvQXJyYXkoc3RyLnJlcGxhY2UoL1tBLVpdL2csIGMgPT4gYy50b0xvd2VyQ2FzZSgpKSk7XG4gIGNvbnN0IGNoYXJDb3VudCA9IGl0ZXJhYmxlLmxlbmd0aDsgLy8gPD0gbGVuIGlmIHRoZXJlIGFyZSBlbW9qaXMsIGV0Y1xuICBjb25zdCB0b2tlbnMgPSBbXTsgLy8gcmV0dXJuIHZhbHVlXG5cbiAgLy8gY3Vyc29yIHRocm91Z2ggdGhlIHN0cmluZyBpdHNlbGYsIGFjY291bnRpbmcgZm9yIGNoYXJhY3RlcnMgdGhhdCBoYXZlXG4gIC8vIHdpZHRoIHdpdGggbGVuZ3RoIDIgc3VjaCBhcyBlbW9qaXNcbiAgbGV0IGN1cnNvciA9IDA7XG5cbiAgLy8gQ3Vyc29yIHRocm91Z2ggdGhlIGFycmF5LXJlcHJlc2VudGF0aW9uIG9mIHRoZSBzdHJpbmdcbiAgbGV0IGNoYXJDdXJzb3IgPSAwO1xuXG4gIC8vIFRva2VuaXplIHRoZSBzdHJpbmdcbiAgd2hpbGUgKGNoYXJDdXJzb3IgPCBjaGFyQ291bnQpIHtcbiAgICBsZXQgc3RhdGUgPSBzdGFydDtcbiAgICBsZXQgbmV4dFN0YXRlID0gbnVsbDtcbiAgICBsZXQgdG9rZW5MZW5ndGggPSAwO1xuICAgIGxldCBsYXRlc3RBY2NlcHRpbmcgPSBudWxsO1xuICAgIGxldCBzaW5jZUFjY2VwdHMgPSAtMTtcbiAgICBsZXQgY2hhcnNTaW5jZUFjY2VwdHMgPSAtMTtcbiAgICB3aGlsZSAoY2hhckN1cnNvciA8IGNoYXJDb3VudCAmJiAobmV4dFN0YXRlID0gc3RhdGUuZ28oaXRlcmFibGVbY2hhckN1cnNvcl0pKSkge1xuICAgICAgc3RhdGUgPSBuZXh0U3RhdGU7XG5cbiAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhlIGxhdGVzdCBhY2NlcHRpbmcgc3RhdGVcbiAgICAgIGlmIChzdGF0ZS5hY2NlcHRzKCkpIHtcbiAgICAgICAgc2luY2VBY2NlcHRzID0gMDtcbiAgICAgICAgY2hhcnNTaW5jZUFjY2VwdHMgPSAwO1xuICAgICAgICBsYXRlc3RBY2NlcHRpbmcgPSBzdGF0ZTtcbiAgICAgIH0gZWxzZSBpZiAoc2luY2VBY2NlcHRzID49IDApIHtcbiAgICAgICAgc2luY2VBY2NlcHRzICs9IGl0ZXJhYmxlW2NoYXJDdXJzb3JdLmxlbmd0aDtcbiAgICAgICAgY2hhcnNTaW5jZUFjY2VwdHMrKztcbiAgICAgIH1cbiAgICAgIHRva2VuTGVuZ3RoICs9IGl0ZXJhYmxlW2NoYXJDdXJzb3JdLmxlbmd0aDtcbiAgICAgIGN1cnNvciArPSBpdGVyYWJsZVtjaGFyQ3Vyc29yXS5sZW5ndGg7XG4gICAgICBjaGFyQ3Vyc29yKys7XG4gICAgfVxuXG4gICAgLy8gUm9sbCBiYWNrIHRvIHRoZSBsYXRlc3QgYWNjZXB0aW5nIHN0YXRlXG4gICAgY3Vyc29yIC09IHNpbmNlQWNjZXB0cztcbiAgICBjaGFyQ3Vyc29yIC09IGNoYXJzU2luY2VBY2NlcHRzO1xuICAgIHRva2VuTGVuZ3RoIC09IHNpbmNlQWNjZXB0cztcblxuICAgIC8vIE5vIG1vcmUganVtcHMsIGp1c3QgbWFrZSBhIG5ldyB0b2tlbiBmcm9tIHRoZSBsYXN0IGFjY2VwdGluZyBvbmVcbiAgICB0b2tlbnMucHVzaCh7XG4gICAgICB0OiBsYXRlc3RBY2NlcHRpbmcudCxcbiAgICAgIC8vIHRva2VuIHR5cGUvbmFtZVxuICAgICAgdjogc3RyLnNsaWNlKGN1cnNvciAtIHRva2VuTGVuZ3RoLCBjdXJzb3IpLFxuICAgICAgLy8gc3RyaW5nIHZhbHVlXG4gICAgICBzOiBjdXJzb3IgLSB0b2tlbkxlbmd0aCxcbiAgICAgIC8vIHN0YXJ0IGluZGV4XG4gICAgICBlOiBjdXJzb3IgLy8gZW5kIGluZGV4IChleGNsdWRpbmcpXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYSBTdHJpbmcgdG8gYW4gQXJyYXkgb2YgY2hhcmFjdGVycywgdGFraW5nIGludG8gYWNjb3VudCB0aGF0IHNvbWVcbiAqIGNoYXJhY3RlcnMgbGlrZSBlbW9qaXMgdGFrZSB1cCB0d28gc3RyaW5nIGluZGV4ZXMuXG4gKlxuICogQWRhcHRlZCBmcm9tIGNvcmUtanMgKE1JVCBsaWNlbnNlKVxuICogaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi8yZDY5Y2Y1Zjk5YWIzZWEzNDYzYzM5NWRmODFlNWExNWI2OGY0OWQ5L3BhY2thZ2VzL2NvcmUtanMvaW50ZXJuYWxzL3N0cmluZy1tdWx0aWJ5dGUuanNcbiAqXG4gKiBAZnVuY3Rpb24gc3RyaW5nVG9BcnJheVxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5mdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cikge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgY29uc3QgbGVuID0gc3RyLmxlbmd0aDtcbiAgbGV0IGluZGV4ID0gMDtcbiAgd2hpbGUgKGluZGV4IDwgbGVuKSB7XG4gICAgbGV0IGZpcnN0ID0gc3RyLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgIGxldCBzZWNvbmQ7XG4gICAgbGV0IGNoYXIgPSBmaXJzdCA8IDB4ZDgwMCB8fCBmaXJzdCA+IDB4ZGJmZiB8fCBpbmRleCArIDEgPT09IGxlbiB8fCAoc2Vjb25kID0gc3RyLmNoYXJDb2RlQXQoaW5kZXggKyAxKSkgPCAweGRjMDAgfHwgc2Vjb25kID4gMHhkZmZmID8gc3RyW2luZGV4XSAvLyBzaW5nbGUgY2hhcmFjdGVyXG4gICAgOiBzdHIuc2xpY2UoaW5kZXgsIGluZGV4ICsgMik7IC8vIHR3by1pbmRleCBjaGFyYWN0ZXJzXG4gICAgcmVzdWx0LnB1c2goY2hhcik7XG4gICAgaW5kZXggKz0gY2hhci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBGYXN0IHZlcnNpb24gb2YgdHMgZnVuY3Rpb24gZm9yIHdoZW4gdHJhbnNpdGlvbiBkZWZhdWx0cyBhcmUgd2VsbCBrbm93blxuICogQHBhcmFtIHtTdGF0ZTxzdHJpbmc+fSBzdGF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0XG4gKiBAcGFyYW0ge3N0cmluZ30gdFxuICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHR0XG4gKiBAcGFyYW0ge1tSZWdFeHAsIFN0YXRlPHN0cmluZz5dW119IGpyXG4gKiBAcmV0dXJucyB7U3RhdGU8c3RyaW5nPn1cbiAqL1xuZnVuY3Rpb24gZmFzdHRzKHN0YXRlLCBpbnB1dCwgdCwgZGVmYXVsdHQsIGpyKSB7XG4gIGxldCBuZXh0O1xuICBjb25zdCBsZW4gPSBpbnB1dC5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IGlucHV0W2ldO1xuICAgIGlmIChzdGF0ZS5qW2NoYXJdKSB7XG4gICAgICBuZXh0ID0gc3RhdGUualtjaGFyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dCA9IG5ldyBTdGF0ZShkZWZhdWx0dCk7XG4gICAgICBuZXh0LmpyID0ganIuc2xpY2UoKTtcbiAgICAgIHN0YXRlLmpbY2hhcl0gPSBuZXh0O1xuICAgIH1cbiAgICBzdGF0ZSA9IG5leHQ7XG4gIH1cbiAgbmV4dCA9IG5ldyBTdGF0ZSh0KTtcbiAgbmV4dC5qciA9IGpyLnNsaWNlKCk7XG4gIHN0YXRlLmpbaW5wdXRbbGVuIC0gMV1dID0gbmV4dDtcbiAgcmV0dXJuIG5leHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgb2YgVG9wLUxldmVsIERvbWFpbiBuYW1lcyBlbmNvZGVkIGluIHVwZGF0ZS10bGRzLmpzIGJhY2tcbiAqIGludG8gYSBsaXN0IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0ge3N0cn0gZW5jb2RlZCBlbmNvZGVkIFRMRHMgc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyW119IG9yaWdpbmFsIFRMRHMgbGlzdFxuICovXG5mdW5jdGlvbiBkZWNvZGVUbGRzKGVuY29kZWQpIHtcbiAgY29uc3Qgd29yZHMgPSBbXTtcbiAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgbGV0IGkgPSAwO1xuICBsZXQgZGlnaXRzID0gJzAxMjM0NTY3ODknO1xuICB3aGlsZSAoaSA8IGVuY29kZWQubGVuZ3RoKSB7XG4gICAgbGV0IHBvcERpZ2l0Q291bnQgPSAwO1xuICAgIHdoaWxlIChkaWdpdHMuaW5kZXhPZihlbmNvZGVkW2kgKyBwb3BEaWdpdENvdW50XSkgPj0gMCkge1xuICAgICAgcG9wRGlnaXRDb3VudCsrOyAvLyBlbmNvdW50ZXJlZCBzb21lIGRpZ2l0cywgaGF2ZSB0byBwb3AgdG8gZ28gb25lIGxldmVsIHVwIHRyaWVcbiAgICB9XG5cbiAgICBpZiAocG9wRGlnaXRDb3VudCA+IDApIHtcbiAgICAgIHdvcmRzLnB1c2goc3RhY2suam9pbignJykpOyAvLyB3aGF0ZXZlciBwcmVjZWRlZCB0aGUgcG9wIGRpZ2l0cyBtdXN0IGJlIGEgd29yZFxuICAgICAgZm9yIChsZXQgcG9wQ291bnQgPSBwYXJzZUludChlbmNvZGVkLnN1YnN0cmluZyhpLCBpICsgcG9wRGlnaXRDb3VudCksIDEwKTsgcG9wQ291bnQgPiAwOyBwb3BDb3VudC0tKSB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgfVxuICAgICAgaSArPSBwb3BEaWdpdENvdW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFjay5wdXNoKGVuY29kZWRbaV0pOyAvLyBkcm9wIGRvd24gYSBsZXZlbCBpbnRvIHRoZSB0cmllXG4gICAgICBpKys7XG4gICAgfVxuICB9XG4gIHJldHVybiB3b3Jkcztcbn1cblxuLyoqXG4gKiBBbiBvYmplY3Qgd2hlcmUgZWFjaCBrZXkgaXMgYSB2YWxpZCBET00gRXZlbnQgTmFtZSBzdWNoIGFzIGBjbGlja2Agb3IgYGZvY3VzYFxuICogYW5kIGVhY2ggdmFsdWUgaXMgYW4gZXZlbnQgaGFuZGxlciBmdW5jdGlvbi5cbiAqXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudCNldmVudHNcbiAqIEB0eXBlZGVmIHs/eyBbZXZlbnQ6IHN0cmluZ106IEZ1bmN0aW9uIH19IEV2ZW50TGlzdGVuZXJzXG4gKi9cblxuLyoqXG4gKiBBbGwgZm9ybWF0dGVkIHByb3BlcnRpZXMgcmVxdWlyZWQgdG8gcmVuZGVyIGEgbGluaywgaW5jbHVkaW5nIGB0YWdOYW1lYCxcbiAqIGBhdHRyaWJ1dGVzYCwgYGNvbnRlbnRgIGFuZCBgZXZlbnRMaXN0ZW5lcnNgLlxuICogQHR5cGVkZWYge3sgdGFnTmFtZTogYW55LCBhdHRyaWJ1dGVzOiB7W2F0dHI6IHN0cmluZ106IGFueX0sIGNvbnRlbnQ6IHN0cmluZyxcbiAqIGV2ZW50TGlzdGVuZXJzOiBFdmVudExpc3RlbmVycyB9fSBJbnRlcm1lZGlhdGVSZXByZXNlbnRhdGlvblxuICovXG5cbi8qKlxuICogU3BlY2lmeSBlaXRoZXIgYW4gb2JqZWN0IGRlc2NyaWJlZCBieSB0aGUgdGVtcGxhdGUgdHlwZSBgT2Agb3IgYSBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gdGFrZXMgYSBzdHJpbmcgdmFsdWUgKHVzdWFsbHkgdGhlIGxpbmsncyBocmVmIGF0dHJpYnV0ZSksIHRoZVxuICogbGluayB0eXBlIChgJ3VybCdgLCBgJ2hhc2h0YWdgJywgZXRjLikgYW5kIGFuIGludGVybmFsIHRva2VuIHJlcHJlc2VudGF0aW9uXG4gKiBvZiB0aGUgbGluay4gSXQgc2hvdWxkIHJldHVybiBhbiBvYmplY3Qgb2YgdGhlIHRlbXBsYXRlIHR5cGUgYE9gXG4gKiBAdGVtcGxhdGUgT1xuICogQHR5cGVkZWYge08gfCAoKHZhbHVlOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgdG9rZW46IE11bHRpVG9rZW4pID0+IE8pfSBPcHRPYmpcbiAqL1xuXG4vKipcbiAqIFNwZWNpZnkgZWl0aGVyIGEgZnVuY3Rpb24gZGVzY3JpYmVkIGJ5IHRlbXBsYXRlIHR5cGUgYEZgIG9yIGFuIG9iamVjdC5cbiAqXG4gKiBFYWNoIGtleSBpbiB0aGUgb2JqZWN0IHNob3VsZCBiZSBhIGxpbmsgdHlwZSAoYCd1cmwnYCwgYCdoYXNodGFnYCcsIGV0Yy4pLiBFYWNoXG4gKiB2YWx1ZSBzaG91bGQgYmUgYSBmdW5jdGlvbiB3aXRoIHRlbXBsYXRlIHR5cGUgYEZgIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlXG4gKiBjb3JyZXNwb25kaW5nIGxpbmsgdHlwZSBpcyBlbmNvdW50ZXJlZC5cbiAqIEB0ZW1wbGF0ZSBGXG4gKiBAdHlwZWRlZiB7RiB8IHsgW3R5cGU6IHN0cmluZ106IEZ9fSBPcHRGblxuICovXG5cbi8qKlxuICogU3BlY2lmeSBlaXRoZXIgYSB2YWx1ZSB3aXRoIHRlbXBsYXRlIHR5cGUgYFZgLCBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgVmAgb3JcbiAqIGFuIG9iamVjdCB3aGVyZSBlYWNoIHZhbHVlIHJlc29sdmVzIHRvIGBWYC5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gdGFrZXMgYSBzdHJpbmcgdmFsdWUgKHVzdWFsbHkgdGhlIGxpbmsncyBocmVmIGF0dHJpYnV0ZSksIHRoZVxuICogbGluayB0eXBlIChgJ3VybCdgLCBgJ2hhc2h0YWdgJywgZXRjLikgYW5kIGFuIGludGVybmFsIHRva2VuIHJlcHJlc2VudGF0aW9uXG4gKiBvZiB0aGUgbGluay4gSXQgc2hvdWxkIHJldHVybiBhbiBvYmplY3Qgb2YgdGhlIHRlbXBsYXRlIHR5cGUgYFZgXG4gKlxuICogRm9yIHRoZSBvYmplY3QsIGVhY2gga2V5IHNob3VsZCBiZSBhIGxpbmsgdHlwZSAoYCd1cmwnYCwgYCdoYXNodGFnYCcsIGV0Yy4pLlxuICogRWFjaCB2YWx1ZSBzaG91bGQgZWl0aGVyIGhhdmUgdHlwZSBgVmAgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgVi4gVGhpc1xuICogZnVuY3Rpb24gc2ltaWxhcmx5IHRha2VzIGEgc3RyaW5nIHZhbHVlIGFuZCBhIHRva2VuLlxuICpcbiAqIEV4YW1wbGUgdmFsaWQgdHlwZXMgZm9yIGBPcHQ8c3RyaW5nPmA6XG4gKlxuICogYGBganNcbiAqICdoZWxsbydcbiAqICh2YWx1ZSwgdHlwZSwgdG9rZW4pID0+ICd3b3JsZCdcbiAqIHsgdXJsOiAnaGVsbG8nLCBlbWFpbDogKHZhbHVlLCB0b2tlbikgPT4gJ3dvcmxkJ31cbiAqIGBgYFxuICogQHRlbXBsYXRlIFZcbiAqIEB0eXBlZGVmIHtWIHwgKCh2YWx1ZTogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIHRva2VuOiBNdWx0aVRva2VuKSA9PiBWKSB8IHsgW3R5cGU6IHN0cmluZ106IFYgfCAoKHZhbHVlOiBzdHJpbmcsIHRva2VuOiBNdWx0aVRva2VuKSA9PiBWKSB9fSBPcHRcbiAqL1xuXG4vKipcbiAqIFNlZSBhdmFpbGFibGUgb3B0aW9uczogaHR0cHM6Ly9saW5raWZ5LmpzLm9yZy9kb2NzL29wdGlvbnMuaHRtbFxuICogQHR5cGVkZWYge3tcbiAqIFx0ZGVmYXVsdFByb3RvY29sPzogc3RyaW5nLFxuICogIGV2ZW50cz86IE9wdE9iajxFdmVudExpc3RlbmVycz4sXG4gKiBcdGZvcm1hdD86IE9wdDxzdHJpbmc+LFxuICogXHRmb3JtYXRIcmVmPzogT3B0PHN0cmluZz4sXG4gKiBcdG5sMmJyPzogYm9vbGVhbixcbiAqIFx0dGFnTmFtZT86IE9wdDxhbnk+LFxuICogXHR0YXJnZXQ/OiBPcHQ8c3RyaW5nPixcbiAqIFx0cmVsPzogT3B0PHN0cmluZz4sXG4gKiBcdHZhbGlkYXRlPzogT3B0PGJvb2xlYW4+LFxuICogXHR0cnVuY2F0ZT86IE9wdDxudW1iZXI+LFxuICogXHRjbGFzc05hbWU/OiBPcHQ8c3RyaW5nPixcbiAqIFx0YXR0cmlidXRlcz86IE9wdE9iajwoeyBbYXR0cjogc3RyaW5nXTogYW55IH0pPixcbiAqICBpZ25vcmVUYWdzPzogc3RyaW5nW10sXG4gKiBcdHJlbmRlcj86IE9wdEZuPCgoaXI6IEludGVybWVkaWF0ZVJlcHJlc2VudGF0aW9uKSA9PiBhbnkpPlxuICogfX0gT3B0c1xuICovXG5cbi8qKlxuICogQHR5cGUgUmVxdWlyZWQ8T3B0cz5cbiAqL1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gIGRlZmF1bHRQcm90b2NvbDogJ2h0dHAnLFxuICBldmVudHM6IG51bGwsXG4gIGZvcm1hdDogbm9vcCxcbiAgZm9ybWF0SHJlZjogbm9vcCxcbiAgbmwyYnI6IGZhbHNlLFxuICB0YWdOYW1lOiAnYScsXG4gIHRhcmdldDogbnVsbCxcbiAgcmVsOiBudWxsLFxuICB2YWxpZGF0ZTogdHJ1ZSxcbiAgdHJ1bmNhdGU6IEluZmluaXR5LFxuICBjbGFzc05hbWU6IG51bGwsXG4gIGF0dHJpYnV0ZXM6IG51bGwsXG4gIGlnbm9yZVRhZ3M6IFtdLFxuICByZW5kZXI6IG51bGxcbn07XG5cbi8qKlxuICogVXRpbGl0eSBjbGFzcyBmb3IgbGlua2lmeSBpbnRlcmZhY2VzIHRvIGFwcGx5IHNwZWNpZmllZFxuICoge0BsaW5rIE9wdHMgZm9ybWF0dGluZyBhbmQgcmVuZGVyaW5nIG9wdGlvbnN9LlxuICpcbiAqIEBwYXJhbSB7T3B0cyB8IE9wdGlvbnN9IFtvcHRzXSBPcHRpb24gdmFsdWUgb3ZlcnJpZGVzLlxuICogQHBhcmFtIHsoaXI6IEludGVybWVkaWF0ZVJlcHJlc2VudGF0aW9uKSA9PiBhbnl9IFtkZWZhdWx0UmVuZGVyXSAoRm9yXG4gKiAgIGludGVybmFsIHVzZSkgZGVmYXVsdCByZW5kZXIgZnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIGhvdyB0byBnZW5lcmF0ZSBhblxuICogICBIVE1MIGVsZW1lbnQgYmFzZWQgb24gYSBsaW5rIHRva2VuJ3MgZGVyaXZlZCB0YWdOYW1lLCBhdHRyaWJ1dGVzIGFuZCBIVE1MLlxuICogICBTaW1pbGFyIHRvIHJlbmRlciBvcHRpb25cbiAqL1xuZnVuY3Rpb24gT3B0aW9ucyhvcHRzLCBkZWZhdWx0UmVuZGVyKSB7XG4gIGlmIChkZWZhdWx0UmVuZGVyID09PSB2b2lkIDApIHtcbiAgICBkZWZhdWx0UmVuZGVyID0gbnVsbDtcbiAgfVxuICBsZXQgbyA9IGFzc2lnbih7fSwgZGVmYXVsdHMpO1xuICBpZiAob3B0cykge1xuICAgIG8gPSBhc3NpZ24obywgb3B0cyBpbnN0YW5jZW9mIE9wdGlvbnMgPyBvcHRzLm8gOiBvcHRzKTtcbiAgfVxuXG4gIC8vIEVuc3VyZSBhbGwgaWdub3JlZCB0YWdzIGFyZSB1cHBlcmNhc2VcbiAgY29uc3QgaWdub3JlZFRhZ3MgPSBvLmlnbm9yZVRhZ3M7XG4gIGNvbnN0IHVwcGVyY2FzZUlnbm9yZWRUYWdzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaWdub3JlZFRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICB1cHBlcmNhc2VJZ25vcmVkVGFncy5wdXNoKGlnbm9yZWRUYWdzW2ldLnRvVXBwZXJDYXNlKCkpO1xuICB9XG4gIC8qKiBAcHJvdGVjdGVkICovXG4gIHRoaXMubyA9IG87XG4gIGlmIChkZWZhdWx0UmVuZGVyKSB7XG4gICAgdGhpcy5kZWZhdWx0UmVuZGVyID0gZGVmYXVsdFJlbmRlcjtcbiAgfVxuICB0aGlzLmlnbm9yZVRhZ3MgPSB1cHBlcmNhc2VJZ25vcmVkVGFncztcbn1cbk9wdGlvbnMucHJvdG90eXBlID0ge1xuICBvOiBkZWZhdWx0cyxcbiAgLyoqXG4gICAqIEB0eXBlIHN0cmluZ1tdXG4gICAqL1xuICBpZ25vcmVUYWdzOiBbXSxcbiAgLyoqXG4gICAqIEBwYXJhbSB7SW50ZXJtZWRpYXRlUmVwcmVzZW50YXRpb259IGlyXG4gICAqIEByZXR1cm5zIHthbnl9XG4gICAqL1xuICBkZWZhdWx0UmVuZGVyKGlyKSB7XG4gICAgcmV0dXJuIGlyO1xuICB9LFxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIG9yIGZhbHNlIGJhc2VkIG9uIHdoZXRoZXIgYSB0b2tlbiBzaG91bGQgYmUgZGlzcGxheWVkIGFzIGFcbiAgICogbGluayBiYXNlZCBvbiB0aGUgdXNlciBvcHRpb25zLlxuICAgKiBAcGFyYW0ge011bHRpVG9rZW59IHRva2VuXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgY2hlY2sodG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoJ3ZhbGlkYXRlJywgdG9rZW4udG9TdHJpbmcoKSwgdG9rZW4pO1xuICB9LFxuICAvLyBQcml2YXRlIG1ldGhvZHNcblxuICAvKipcbiAgICogUmVzb2x2ZSBhbiBvcHRpb24ncyB2YWx1ZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG9wdGlvbiBhbmQgdGhlIGdpdmVuXG4gICAqIHBhcmFtcy4gSWYgb3BlcmF0b3IgYW5kIHRva2VuIGFyZSBzcGVjaWZpZWQgYW5kIHRoZSB0YXJnZXQgb3B0aW9uIGlzXG4gICAqIGNhbGxhYmxlLCBhdXRvbWF0aWNhbGx5IGNhbGxzIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudC5cbiAgICogQHRlbXBsYXRlIHtrZXlvZiBPcHRzfSBLXG4gICAqIEBwYXJhbSB7S30ga2V5IE5hbWUgb2Ygb3B0aW9uIHRvIHVzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wZXJhdG9yXSB3aWxsIGJlIHBhc3NlZCB0byB0aGUgdGFyZ2V0IG9wdGlvbiBpZiBpdCdzIGFcbiAgICogZnVuY3Rpb24uIElmIG5vdCBzcGVjaWZpZWQsIFJBVyBmdW5jdGlvbiB2YWx1ZSBnZXRzIHJldHVybmVkXG4gICAqIEBwYXJhbSB7TXVsdGlUb2tlbn0gW3Rva2VuXSBUaGUgdG9rZW4gZnJvbSBsaW5raWZ5LnRva2VuaXplXG4gICAqIEByZXR1cm5zIHtPcHRzW0tdIHwgYW55fVxuICAgKi9cbiAgZ2V0KGtleSwgb3BlcmF0b3IsIHRva2VuKSB7XG4gICAgY29uc3QgaXNDYWxsYWJsZSA9IG9wZXJhdG9yICE9IG51bGw7XG4gICAgbGV0IG9wdGlvbiA9IHRoaXMub1trZXldO1xuICAgIGlmICghb3B0aW9uKSB7XG4gICAgICByZXR1cm4gb3B0aW9uO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG9wdGlvbiA9IHRva2VuLnQgaW4gb3B0aW9uID8gb3B0aW9uW3Rva2VuLnRdIDogZGVmYXVsdHNba2V5XTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnZnVuY3Rpb24nICYmIGlzQ2FsbGFibGUpIHtcbiAgICAgICAgb3B0aW9uID0gb3B0aW9uKG9wZXJhdG9yLCB0b2tlbik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnZnVuY3Rpb24nICYmIGlzQ2FsbGFibGUpIHtcbiAgICAgIG9wdGlvbiA9IG9wdGlvbihvcGVyYXRvciwgdG9rZW4udCwgdG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9uO1xuICB9LFxuICAvKipcbiAgICogQHRlbXBsYXRlIHtrZXlvZiBPcHRzfSBMXG4gICAqIEBwYXJhbSB7TH0ga2V5IE5hbWUgb2Ygb3B0aW9ucyBvYmplY3QgdG8gdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3BlcmF0b3JdXG4gICAqIEBwYXJhbSB7TXVsdGlUb2tlbn0gW3Rva2VuXVxuICAgKiBAcmV0dXJucyB7T3B0c1tMXSB8IGFueX1cbiAgICovXG4gIGdldE9iaihrZXksIG9wZXJhdG9yLCB0b2tlbikge1xuICAgIGxldCBvYmogPSB0aGlzLm9ba2V5XTtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJyAmJiBvcGVyYXRvciAhPSBudWxsKSB7XG4gICAgICBvYmogPSBvYmoob3BlcmF0b3IsIHRva2VuLnQsIHRva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgLyoqXG4gICAqIENvbnZlcnQgdGhlIGdpdmVuIHRva2VuIHRvIGEgcmVuZGVyZWQgZWxlbWVudCB0aGF0IG1heSBiZSBhZGRlZCB0byB0aGVcbiAgICogY2FsbGluZy1pbnRlcmZhY2UncyBET01cbiAgICogQHBhcmFtIHtNdWx0aVRva2VufSB0b2tlbiBUb2tlbiB0byByZW5kZXIgdG8gYW4gSFRNTCBlbGVtZW50XG4gICAqIEByZXR1cm5zIHthbnl9IFJlbmRlciByZXN1bHQ7IGUuZy4sIEhUTUwgc3RyaW5nLCBET00gZWxlbWVudCwgUmVhY3RcbiAgICogICBDb21wb25lbnQsIGV0Yy5cbiAgICovXG4gIHJlbmRlcih0b2tlbikge1xuICAgIGNvbnN0IGlyID0gdG9rZW4ucmVuZGVyKHRoaXMpOyAvLyBpbnRlcm1lZGlhdGUgcmVwcmVzZW50YXRpb25cbiAgICBjb25zdCByZW5kZXJGbiA9IHRoaXMuZ2V0KCdyZW5kZXInLCBudWxsLCB0b2tlbikgfHwgdGhpcy5kZWZhdWx0UmVuZGVyO1xuICAgIHJldHVybiByZW5kZXJGbihpciwgdG9rZW4udCwgdG9rZW4pO1xuICB9XG59O1xuZnVuY3Rpb24gbm9vcCh2YWwpIHtcbiAgcmV0dXJuIHZhbDtcbn1cblxudmFyIG9wdGlvbnMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5cdF9fcHJvdG9fXzogbnVsbCxcblx0ZGVmYXVsdHM6IGRlZmF1bHRzLFxuXHRPcHRpb25zOiBPcHRpb25zLFxuXHRhc3NpZ246IGFzc2lnblxufSk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0TXVsdGktVG9rZW5zXG5cdFRva2VucyBjb21wb3NlZCBvZiBhcnJheXMgb2YgVGV4dFRva2Vuc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtUb2tlbltdfSB0b2tlbnNcbiAqL1xuZnVuY3Rpb24gTXVsdGlUb2tlbih2YWx1ZSwgdG9rZW5zKSB7XG4gIHRoaXMudCA9ICd0b2tlbic7XG4gIHRoaXMudiA9IHZhbHVlO1xuICB0aGlzLnRrID0gdG9rZW5zO1xufVxuXG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIHVzZWQgZm9yIG1hbnVmYWN0dXJpbmcgdG9rZW5zIG9mIHRleHQgdG9rZW5zLiBUaGF0IGlzIHJhdGhlclxuICogdGhhbiB0aGUgdmFsdWUgZm9yIGEgdG9rZW4gYmVpbmcgYSBzbWFsbCBzdHJpbmcgb2YgdGV4dCwgaXQncyB2YWx1ZSBhbiBhcnJheVxuICogb2YgdGV4dCB0b2tlbnMuXG4gKlxuICogVXNlZCBmb3IgZ3JvdXBpbmcgdG9nZXRoZXIgVVJMcywgZW1haWxzLCBoYXNodGFncywgYW5kIG90aGVyIHBvdGVudGlhbFxuICogY3JlYXRpb25zLlxuICogQGNsYXNzIE11bHRpVG9rZW5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gdlxuICogQHByb3BlcnR5IHtUb2tlbltdfSB0a1xuICogQGFic3RyYWN0XG4gKi9cbk11bHRpVG9rZW4ucHJvdG90eXBlID0ge1xuICBpc0xpbms6IGZhbHNlLFxuICAvKipcbiAgICogUmV0dXJuIHRoZSBzdHJpbmcgdGhpcyB0b2tlbiByZXByZXNlbnRzLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy52O1xuICB9LFxuICAvKipcbiAgICogV2hhdCBzaG91bGQgdGhlIHZhbHVlIGZvciB0aGlzIHRva2VuIGJlIGluIHRoZSBgaHJlZmAgSFRNTCBhdHRyaWJ1dGU/XG4gICAqIFJldHVybnMgdGhlIGAudG9TdHJpbmdgIHZhbHVlIGJ5IGRlZmF1bHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2NoZW1lXVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICovXG4gIHRvSHJlZihzY2hlbWUpIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xuICB9LFxuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIEZvcm1hdHRpbmcgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgdG9Gb3JtYXR0ZWRTdHJpbmcob3B0aW9ucykge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICBjb25zdCB0cnVuY2F0ZSA9IG9wdGlvbnMuZ2V0KCd0cnVuY2F0ZScsIHZhbCwgdGhpcyk7XG4gICAgY29uc3QgZm9ybWF0dGVkID0gb3B0aW9ucy5nZXQoJ2Zvcm1hdCcsIHZhbCwgdGhpcyk7XG4gICAgcmV0dXJuIHRydW5jYXRlICYmIGZvcm1hdHRlZC5sZW5ndGggPiB0cnVuY2F0ZSA/IGZvcm1hdHRlZC5zdWJzdHJpbmcoMCwgdHJ1bmNhdGUpICsgJ+KApicgOiBmb3JtYXR0ZWQ7XG4gIH0sXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnNcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHRvRm9ybWF0dGVkSHJlZihvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuZ2V0KCdmb3JtYXRIcmVmJywgdGhpcy50b0hyZWYob3B0aW9ucy5nZXQoJ2RlZmF1bHRQcm90b2NvbCcpKSwgdGhpcyk7XG4gIH0sXG4gIC8qKlxuICAgKiBUaGUgc3RhcnQgaW5kZXggb2YgdGhpcyB0b2tlbiBpbiB0aGUgb3JpZ2luYWwgaW5wdXQgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBzdGFydEluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLnRrWzBdLnM7XG4gIH0sXG4gIC8qKlxuICAgKiBUaGUgZW5kIGluZGV4IG9mIHRoaXMgdG9rZW4gaW4gdGhlIG9yaWdpbmFsIGlucHV0IHN0cmluZyAodXAgdG8gdGhpc1xuICAgKiBpbmRleCBidXQgbm90IGluY2x1ZGluZyBpdClcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGVuZEluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLnRrW3RoaXMudGsubGVuZ3RoIC0gMV0uZTtcbiAgfSxcbiAgLyoqXG4gIFx0UmV0dXJucyBhbiBvYmplY3QgIG9mIHJlbGV2YW50IHZhbHVlcyBmb3IgdGhpcyB0b2tlbiwgd2hpY2ggaW5jbHVkZXMga2V5c1xuICBcdCogdHlwZSAtIEtpbmQgb2YgdG9rZW4gKCd1cmwnLCAnZW1haWwnLCBldGMuKVxuICBcdCogdmFsdWUgLSBPcmlnaW5hbCB0ZXh0XG4gIFx0KiBocmVmIC0gVGhlIHZhbHVlIHRoYXQgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBhbmNob3IgdGFnJ3MgaHJlZlxuICBcdFx0YXR0cmlidXRlXG4gIFx0XHRAbWV0aG9kIHRvT2JqZWN0XG4gIFx0QHBhcmFtIHtzdHJpbmd9IFtwcm90b2NvbF0gYCdodHRwJ2AgYnkgZGVmYXVsdFxuICAqL1xuICB0b09iamVjdChwcm90b2NvbCkge1xuICAgIGlmIChwcm90b2NvbCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm90b2NvbCA9IGRlZmF1bHRzLmRlZmF1bHRQcm90b2NvbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMudCxcbiAgICAgIHZhbHVlOiB0aGlzLnRvU3RyaW5nKCksXG4gICAgICBpc0xpbms6IHRoaXMuaXNMaW5rLFxuICAgICAgaHJlZjogdGhpcy50b0hyZWYocHJvdG9jb2wpLFxuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnRJbmRleCgpLFxuICAgICAgZW5kOiB0aGlzLmVuZEluZGV4KClcbiAgICB9O1xuICB9LFxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIEZvcm1hdHRpbmcgb3B0aW9uXG4gICAqL1xuICB0b0Zvcm1hdHRlZE9iamVjdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMudCxcbiAgICAgIHZhbHVlOiB0aGlzLnRvRm9ybWF0dGVkU3RyaW5nKG9wdGlvbnMpLFxuICAgICAgaXNMaW5rOiB0aGlzLmlzTGluayxcbiAgICAgIGhyZWY6IHRoaXMudG9Gb3JtYXR0ZWRIcmVmKG9wdGlvbnMpLFxuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnRJbmRleCgpLFxuICAgICAgZW5kOiB0aGlzLmVuZEluZGV4KClcbiAgICB9O1xuICB9LFxuICAvKipcbiAgICogV2hldGhlciB0aGlzIHRva2VuIHNob3VsZCBiZSByZW5kZXJlZCBhcyBhIGxpbmsgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHZhbGlkYXRlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5nZXQoJ3ZhbGlkYXRlJywgdGhpcy50b1N0cmluZygpLCB0aGlzKTtcbiAgfSxcbiAgLyoqXG4gICAqIFJldHVybiBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIGhvdyB0aGlzIGxpbmsgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgRm9ybWF0dGlubmcgb3B0aW9uc1xuICAgKi9cbiAgcmVuZGVyKG9wdGlvbnMpIHtcbiAgICBjb25zdCB0b2tlbiA9IHRoaXM7XG4gICAgY29uc3QgaHJlZiA9IHRoaXMudG9IcmVmKG9wdGlvbnMuZ2V0KCdkZWZhdWx0UHJvdG9jb2wnKSk7XG4gICAgY29uc3QgZm9ybWF0dGVkSHJlZiA9IG9wdGlvbnMuZ2V0KCdmb3JtYXRIcmVmJywgaHJlZiwgdGhpcyk7XG4gICAgY29uc3QgdGFnTmFtZSA9IG9wdGlvbnMuZ2V0KCd0YWdOYW1lJywgaHJlZiwgdG9rZW4pO1xuICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLnRvRm9ybWF0dGVkU3RyaW5nKG9wdGlvbnMpO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICBjb25zdCBjbGFzc05hbWUgPSBvcHRpb25zLmdldCgnY2xhc3NOYW1lJywgaHJlZiwgdG9rZW4pO1xuICAgIGNvbnN0IHRhcmdldCA9IG9wdGlvbnMuZ2V0KCd0YXJnZXQnLCBocmVmLCB0b2tlbik7XG4gICAgY29uc3QgcmVsID0gb3B0aW9ucy5nZXQoJ3JlbCcsIGhyZWYsIHRva2VuKTtcbiAgICBjb25zdCBhdHRycyA9IG9wdGlvbnMuZ2V0T2JqKCdhdHRyaWJ1dGVzJywgaHJlZiwgdG9rZW4pO1xuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJzID0gb3B0aW9ucy5nZXRPYmooJ2V2ZW50cycsIGhyZWYsIHRva2VuKTtcbiAgICBhdHRyaWJ1dGVzLmhyZWYgPSBmb3JtYXR0ZWRIcmVmO1xuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBjbGFzc05hbWU7XG4gICAgfVxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGF0dHJpYnV0ZXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cbiAgICBpZiAocmVsKSB7XG4gICAgICBhdHRyaWJ1dGVzLnJlbCA9IHJlbDtcbiAgICB9XG4gICAgaWYgKGF0dHJzKSB7XG4gICAgICBhc3NpZ24oYXR0cmlidXRlcywgYXR0cnMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdGFnTmFtZSxcbiAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICBjb250ZW50LFxuICAgICAgZXZlbnRMaXN0ZW5lcnNcbiAgICB9O1xuICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyB0b2tlbiB0aGF0IGNhbiBiZSBlbWl0dGVkIGJ5IHRoZSBwYXJzZXIgc3RhdGUgbWFjaGluZVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgcmVhZGFibGUgdHlwZSBvZiB0aGUgdG9rZW5cbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBwcm9wZXJ0aWVzIHRvIGFzc2lnbiBvciBvdmVycmlkZSwgaW5jbHVkaW5nIGlzTGluayA9IHRydWUgb3IgZmFsc2VcbiAqIEByZXR1cm5zIHtuZXcgKHZhbHVlOiBzdHJpbmcsIHRva2VuczogVG9rZW5bXSkgPT4gTXVsdGlUb2tlbn0gbmV3IHRva2VuIGNsYXNzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRva2VuQ2xhc3ModHlwZSwgcHJvcHMpIHtcbiAgY2xhc3MgVG9rZW4gZXh0ZW5kcyBNdWx0aVRva2VuIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgdG9rZW5zKSB7XG4gICAgICBzdXBlcih2YWx1ZSwgdG9rZW5zKTtcbiAgICAgIHRoaXMudCA9IHR5cGU7XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgcCBpbiBwcm9wcykge1xuICAgIFRva2VuLnByb3RvdHlwZVtwXSA9IHByb3BzW3BdO1xuICB9XG4gIFRva2VuLnQgPSB0eXBlO1xuICByZXR1cm4gVG9rZW47XG59XG5cbi8qKlxuXHRSZXByZXNlbnRzIGEgbGlzdCBvZiB0b2tlbnMgbWFraW5nIHVwIGEgdmFsaWQgZW1haWwgYWRkcmVzc1xuKi9cbmNvbnN0IEVtYWlsID0gY3JlYXRlVG9rZW5DbGFzcygnZW1haWwnLCB7XG4gIGlzTGluazogdHJ1ZSxcbiAgdG9IcmVmKCkge1xuICAgIHJldHVybiAnbWFpbHRvOicgKyB0aGlzLnRvU3RyaW5nKCk7XG4gIH1cbn0pO1xuXG4vKipcblx0UmVwcmVzZW50cyBzb21lIHBsYWluIHRleHRcbiovXG5jb25zdCBUZXh0ID0gY3JlYXRlVG9rZW5DbGFzcygndGV4dCcpO1xuXG4vKipcblx0TXVsdGktbGluZWJyZWFrIHRva2VuIC0gcmVwcmVzZW50cyBhIGxpbmUgYnJlYWtcblx0QGNsYXNzIE5sXG4qL1xuY29uc3QgTmwgPSBjcmVhdGVUb2tlbkNsYXNzKCdubCcpO1xuXG4vKipcblx0UmVwcmVzZW50cyBhIGxpc3Qgb2YgdGV4dCB0b2tlbnMgbWFraW5nIHVwIGEgdmFsaWQgVVJMXG5cdEBjbGFzcyBVcmxcbiovXG5jb25zdCBVcmwgPSBjcmVhdGVUb2tlbkNsYXNzKCd1cmwnLCB7XG4gIGlzTGluazogdHJ1ZSxcbiAgLyoqXG4gIFx0TG93ZXJjYXNlcyByZWxldmFudCBwYXJ0cyBvZiB0aGUgZG9tYWluIGFuZCBhZGRzIHRoZSBwcm90b2NvbCBpZlxuICBcdHJlcXVpcmVkLiBOb3RlIHRoYXQgdGhpcyB3aWxsIG5vdCBlc2NhcGUgdW5zYWZlIEhUTUwgY2hhcmFjdGVycyBpbiB0aGVcbiAgXHRVUkwuXG4gIFx0XHRAcGFyYW0ge3N0cmluZ30gW3NjaGVtZV0gZGVmYXVsdCBzY2hlbWUgKGUuZy4sICdodHRwcycpXG4gIFx0QHJldHVybiB7c3RyaW5nfSB0aGUgZnVsbCBocmVmXG4gICovXG4gIHRvSHJlZihzY2hlbWUpIHtcbiAgICBpZiAoc2NoZW1lID09PSB2b2lkIDApIHtcbiAgICAgIHNjaGVtZSA9IGRlZmF1bHRzLmRlZmF1bHRQcm90b2NvbDtcbiAgICB9XG4gICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBoYXMgYSBwcmVmaXggc2NoZW1lXG4gICAgcmV0dXJuIHRoaXMuaGFzUHJvdG9jb2woKSA/IHRoaXMudiA6IGAke3NjaGVtZX06Ly8ke3RoaXMudn1gO1xuICB9LFxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGlzIFVSTCB0b2tlbiBoYXMgYSBwcm90b2NvbFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaGFzUHJvdG9jb2woKSB7XG4gICAgY29uc3QgdG9rZW5zID0gdGhpcy50aztcbiAgICByZXR1cm4gdG9rZW5zLmxlbmd0aCA+PSAyICYmIHRva2Vuc1swXS50ICE9PSBMT0NBTEhPU1QgJiYgdG9rZW5zWzFdLnQgPT09IENPTE9OO1xuICB9XG59KTtcblxudmFyIG11bHRpID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuXHRfX3Byb3RvX186IG51bGwsXG5cdE11bHRpVG9rZW46IE11bHRpVG9rZW4sXG5cdEJhc2U6IE11bHRpVG9rZW4sXG5cdGNyZWF0ZVRva2VuQ2xhc3M6IGNyZWF0ZVRva2VuQ2xhc3MsXG5cdEVtYWlsOiBFbWFpbCxcblx0VGV4dDogVGV4dCxcblx0Tmw6IE5sLFxuXHRVcmw6IFVybFxufSk7XG5cbi8qKlxuXHROb3QgZXhhY3RseSBwYXJzZXIsIG1vcmUgbGlrZSB0aGUgc2Vjb25kLXN0YWdlIHNjYW5uZXIgKGFsdGhvdWdoIHdlIGNhblxuXHR0aGVvcmV0aWNhbGx5IGhvdHN3YXAgdGhlIGNvZGUgaGVyZSB3aXRoIGEgcmVhbCBwYXJzZXIgaW4gdGhlIGZ1dHVyZS4uLiBidXRcblx0Zm9yIGEgbGl0dGxlIFVSTC1maW5kaW5nIHV0aWxpdHkgYWJzdHJhY3Qgc3ludGF4IHRyZWVzIG1heSBiZSBhIGxpdHRsZVxuXHRvdmVya2lsbCkuXG5cblx0VVJMIGZvcm1hdDogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9VUklfc2NoZW1lXG5cdEVtYWlsIGZvcm1hdDogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbWFpbEFkZHJlc3MgKGxpbmtzIHRvIFJGQyBpblxuXHRyZWZlcmVuY2UpXG5cblx0QG1vZHVsZSBsaW5raWZ5XG5cdEBzdWJtb2R1bGUgcGFyc2VyXG5cdEBtYWluIHJ1blxuKi9cbmNvbnN0IG1ha2VTdGF0ZSA9IGFyZyA9PiBuZXcgU3RhdGUoYXJnKTtcblxuLyoqXG4gKiBHZW5lcmF0ZSB0aGUgcGFyc2VyIG11bHRpIHRva2VuLWJhc2VkIHN0YXRlIG1hY2hpbmVcbiAqIEBwYXJhbSB7eyBncm91cHM6IENvbGxlY3Rpb25zPHN0cmluZz4gfX0gdG9rZW5zXG4gKi9cbmZ1bmN0aW9uIGluaXQkMShfcmVmKSB7XG4gIGxldCB7XG4gICAgZ3JvdXBzXG4gIH0gPSBfcmVmO1xuICAvLyBUeXBlcyBvZiBjaGFyYWN0ZXJzIHRoZSBVUkwgY2FuIGRlZmluaXRlbHkgZW5kIGluXG4gIGNvbnN0IHFzQWNjZXB0aW5nID0gZ3JvdXBzLmRvbWFpbi5jb25jYXQoW0FNUEVSU0FORCwgQVNURVJJU0ssIEFULCBCQUNLU0xBU0gsIEJBQ0tUSUNLLCBDQVJFVCwgRE9MTEFSLCBFUVVBTFMsIEhZUEhFTiwgTlVNLCBQRVJDRU5ULCBQSVBFLCBQTFVTLCBQT1VORCwgU0xBU0gsIFNZTSwgVElMREUsIFVOREVSU0NPUkVdKTtcblxuICAvLyBUeXBlcyBvZiB0b2tlbnMgdGhhdCBjYW4gZm9sbG93IGEgVVJMIGFuZCBiZSBwYXJ0IG9mIHRoZSBxdWVyeSBzdHJpbmdcbiAgLy8gYnV0IGNhbm5vdCBiZSB0aGUgdmVyeSBsYXN0IGNoYXJhY3RlcnNcbiAgLy8gQ2hhcmFjdGVycyB0aGF0IGNhbm5vdCBhcHBlYXIgaW4gdGhlIFVSTCBhdCBhbGwgc2hvdWxkIGJlIGV4Y2x1ZGVkXG4gIGNvbnN0IHFzTm9uQWNjZXB0aW5nID0gW0FQT1NUUk9QSEUsIENPTE9OLCBDT01NQSwgRE9ULCBFWENMQU1BVElPTiwgUVVFUlksIFFVT1RFLCBTRU1JLCBPUEVOQU5HTEVCUkFDS0VULCBDTE9TRUFOR0xFQlJBQ0tFVCwgT1BFTkJSQUNFLCBDTE9TRUJSQUNFLCBDTE9TRUJSQUNLRVQsIE9QRU5CUkFDS0VULCBPUEVOUEFSRU4sIENMT1NFUEFSRU4sIEZVTExXSURUSExFRlRQQVJFTiwgRlVMTFdJRFRIUklHSFRQQVJFTiwgTEVGVENPUk5FUkJSQUNLRVQsIFJJR0hUQ09STkVSQlJBQ0tFVCwgTEVGVFdISVRFQ09STkVSQlJBQ0tFVCwgUklHSFRXSElURUNPUk5FUkJSQUNLRVQsIEZVTExXSURUSExFU1NUSEFOLCBGVUxMV0lEVEhHUkVBVEVSVEhBTl07XG5cbiAgLy8gRm9yIGFkZHJlc3NlcyB3aXRob3V0IHRoZSBtYWlsdG8gcHJlZml4XG4gIC8vIFRva2VucyBhbGxvd2VkIGluIHRoZSBsb2NhbHBhcnQgb2YgdGhlIGVtYWlsXG4gIGNvbnN0IGxvY2FscGFydEFjY2VwdGluZyA9IFtBTVBFUlNBTkQsIEFQT1NUUk9QSEUsIEFTVEVSSVNLLCBCQUNLU0xBU0gsIEJBQ0tUSUNLLCBDQVJFVCwgRE9MTEFSLCBFUVVBTFMsIEhZUEhFTiwgT1BFTkJSQUNFLCBDTE9TRUJSQUNFLCBQRVJDRU5ULCBQSVBFLCBQTFVTLCBQT1VORCwgUVVFUlksIFNMQVNILCBTWU0sIFRJTERFLCBVTkRFUlNDT1JFXTtcblxuICAvLyBUaGUgdW5pdmVyc2FsIHN0YXJ0aW5nIHN0YXRlLlxuICAvKipcbiAgICogQHR5cGUgU3RhdGU8VG9rZW4+XG4gICAqL1xuICBjb25zdCBTdGFydCA9IG1ha2VTdGF0ZSgpO1xuICBjb25zdCBMb2NhbHBhcnQgPSB0dChTdGFydCwgVElMREUpOyAvLyBMb2NhbCBwYXJ0IG9mIHRoZSBlbWFpbCBhZGRyZXNzXG4gIHRhKExvY2FscGFydCwgbG9jYWxwYXJ0QWNjZXB0aW5nLCBMb2NhbHBhcnQpO1xuICB0YShMb2NhbHBhcnQsIGdyb3Vwcy5kb21haW4sIExvY2FscGFydCk7XG4gIGNvbnN0IERvbWFpbiA9IG1ha2VTdGF0ZSgpLFxuICAgIFNjaGVtZSA9IG1ha2VTdGF0ZSgpLFxuICAgIFNsYXNoU2NoZW1lID0gbWFrZVN0YXRlKCk7XG4gIHRhKFN0YXJ0LCBncm91cHMuZG9tYWluLCBEb21haW4pOyAvLyBwYXJzZWQgc3RyaW5nIGVuZHMgd2l0aCBhIHBvdGVudGlhbCBkb21haW4gbmFtZSAoQSlcbiAgdGEoU3RhcnQsIGdyb3Vwcy5zY2hlbWUsIFNjaGVtZSk7IC8vIGUuZy4sICdtYWlsdG8nXG4gIHRhKFN0YXJ0LCBncm91cHMuc2xhc2hzY2hlbWUsIFNsYXNoU2NoZW1lKTsgLy8gZS5nLiwgJ2h0dHAnXG5cbiAgdGEoRG9tYWluLCBsb2NhbHBhcnRBY2NlcHRpbmcsIExvY2FscGFydCk7XG4gIHRhKERvbWFpbiwgZ3JvdXBzLmRvbWFpbiwgRG9tYWluKTtcbiAgY29uc3QgTG9jYWxwYXJ0QXQgPSB0dChEb21haW4sIEFUKTsgLy8gTG9jYWwgcGFydCBvZiB0aGUgZW1haWwgYWRkcmVzcyBwbHVzIEBcblxuICB0dChMb2NhbHBhcnQsIEFULCBMb2NhbHBhcnRBdCk7IC8vIGNsb3NlIHRvIGFuIGVtYWlsIGFkZHJlc3Mgbm93XG5cbiAgLy8gTG9jYWwgcGFydCBvZiBhbiBlbWFpbCBhZGRyZXNzIGNhbiBiZSBlLmcuICdodHRwJyBvciAnbWFpbHRvJ1xuICB0dChTY2hlbWUsIEFULCBMb2NhbHBhcnRBdCk7XG4gIHR0KFNsYXNoU2NoZW1lLCBBVCwgTG9jYWxwYXJ0QXQpO1xuICBjb25zdCBMb2NhbHBhcnREb3QgPSB0dChMb2NhbHBhcnQsIERPVCk7IC8vIExvY2FsIHBhcnQgb2YgdGhlIGVtYWlsIGFkZHJlc3MgcGx1cyAnLicgKGxvY2FscGFydCBjYW5ub3QgZW5kIGluIC4pXG4gIHRhKExvY2FscGFydERvdCwgbG9jYWxwYXJ0QWNjZXB0aW5nLCBMb2NhbHBhcnQpO1xuICB0YShMb2NhbHBhcnREb3QsIGdyb3Vwcy5kb21haW4sIExvY2FscGFydCk7XG4gIGNvbnN0IEVtYWlsRG9tYWluID0gbWFrZVN0YXRlKCk7XG4gIHRhKExvY2FscGFydEF0LCBncm91cHMuZG9tYWluLCBFbWFpbERvbWFpbik7IC8vIHBhcnNlZCBzdHJpbmcgc3RhcnRzIHdpdGggbG9jYWwgZW1haWwgaW5mbyArIEAgd2l0aCBhIHBvdGVudGlhbCBkb21haW4gbmFtZVxuICB0YShFbWFpbERvbWFpbiwgZ3JvdXBzLmRvbWFpbiwgRW1haWxEb21haW4pO1xuICBjb25zdCBFbWFpbERvbWFpbkRvdCA9IHR0KEVtYWlsRG9tYWluLCBET1QpOyAvLyBkb21haW4gZm9sbG93ZWQgYnkgRE9UXG4gIHRhKEVtYWlsRG9tYWluRG90LCBncm91cHMuZG9tYWluLCBFbWFpbERvbWFpbik7XG4gIGNvbnN0IEVtYWlsJDEgPSBtYWtlU3RhdGUoRW1haWwpOyAvLyBQb3NzaWJsZSBlbWFpbCBhZGRyZXNzIChjb3VsZCBoYXZlIG1vcmUgdGxkcylcbiAgdGEoRW1haWxEb21haW5Eb3QsIGdyb3Vwcy50bGQsIEVtYWlsJDEpO1xuICB0YShFbWFpbERvbWFpbkRvdCwgZ3JvdXBzLnV0bGQsIEVtYWlsJDEpO1xuICB0dChMb2NhbHBhcnRBdCwgTE9DQUxIT1NULCBFbWFpbCQxKTtcblxuICAvLyBIeXBoZW4gY2FuIGp1bXAgYmFjayB0byBhIGRvbWFpbiBuYW1lXG4gIGNvbnN0IEVtYWlsRG9tYWluSHlwaGVuID0gdHQoRW1haWxEb21haW4sIEhZUEhFTik7IC8vIHBhcnNlZCBzdHJpbmcgc3RhcnRzIHdpdGggbG9jYWwgZW1haWwgaW5mbyArIEAgd2l0aCBhIHBvdGVudGlhbCBkb21haW4gbmFtZVxuICB0YShFbWFpbERvbWFpbkh5cGhlbiwgZ3JvdXBzLmRvbWFpbiwgRW1haWxEb21haW4pO1xuICB0YShFbWFpbCQxLCBncm91cHMuZG9tYWluLCBFbWFpbERvbWFpbik7XG4gIHR0KEVtYWlsJDEsIERPVCwgRW1haWxEb21haW5Eb3QpO1xuICB0dChFbWFpbCQxLCBIWVBIRU4sIEVtYWlsRG9tYWluSHlwaGVuKTtcblxuICAvLyBGaW5hbCBwb3NzaWJsZSBlbWFpbCBzdGF0ZXNcbiAgY29uc3QgRW1haWxDb2xvbiA9IHR0KEVtYWlsJDEsIENPTE9OKTsgLy8gVVJMIGZvbGxvd2VkIGJ5IGNvbG9uIChwb3RlbnRpYWwgcG9ydCBudW1iZXIgaGVyZSlcbiAgLypjb25zdCBFbWFpbENvbG9uUG9ydCA9ICovXG4gIHRhKEVtYWlsQ29sb24sIGdyb3Vwcy5udW1lcmljLCBFbWFpbCk7IC8vIFVSTCBmb2xsb3dlZCBieSBjb2xvbiBhbmQgcG9ydCBudW1iZXJcblxuICAvLyBBY2NvdW50IGZvciBkb3RzIGFuZCBoeXBoZW5zLiBIeXBoZW5zIGFyZSB1c3VhbGx5IHBhcnRzIG9mIGRvbWFpbiBuYW1lc1xuICAvLyAoYnV0IG5vdCBUTERzKVxuICBjb25zdCBEb21haW5IeXBoZW4gPSB0dChEb21haW4sIEhZUEhFTik7IC8vIGRvbWFpbiBmb2xsb3dlZCBieSBoeXBoZW5cbiAgY29uc3QgRG9tYWluRG90ID0gdHQoRG9tYWluLCBET1QpOyAvLyBkb21haW4gZm9sbG93ZWQgYnkgRE9UXG4gIHRhKERvbWFpbkh5cGhlbiwgZ3JvdXBzLmRvbWFpbiwgRG9tYWluKTtcbiAgdGEoRG9tYWluRG90LCBsb2NhbHBhcnRBY2NlcHRpbmcsIExvY2FscGFydCk7XG4gIHRhKERvbWFpbkRvdCwgZ3JvdXBzLmRvbWFpbiwgRG9tYWluKTtcbiAgY29uc3QgRG9tYWluRG90VGxkID0gbWFrZVN0YXRlKFVybCk7IC8vIFNpbXBsZXN0IHBvc3NpYmxlIFVSTCB3aXRoIG5vIHF1ZXJ5IHN0cmluZ1xuICB0YShEb21haW5Eb3QsIGdyb3Vwcy50bGQsIERvbWFpbkRvdFRsZCk7XG4gIHRhKERvbWFpbkRvdCwgZ3JvdXBzLnV0bGQsIERvbWFpbkRvdFRsZCk7XG4gIHRhKERvbWFpbkRvdFRsZCwgZ3JvdXBzLmRvbWFpbiwgRG9tYWluKTtcbiAgdGEoRG9tYWluRG90VGxkLCBsb2NhbHBhcnRBY2NlcHRpbmcsIExvY2FscGFydCk7XG4gIHR0KERvbWFpbkRvdFRsZCwgRE9ULCBEb21haW5Eb3QpO1xuICB0dChEb21haW5Eb3RUbGQsIEhZUEhFTiwgRG9tYWluSHlwaGVuKTtcbiAgdHQoRG9tYWluRG90VGxkLCBBVCwgTG9jYWxwYXJ0QXQpO1xuICBjb25zdCBEb21haW5Eb3RUbGRDb2xvbiA9IHR0KERvbWFpbkRvdFRsZCwgQ09MT04pOyAvLyBVUkwgZm9sbG93ZWQgYnkgY29sb24gKHBvdGVudGlhbCBwb3J0IG51bWJlciBoZXJlKVxuICBjb25zdCBEb21haW5Eb3RUbGRDb2xvblBvcnQgPSBtYWtlU3RhdGUoVXJsKTsgLy8gVExEIGZvbGxvd2VkIGJ5IGEgcG9ydCBudW1iZXJcbiAgdGEoRG9tYWluRG90VGxkQ29sb24sIGdyb3Vwcy5udW1lcmljLCBEb21haW5Eb3RUbGRDb2xvblBvcnQpO1xuXG4gIC8vIExvbmcgVVJMIHdpdGggb3B0aW9uYWwgcG9ydCBhbmQgbWF5YmUgcXVlcnkgc3RyaW5nXG4gIGNvbnN0IFVybCQxID0gbWFrZVN0YXRlKFVybCk7XG5cbiAgLy8gVVJMIHdpdGggZXh0cmEgc3ltYm9scyBhdCB0aGUgZW5kLCBmb2xsb3dlZCBieSBhbiBvcGVuaW5nIGJyYWNrZXRcbiAgY29uc3QgVXJsTm9uYWNjZXB0ID0gbWFrZVN0YXRlKCk7IC8vIFVSTCBmb2xsb3dlZCBieSBzb21lIHN5bWJvbHMgKHdpbGwgbm90IGJlIHBhcnQgb2YgdGhlIGZpbmFsIFVSTClcblxuICAvLyBRdWVyeSBzdHJpbmdzXG4gIHRhKFVybCQxLCBxc0FjY2VwdGluZywgVXJsJDEpO1xuICB0YShVcmwkMSwgcXNOb25BY2NlcHRpbmcsIFVybE5vbmFjY2VwdCk7XG4gIHRhKFVybE5vbmFjY2VwdCwgcXNBY2NlcHRpbmcsIFVybCQxKTtcbiAgdGEoVXJsTm9uYWNjZXB0LCBxc05vbkFjY2VwdGluZywgVXJsTm9uYWNjZXB0KTtcblxuICAvLyBCZWNvbWUgcmVhbCBVUkxzIGFmdGVyIGBTTEFTSGAgb3IgYENPTE9OIE5VTSBTTEFTSGBcbiAgLy8gSGVyZSB3b3JrcyB3aXRoIG9yIHdpdGhvdXQgc2NoZW1lOi8vIHByZWZpeFxuICB0dChEb21haW5Eb3RUbGQsIFNMQVNILCBVcmwkMSk7XG4gIHR0KERvbWFpbkRvdFRsZENvbG9uUG9ydCwgU0xBU0gsIFVybCQxKTtcblxuICAvLyBOb3RlIHRoYXQgZG9tYWlucyB0aGF0IGJlZ2luIHdpdGggc2NoZW1lcyBhcmUgdHJlYXRlZCBzbGlnaGx5IGRpZmZlcmVudGx5XG4gIGNvbnN0IFNjaGVtZUNvbG9uID0gdHQoU2NoZW1lLCBDT0xPTik7IC8vIGUuZy4sICdtYWlsdG86J1xuICBjb25zdCBTbGFzaFNjaGVtZUNvbG9uID0gdHQoU2xhc2hTY2hlbWUsIENPTE9OKTsgLy8gZS5nLiwgJ2h0dHA6J1xuICBjb25zdCBTbGFzaFNjaGVtZUNvbG9uU2xhc2ggPSB0dChTbGFzaFNjaGVtZUNvbG9uLCBTTEFTSCk7IC8vIGUuZy4sICdodHRwOi8nXG5cbiAgY29uc3QgVXJpUHJlZml4ID0gdHQoU2xhc2hTY2hlbWVDb2xvblNsYXNoLCBTTEFTSCk7IC8vIGUuZy4sICdodHRwOi8vJ1xuXG4gIC8vIFNjaGVtZSBzdGF0ZXMgY2FuIHRyYW5zaXRpb24gdG8gZG9tYWluIHN0YXRlc1xuICB0YShTY2hlbWUsIGdyb3Vwcy5kb21haW4sIERvbWFpbik7XG4gIHR0KFNjaGVtZSwgRE9ULCBEb21haW5Eb3QpO1xuICB0dChTY2hlbWUsIEhZUEhFTiwgRG9tYWluSHlwaGVuKTtcbiAgdGEoU2xhc2hTY2hlbWUsIGdyb3Vwcy5kb21haW4sIERvbWFpbik7XG4gIHR0KFNsYXNoU2NoZW1lLCBET1QsIERvbWFpbkRvdCk7XG4gIHR0KFNsYXNoU2NoZW1lLCBIWVBIRU4sIERvbWFpbkh5cGhlbik7XG5cbiAgLy8gRm9yY2UgVVJMIHdpdGggc2NoZW1lIHByZWZpeCBmb2xsb3dlZCBieSBhbnl0aGluZyBzYW5lXG4gIHRhKFNjaGVtZUNvbG9uLCBncm91cHMuZG9tYWluLCBVcmwkMSk7XG4gIHR0KFNjaGVtZUNvbG9uLCBTTEFTSCwgVXJsJDEpO1xuICB0YShVcmlQcmVmaXgsIGdyb3Vwcy5kb21haW4sIFVybCQxKTtcbiAgdGEoVXJpUHJlZml4LCBxc0FjY2VwdGluZywgVXJsJDEpO1xuICB0dChVcmlQcmVmaXgsIFNMQVNILCBVcmwkMSk7XG4gIGNvbnN0IGJyYWNrZXRQYWlycyA9IFtbT1BFTkJSQUNFLCBDTE9TRUJSQUNFXSxcbiAgLy8ge31cbiAgW09QRU5CUkFDS0VULCBDTE9TRUJSQUNLRVRdLFxuICAvLyBbXVxuICBbT1BFTlBBUkVOLCBDTE9TRVBBUkVOXSxcbiAgLy8gKClcbiAgW09QRU5BTkdMRUJSQUNLRVQsIENMT1NFQU5HTEVCUkFDS0VUXSxcbiAgLy8gPD5cbiAgW0ZVTExXSURUSExFRlRQQVJFTiwgRlVMTFdJRFRIUklHSFRQQVJFTl0sXG4gIC8vIO+8iO+8iVxuICBbTEVGVENPUk5FUkJSQUNLRVQsIFJJR0hUQ09STkVSQlJBQ0tFVF0sXG4gIC8vIOOAjOOAjVxuICBbTEVGVFdISVRFQ09STkVSQlJBQ0tFVCwgUklHSFRXSElURUNPUk5FUkJSQUNLRVRdLFxuICAvLyDjgI7jgI9cbiAgW0ZVTExXSURUSExFU1NUSEFOLCBGVUxMV0lEVEhHUkVBVEVSVEhBTl0gLy8g77yc77yeXG4gIF07XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBicmFja2V0UGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBbT1BFTiwgQ0xPU0VdID0gYnJhY2tldFBhaXJzW2ldO1xuICAgIGNvbnN0IFVybE9wZW4gPSB0dChVcmwkMSwgT1BFTik7IC8vIFVSTCBmb2xsb3dlZCBieSBvcGVuIGJyYWNrZXRcblxuICAgIC8vIENvbnRpbnVlIG5vdCBhY2NlcHRpbmcgZm9yIG9wZW4gYnJhY2tldHNcbiAgICB0dChVcmxOb25hY2NlcHQsIE9QRU4sIFVybE9wZW4pO1xuXG4gICAgLy8gQ2xvc2luZyBicmFja2V0IGNvbXBvbmVudC4gVGhpcyBjaGFyYWN0ZXIgV0lMTCBiZSBpbmNsdWRlZCBpbiB0aGUgVVJMXG4gICAgdHQoVXJsT3BlbiwgQ0xPU0UsIFVybCQxKTtcblxuICAgIC8vIFVSTCB0aGF0IGJlaW5ncyB3aXRoIGFuIG9wZW5pbmcgYnJhY2tldCwgZm9sbG93ZWQgYnkgYSBzeW1ib2xzLlxuICAgIC8vIE5vdGUgdGhhdCB0aGUgZmluYWwgc3RhdGUgY2FuIHN0aWxsIGJlIGBVcmxPcGVuYCAoaWYgdGhlIFVSTCBoYXMgYVxuICAgIC8vIHNpbmdsZSBvcGVuaW5nIGJyYWNrZXQgZm9yIHNvbWUgcmVhc29uKS5cbiAgICBjb25zdCBVcmxPcGVuUSA9IG1ha2VTdGF0ZShVcmwpO1xuICAgIHRhKFVybE9wZW4sIHFzQWNjZXB0aW5nLCBVcmxPcGVuUSk7XG4gICAgY29uc3QgVXJsT3BlblN5bXMgPSBtYWtlU3RhdGUoKTsgLy8gVXJsT3BlbiBmb2xsb3dlZCBieSBzb21lIHN5bWJvbHMgaXQgY2Fubm90IGVuZCBpdFxuICAgIHRhKFVybE9wZW4sIHFzTm9uQWNjZXB0aW5nKTtcblxuICAgIC8vIFVSTCB0aGF0IGJlZ2lucyB3aXRoIGFuIG9wZW5pbmcgYnJhY2tldCwgZm9sbG93ZWQgYnkgc29tZSBzeW1ib2xzXG4gICAgdGEoVXJsT3BlblEsIHFzQWNjZXB0aW5nLCBVcmxPcGVuUSk7XG4gICAgdGEoVXJsT3BlblEsIHFzTm9uQWNjZXB0aW5nLCBVcmxPcGVuU3ltcyk7XG4gICAgdGEoVXJsT3BlblN5bXMsIHFzQWNjZXB0aW5nLCBVcmxPcGVuUSk7XG4gICAgdGEoVXJsT3BlblN5bXMsIHFzTm9uQWNjZXB0aW5nLCBVcmxPcGVuU3ltcyk7XG5cbiAgICAvLyBDbG9zZSBicmFjZS9icmFja2V0IHRvIGJlY29tZSByZWd1bGFyIFVSTFxuICAgIHR0KFVybE9wZW5RLCBDTE9TRSwgVXJsJDEpO1xuICAgIHR0KFVybE9wZW5TeW1zLCBDTE9TRSwgVXJsJDEpO1xuICB9XG4gIHR0KFN0YXJ0LCBMT0NBTEhPU1QsIERvbWFpbkRvdFRsZCk7IC8vIGxvY2FsaG9zdCBpcyBhIHZhbGlkIFVSTCBzdGF0ZVxuICB0dChTdGFydCwgTkwkMSwgTmwpOyAvLyBzaW5nbGUgbmV3IGxpbmVcblxuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBTdGFydCxcbiAgICB0b2tlbnM6IHRrXG4gIH07XG59XG5cbi8qKlxuICogUnVuIHRoZSBwYXJzZXIgc3RhdGUgbWFjaGluZSBvbiBhIGxpc3Qgb2Ygc2Nhbm5lZCBzdHJpbmctYmFzZWQgdG9rZW5zIHRvXG4gKiBjcmVhdGUgYSBsaXN0IG9mIG11bHRpIHRva2VucywgZWFjaCBvZiB3aGljaCByZXByZXNlbnRzIGEgVVJMLCBlbWFpbCBhZGRyZXNzLFxuICogcGxhaW4gdGV4dCwgZXRjLlxuICpcbiAqIEBwYXJhbSB7U3RhdGU8TXVsdGlUb2tlbj59IHN0YXJ0IHBhcnNlciBzdGFydCBzdGF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IHRoZSBvcmlnaW5hbCBpbnB1dCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBnaXZlbiB0b2tlbnNcbiAqIEBwYXJhbSB7VG9rZW5bXX0gdG9rZW5zIGxpc3Qgb2Ygc2Nhbm5lZCB0b2tlbnNcbiAqIEByZXR1cm5zIHtNdWx0aVRva2VuW119XG4gKi9cbmZ1bmN0aW9uIHJ1bihzdGFydCwgaW5wdXQsIHRva2Vucykge1xuICBsZXQgbGVuID0gdG9rZW5zLmxlbmd0aDtcbiAgbGV0IGN1cnNvciA9IDA7XG4gIGxldCBtdWx0aXMgPSBbXTtcbiAgbGV0IHRleHRUb2tlbnMgPSBbXTtcbiAgd2hpbGUgKGN1cnNvciA8IGxlbikge1xuICAgIGxldCBzdGF0ZSA9IHN0YXJ0O1xuICAgIGxldCBzZWNvbmRTdGF0ZSA9IG51bGw7XG4gICAgbGV0IG5leHRTdGF0ZSA9IG51bGw7XG4gICAgbGV0IG11bHRpTGVuZ3RoID0gMDtcbiAgICBsZXQgbGF0ZXN0QWNjZXB0aW5nID0gbnVsbDtcbiAgICBsZXQgc2luY2VBY2NlcHRzID0gLTE7XG4gICAgd2hpbGUgKGN1cnNvciA8IGxlbiAmJiAhKHNlY29uZFN0YXRlID0gc3RhdGUuZ28odG9rZW5zW2N1cnNvcl0udCkpKSB7XG4gICAgICAvLyBTdGFydGluZyB0b2tlbnMgd2l0aCBub3doZXJlIHRvIGp1bXAgdG8uXG4gICAgICAvLyBDb25zaWRlciB0aGVzZSB0byBiZSBqdXN0IHBsYWluIHRleHRcbiAgICAgIHRleHRUb2tlbnMucHVzaCh0b2tlbnNbY3Vyc29yKytdKTtcbiAgICB9XG4gICAgd2hpbGUgKGN1cnNvciA8IGxlbiAmJiAobmV4dFN0YXRlID0gc2Vjb25kU3RhdGUgfHwgc3RhdGUuZ28odG9rZW5zW2N1cnNvcl0udCkpKSB7XG4gICAgICAvLyBHZXQgdGhlIG5leHQgc3RhdGVcbiAgICAgIHNlY29uZFN0YXRlID0gbnVsbDtcbiAgICAgIHN0YXRlID0gbmV4dFN0YXRlO1xuXG4gICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBsYXRlc3QgYWNjZXB0aW5nIHN0YXRlXG4gICAgICBpZiAoc3RhdGUuYWNjZXB0cygpKSB7XG4gICAgICAgIHNpbmNlQWNjZXB0cyA9IDA7XG4gICAgICAgIGxhdGVzdEFjY2VwdGluZyA9IHN0YXRlO1xuICAgICAgfSBlbHNlIGlmIChzaW5jZUFjY2VwdHMgPj0gMCkge1xuICAgICAgICBzaW5jZUFjY2VwdHMrKztcbiAgICAgIH1cbiAgICAgIGN1cnNvcisrO1xuICAgICAgbXVsdGlMZW5ndGgrKztcbiAgICB9XG4gICAgaWYgKHNpbmNlQWNjZXB0cyA8IDApIHtcbiAgICAgIC8vIE5vIGFjY2VwdGluZyBzdGF0ZSB3YXMgZm91bmQsIHBhcnQgb2YgYSByZWd1bGFyIHRleHQgdG9rZW4gYWRkXG4gICAgICAvLyB0aGUgZmlyc3QgdGV4dCB0b2tlbiB0byB0aGUgdGV4dCB0b2tlbnMgYXJyYXkgYW5kIHRyeSBhZ2FpbiBmcm9tXG4gICAgICAvLyB0aGUgbmV4dFxuICAgICAgY3Vyc29yIC09IG11bHRpTGVuZ3RoO1xuICAgICAgaWYgKGN1cnNvciA8IGxlbikge1xuICAgICAgICB0ZXh0VG9rZW5zLnB1c2godG9rZW5zW2N1cnNvcl0pO1xuICAgICAgICBjdXJzb3IrKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQWNjZXB0aW5nIHN0YXRlIVxuICAgICAgLy8gRmlyc3QgY2xvc2Ugb2ZmIHRoZSB0ZXh0VG9rZW5zIChpZiBhdmFpbGFibGUpXG4gICAgICBpZiAodGV4dFRva2Vucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG11bHRpcy5wdXNoKGluaXRNdWx0aVRva2VuKFRleHQsIGlucHV0LCB0ZXh0VG9rZW5zKSk7XG4gICAgICAgIHRleHRUb2tlbnMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgLy8gUm9sbCBiYWNrIHRvIHRoZSBsYXRlc3QgYWNjZXB0aW5nIHN0YXRlXG4gICAgICBjdXJzb3IgLT0gc2luY2VBY2NlcHRzO1xuICAgICAgbXVsdGlMZW5ndGggLT0gc2luY2VBY2NlcHRzO1xuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgbXVsdGl0b2tlblxuICAgICAgY29uc3QgTXVsdGkgPSBsYXRlc3RBY2NlcHRpbmcudDtcbiAgICAgIGNvbnN0IHN1YnRva2VucyA9IHRva2Vucy5zbGljZShjdXJzb3IgLSBtdWx0aUxlbmd0aCwgY3Vyc29yKTtcbiAgICAgIG11bHRpcy5wdXNoKGluaXRNdWx0aVRva2VuKE11bHRpLCBpbnB1dCwgc3VidG9rZW5zKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gRmluYWxseSBjbG9zZSBvZmYgdGhlIHRleHRUb2tlbnMgKGlmIGF2YWlsYWJsZSlcbiAgaWYgKHRleHRUb2tlbnMubGVuZ3RoID4gMCkge1xuICAgIG11bHRpcy5wdXNoKGluaXRNdWx0aVRva2VuKFRleHQsIGlucHV0LCB0ZXh0VG9rZW5zKSk7XG4gIH1cbiAgcmV0dXJuIG11bHRpcztcbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBpbnN0YW50aWF0aW5nIGEgbmV3IG11bHRpdG9rZW4gd2l0aCBhbGwgdGhlIHJlbGV2YW50XG4gKiBmaWVsZHMgZHVyaW5nIHBhcnNpbmcuXG4gKiBAcGFyYW0ge25ldyAodmFsdWU6IHN0cmluZywgdG9rZW5zOiBUb2tlbltdKSA9PiBNdWx0aVRva2VufSBNdWx0aSBjbGFzcyB0byBpbnN0YW50aWF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IG9yaWdpbmFsIGlucHV0IHN0cmluZ1xuICogQHBhcmFtIHtUb2tlbltdfSB0b2tlbnMgY29uc2VjdXRpdmUgdG9rZW5zIHNjYW5uZWQgZnJvbSBpbnB1dCBzdHJpbmdcbiAqIEByZXR1cm5zIHtNdWx0aVRva2VufVxuICovXG5mdW5jdGlvbiBpbml0TXVsdGlUb2tlbihNdWx0aSwgaW5wdXQsIHRva2Vucykge1xuICBjb25zdCBzdGFydElkeCA9IHRva2Vuc1swXS5zO1xuICBjb25zdCBlbmRJZHggPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdLmU7XG4gIGNvbnN0IHZhbHVlID0gaW5wdXQuc2xpY2Uoc3RhcnRJZHgsIGVuZElkeCk7XG4gIHJldHVybiBuZXcgTXVsdGkodmFsdWUsIHRva2Vucyk7XG59XG5cbmNvbnN0IHdhcm4gPSB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZSAmJiBjb25zb2xlLndhcm4gfHwgKCgpID0+IHt9KTtcbmNvbnN0IHdhcm5BZHZpY2UgPSAndW50aWwgbWFudWFsIGNhbGwgb2YgbGlua2lmeS5pbml0KCkuIFJlZ2lzdGVyIGFsbCBzY2hlbWVzIGFuZCBwbHVnaW5zIGJlZm9yZSBpbnZva2luZyBsaW5raWZ5IHRoZSBmaXJzdCB0aW1lLic7XG5cbi8vIFNpZGUtZWZmZWN0IGluaXRpYWxpemF0aW9uIHN0YXRlXG5jb25zdCBJTklUID0ge1xuICBzY2FubmVyOiBudWxsLFxuICBwYXJzZXI6IG51bGwsXG4gIHRva2VuUXVldWU6IFtdLFxuICBwbHVnaW5RdWV1ZTogW10sXG4gIGN1c3RvbVNjaGVtZXM6IFtdLFxuICBpbml0aWFsaXplZDogZmFsc2Vcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqIFx0c3RhcnQ6IFN0YXRlPHN0cmluZz4sXG4gKiBcdHRva2VuczogeyBncm91cHM6IENvbGxlY3Rpb25zPHN0cmluZz4gfSAmIHR5cGVvZiB0a1xuICogfX0gU2Nhbm5lckluaXRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiBcdHN0YXJ0OiBTdGF0ZTxNdWx0aVRva2VuPixcbiAqIFx0dG9rZW5zOiB0eXBlb2YgbXVsdGlcbiAqIH19IFBhcnNlckluaXRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsoYXJnOiB7IHNjYW5uZXI6IFNjYW5uZXJJbml0IH0pID0+IHZvaWR9IFRva2VuUGx1Z2luXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7KGFyZzogeyBzY2FubmVyOiBTY2FubmVySW5pdCwgcGFyc2VyOiBQYXJzZXJJbml0IH0pID0+IHZvaWR9IFBsdWdpblxuICovXG5cbi8qKlxuICogRGUtcmVnaXN0ZXIgYWxsIHBsdWdpbnMgYW5kIHJlc2V0IHRoZSBpbnRlcm5hbCBzdGF0ZS1tYWNoaW5lLiBVc2VkIGZvclxuICogdGVzdGluZzsgbm90IHJlcXVpcmVkIGluIHByYWN0aWNlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIFN0YXRlLmdyb3VwcyA9IHt9O1xuICBJTklULnNjYW5uZXIgPSBudWxsO1xuICBJTklULnBhcnNlciA9IG51bGw7XG4gIElOSVQudG9rZW5RdWV1ZSA9IFtdO1xuICBJTklULnBsdWdpblF1ZXVlID0gW107XG4gIElOSVQuY3VzdG9tU2NoZW1lcyA9IFtdO1xuICBJTklULmluaXRpYWxpemVkID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVnaXN0ZXIgYSB0b2tlbiBwbHVnaW4gdG8gYWxsb3cgdGhlIHNjYW5uZXIgdG8gcmVjb2duaXplIGFkZGl0aW9uYWwgdG9rZW5cbiAqIHR5cGVzIGJlZm9yZSB0aGUgcGFyc2VyIHN0YXRlIG1hY2hpbmUgaXMgY29uc3RydWN0ZWQgZnJvbSB0aGUgcmVzdWx0cy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG9mIHBsdWdpbiB0byByZWdpc3RlclxuICogQHBhcmFtIHtUb2tlblBsdWdpbn0gcGx1Z2luIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgc2Nhbm5lciBzdGF0ZSBtYWNoaW5lXG4gKiBhbmQgYXZhaWxhYmxlIHNjYW5uZXIgdG9rZW5zIGFuZCBjb2xsZWN0aW9ucyBhbmQgZXh0ZW5kcyB0aGUgc3RhdGUgbWFjaGluZSB0b1xuICogcmVjb2duaXplIGFkZGl0aW9uYWwgdG9rZW5zIG9yIGdyb3Vwcy5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJUb2tlblBsdWdpbihuYW1lLCBwbHVnaW4pIHtcbiAgaWYgKHR5cGVvZiBwbHVnaW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGxpbmtpZnlqczogSW52YWxpZCB0b2tlbiBwbHVnaW4gJHtwbHVnaW59IChleHBlY3RzIGZ1bmN0aW9uKWApO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgSU5JVC50b2tlblF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG5hbWUgPT09IElOSVQudG9rZW5RdWV1ZVtpXVswXSkge1xuICAgICAgd2FybihgbGlua2lmeWpzOiB0b2tlbiBwbHVnaW4gXCIke25hbWV9XCIgYWxyZWFkeSByZWdpc3RlcmVkIC0gd2lsbCBiZSBvdmVyd3JpdHRlbmApO1xuICAgICAgSU5JVC50b2tlblF1ZXVlW2ldID0gW25hbWUsIHBsdWdpbl07XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIElOSVQudG9rZW5RdWV1ZS5wdXNoKFtuYW1lLCBwbHVnaW5dKTtcbiAgaWYgKElOSVQuaW5pdGlhbGl6ZWQpIHtcbiAgICB3YXJuKGBsaW5raWZ5anM6IGFscmVhZHkgaW5pdGlhbGl6ZWQgLSB3aWxsIG5vdCByZWdpc3RlciB0b2tlbiBwbHVnaW4gXCIke25hbWV9XCIgJHt3YXJuQWR2aWNlfWApO1xuICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBsaW5raWZ5IHBsdWdpblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgb2YgcGx1Z2luIHRvIHJlZ2lzdGVyXG4gKiBAcGFyYW0ge1BsdWdpbn0gcGx1Z2luIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcGFyc2VyIHN0YXRlIG1hY2hpbmUgYW5kXG4gKiBleHRlbmRzIHRoZSBwYXJzZXIgdG8gcmVjb2duaXplIGFkZGl0aW9uYWwgbGluayB0eXBlc1xuICovXG5mdW5jdGlvbiByZWdpc3RlclBsdWdpbihuYW1lLCBwbHVnaW4pIHtcbiAgaWYgKHR5cGVvZiBwbHVnaW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGxpbmtpZnlqczogSW52YWxpZCBwbHVnaW4gJHtwbHVnaW59IChleHBlY3RzIGZ1bmN0aW9uKWApO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgSU5JVC5wbHVnaW5RdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChuYW1lID09PSBJTklULnBsdWdpblF1ZXVlW2ldWzBdKSB7XG4gICAgICB3YXJuKGBsaW5raWZ5anM6IHBsdWdpbiBcIiR7bmFtZX1cIiBhbHJlYWR5IHJlZ2lzdGVyZWQgLSB3aWxsIGJlIG92ZXJ3cml0dGVuYCk7XG4gICAgICBJTklULnBsdWdpblF1ZXVlW2ldID0gW25hbWUsIHBsdWdpbl07XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIElOSVQucGx1Z2luUXVldWUucHVzaChbbmFtZSwgcGx1Z2luXSk7XG4gIGlmIChJTklULmluaXRpYWxpemVkKSB7XG4gICAgd2FybihgbGlua2lmeWpzOiBhbHJlYWR5IGluaXRpYWxpemVkIC0gd2lsbCBub3QgcmVnaXN0ZXIgcGx1Z2luIFwiJHtuYW1lfVwiICR7d2FybkFkdmljZX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIERldGVjdCBVUkxzIHdpdGggdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIHByb3RvY29sLiBBbnl0aGluZyB3aXRoIGZvcm1hdFxuICogXCJwcm90b2NvbDovLy4uLlwiIHdpbGwgYmUgY29uc2lkZXJlZCBhIGxpbmsuIElmIGBvcHRpb25hbFNsYXNoU2xhc2hgIGlzIHNldCB0b1xuICogYHRydWVgLCBhbnl0aGluZyB3aXRoIGZvcm1hdCBcInByb3RvY29sOi4uLlwiIHdpbGwgYmUgY29uc2lkZXJlZCBhIGxpbmsuXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvdG9jb2xcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbmFsU2xhc2hTbGFzaF1cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJDdXN0b21Qcm90b2NvbChzY2hlbWUsIG9wdGlvbmFsU2xhc2hTbGFzaCkge1xuICBpZiAob3B0aW9uYWxTbGFzaFNsYXNoID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25hbFNsYXNoU2xhc2ggPSBmYWxzZTtcbiAgfVxuICBpZiAoSU5JVC5pbml0aWFsaXplZCkge1xuICAgIHdhcm4oYGxpbmtpZnlqczogYWxyZWFkeSBpbml0aWFsaXplZCAtIHdpbGwgbm90IHJlZ2lzdGVyIGN1c3RvbSBzY2hlbWUgXCIke3NjaGVtZX1cIiAke3dhcm5BZHZpY2V9YCk7XG4gIH1cbiAgaWYgKCEvXlswLTlhLXpdKygtWzAtOWEtel0rKSokLy50ZXN0KHNjaGVtZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGxpbmtpZnlqczogaW5jb3JyZWN0IHNjaGVtZSBmb3JtYXQuXG4xLiBNdXN0IG9ubHkgY29udGFpbiBkaWdpdHMsIGxvd2VyY2FzZSBBU0NJSSBsZXR0ZXJzIG9yIFwiLVwiXG4yLiBDYW5ub3Qgc3RhcnQgb3IgZW5kIHdpdGggXCItXCJcbjMuIFwiLVwiIGNhbm5vdCByZXBlYXRgKTtcbiAgfVxuICBJTklULmN1c3RvbVNjaGVtZXMucHVzaChbc2NoZW1lLCBvcHRpb25hbFNsYXNoU2xhc2hdKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBsaW5raWZ5IHN0YXRlIG1hY2hpbmUuIENhbGxlZCBhdXRvbWF0aWNhbGx5IHRoZSBmaXJzdCB0aW1lXG4gKiBsaW5raWZ5IGlzIGNhbGxlZCBvbiBhIHN0cmluZywgYnV0IG1heSBiZSBjYWxsZWQgbWFudWFsbHkgYXMgd2VsbC5cbiAqL1xuZnVuY3Rpb24gaW5pdCgpIHtcbiAgLy8gSW5pdGlhbGl6ZSBzY2FubmVyIHN0YXRlIG1hY2hpbmUgYW5kIHBsdWdpbnNcbiAgSU5JVC5zY2FubmVyID0gaW5pdCQyKElOSVQuY3VzdG9tU2NoZW1lcyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgSU5JVC50b2tlblF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgSU5JVC50b2tlblF1ZXVlW2ldWzFdKHtcbiAgICAgIHNjYW5uZXI6IElOSVQuc2Nhbm5lclxuICAgIH0pO1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBwYXJzZXIgc3RhdGUgbWFjaGluZSBhbmQgcGx1Z2luc1xuICBJTklULnBhcnNlciA9IGluaXQkMShJTklULnNjYW5uZXIudG9rZW5zKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBJTklULnBsdWdpblF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgSU5JVC5wbHVnaW5RdWV1ZVtpXVsxXSh7XG4gICAgICBzY2FubmVyOiBJTklULnNjYW5uZXIsXG4gICAgICBwYXJzZXI6IElOSVQucGFyc2VyXG4gICAgfSk7XG4gIH1cbiAgSU5JVC5pbml0aWFsaXplZCA9IHRydWU7XG59XG5cbi8qKlxuICogUGFyc2UgYSBzdHJpbmcgaW50byB0b2tlbnMgdGhhdCByZXByZXNlbnQgbGlua2FibGUgYW5kIG5vbi1saW5rYWJsZSBzdWItY29tcG9uZW50c1xuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7TXVsdGlUb2tlbltdfSB0b2tlbnNcbiAqL1xuZnVuY3Rpb24gdG9rZW5pemUoc3RyKSB7XG4gIGlmICghSU5JVC5pbml0aWFsaXplZCkge1xuICAgIGluaXQoKTtcbiAgfVxuICByZXR1cm4gcnVuKElOSVQucGFyc2VyLnN0YXJ0LCBzdHIsIHJ1biQxKElOSVQuc2Nhbm5lci5zdGFydCwgc3RyKSk7XG59XG5cbi8qKlxuICogRmluZCBhIGxpc3Qgb2YgbGlua2FibGUgaXRlbXMgaW4gdGhlIGdpdmVuIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgc3RyaW5nIHRvIGZpbmQgbGlua3MgaW5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgT3B0c30gW3R5cGVdIGVpdGhlciBmb3JtYXR0aW5nIG9wdGlvbnMgb3Igc3BlY2lmaWMgdHlwZSBvZlxuICogbGlua3MgdG8gZmluZCwgZS5nLiwgJ3VybCcgb3IgJ2VtYWlsJ1xuICogQHBhcmFtIHtPcHRzfSBbb3B0c10gZm9ybWF0dGluZyBvcHRpb25zIGZvciBmaW5hbCBvdXRwdXQuIENhbm5vdCBiZSBzcGVjaWZpZWRcbiAqIGlmIG9wdHMgYWxyZWFkeSBwcm92aWRlZCBpbiBgdHlwZWAgYXJndW1lbnRcbiAqL1xuZnVuY3Rpb24gZmluZChzdHIsIHR5cGUsIG9wdHMpIHtcbiAgaWYgKHR5cGUgPT09IHZvaWQgMCkge1xuICAgIHR5cGUgPSBudWxsO1xuICB9XG4gIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICBvcHRzID0gbnVsbDtcbiAgfVxuICBpZiAodHlwZSAmJiB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAob3B0cykge1xuICAgICAgdGhyb3cgRXJyb3IoYGxpbmtpZnlqczogSW52YWxpZCBsaW5rIHR5cGUgJHt0eXBlfTsgbXVzdCBiZSBhIHN0cmluZ2ApO1xuICAgIH1cbiAgICBvcHRzID0gdHlwZTtcbiAgICB0eXBlID0gbnVsbDtcbiAgfVxuICBjb25zdCBvcHRpb25zID0gbmV3IE9wdGlvbnMob3B0cyk7XG4gIGNvbnN0IHRva2VucyA9IHRva2VuaXplKHN0cik7XG4gIGNvbnN0IGZpbHRlcmVkID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgaWYgKHRva2VuLmlzTGluayAmJiAoIXR5cGUgfHwgdG9rZW4udCA9PT0gdHlwZSkgJiYgb3B0aW9ucy5jaGVjayh0b2tlbikpIHtcbiAgICAgIGZpbHRlcmVkLnB1c2godG9rZW4udG9Gb3JtYXR0ZWRPYmplY3Qob3B0aW9ucykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmlsdGVyZWQ7XG59XG5cbi8qKlxuICogSXMgdGhlIGdpdmVuIHN0cmluZyB2YWxpZCBsaW5rYWJsZSB0ZXh0IG9mIHNvbWUgc29ydC4gTm90ZSB0aGF0IHRoaXMgZG9lcyBub3RcbiAqIHRyaW0gdGhlIHRleHQgZm9yIHlvdS5cbiAqXG4gKiBPcHRpb25hbGx5IHBhc3MgaW4gYSBzZWNvbmQgYHR5cGVgIHBhcmFtLCB3aGljaCBpcyB0aGUgdHlwZSBvZiBsaW5rIHRvIHRlc3RcbiAqIGZvci5cbiAqXG4gKiBGb3IgZXhhbXBsZSxcbiAqXG4gKiAgICAgbGlua2lmeS50ZXN0KHN0ciwgJ2VtYWlsJyk7XG4gKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgc3RyIGlzIGEgdmFsaWQgZW1haWwuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIHN0cmluZyB0byB0ZXN0IGZvciBsaW5rc1xuICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlXSBvcHRpb25hbCBzcGVjaWZpYyBsaW5rIHR5cGUgdG8gbG9vayBmb3JcbiAqIEByZXR1cm5zIGJvb2xlYW4gdHJ1ZS9mYWxzZVxuICovXG5mdW5jdGlvbiB0ZXN0KHN0ciwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7XG4gICAgdHlwZSA9IG51bGw7XG4gIH1cbiAgY29uc3QgdG9rZW5zID0gdG9rZW5pemUoc3RyKTtcbiAgcmV0dXJuIHRva2Vucy5sZW5ndGggPT09IDEgJiYgdG9rZW5zWzBdLmlzTGluayAmJiAoIXR5cGUgfHwgdG9rZW5zWzBdLnQgPT09IHR5cGUpO1xufVxuXG5leHBvcnQgeyBNdWx0aVRva2VuLCBPcHRpb25zLCBTdGF0ZSwgY3JlYXRlVG9rZW5DbGFzcywgZmluZCwgaW5pdCwgbXVsdGksIG9wdGlvbnMsIHJlZ2V4cCwgcmVnaXN0ZXJDdXN0b21Qcm90b2NvbCwgcmVnaXN0ZXJQbHVnaW4sIHJlZ2lzdGVyVG9rZW5QbHVnaW4sIHJlc2V0LCBzdHJpbmdUb0FycmF5LCB0ZXN0LCB0b2tlbml6ZSB9O1xuIiwiaW1wb3J0IHsgT3B0aW9ucywgdG9rZW5pemUgYXMgdG9rZW5pemUkMSB9IGZyb20gJ2xpbmtpZnlqcyc7XG5cbi8qKlxuICogZ2VuZXJhdGVkIGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3czYy9odG1sLzI2YjUxMjZmOTZmNzM2Zjc5NmI5ZTI5NzE4MTM4OTE5ZGQ1MTM3NDQvZW50aXRpZXMuanNvblxuICogZG8gbm90IGVkaXRcbiAqL1xudmFyIEhUTUw1TmFtZWRDaGFyUmVmcyA9IHtcbiAgLy8gV2UgZG9uJ3QgbmVlZCB0aGUgY29tcGxldGUgbmFtZWQgY2hhcmFjdGVyIHJlZmVyZW5jZSBiZWNhdXNlIGxpbmtpZnlIdG1sXG4gIC8vIGRvZXMgbm90IG1vZGlmeSB0aGUgZXNjYXBlIHNlcXVlbmNlcy4gV2UgZG8gbmVlZCAmbmJzcDsgc28gdGhhdFxuICAvLyB3aGl0ZXNwYWNlIGlzIHBhcnNlZCBwcm9wZXJseS4gT3RoZXIgdHlwZXMgb2Ygd2hpdGVzcGFjZSBzaG91bGQgYWxyZWFkeVxuICAvLyBiZSBhY2NvdW50ZWQgZm9yLiAmZ3Q7ICZsdDsgYW5kICZxdW90OyBhcmUgYWxzbyBmcmVxdWVudGx5IHJlbGV2YW50IG9uZXNcbiAgYW1wOiBcIiZcIixcbiAgZ3Q6IFwiPlwiLFxuICBsdDogXCI8XCIsXG4gIG5ic3A6IFwiwqBcIixcbiAgcXVvdDogXCJcXFwiXCJcbn07XG52YXIgSEVYQ0hBUkNPREUgPSAvXiNbeFhdKFtBLUZhLWYwLTldKykkLztcbnZhciBDSEFSQ09ERSA9IC9eIyhbMC05XSspJC87XG52YXIgTkFNRUQgPSAvXihbQS1aYS16MC05XSspJC87XG52YXIgRW50aXR5UGFyc2VyID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRW50aXR5UGFyc2VyKG5hbWVkKSB7XG4gICAgdGhpcy5uYW1lZCA9IG5hbWVkO1xuICB9XG4gIEVudGl0eVBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgaWYgKCFlbnRpdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG1hdGNoZXMgPSBlbnRpdHkubWF0Y2goSEVYQ0hBUkNPREUpO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChtYXRjaGVzWzFdLCAxNikpO1xuICAgIH1cbiAgICBtYXRjaGVzID0gZW50aXR5Lm1hdGNoKENIQVJDT0RFKTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobWF0Y2hlc1sxXSwgMTApKTtcbiAgICB9XG4gICAgbWF0Y2hlcyA9IGVudGl0eS5tYXRjaChOQU1FRCk7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIHJldHVybiB0aGlzLm5hbWVkW21hdGNoZXNbMV1dIHx8IFwiJlwiICsgbWF0Y2hlc1sxXSArIFwiO1wiO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIEVudGl0eVBhcnNlcjtcbn0oKTtcbnZhciBXU1AgPSAvW1xcdFxcblxcZiBdLztcbnZhciBBTFBIQSA9IC9bQS1aYS16XS87XG52YXIgQ1JMRiA9IC9cXHJcXG4/L2c7XG5mdW5jdGlvbiBpc1NwYWNlKGNoYXIpIHtcbiAgcmV0dXJuIFdTUC50ZXN0KGNoYXIpO1xufVxuZnVuY3Rpb24gaXNBbHBoYShjaGFyKSB7XG4gIHJldHVybiBBTFBIQS50ZXN0KGNoYXIpO1xufVxuZnVuY3Rpb24gcHJlcHJvY2Vzc0lucHV0KGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5yZXBsYWNlKENSTEYsICdcXG4nKTtcbn1cbnZhciBFdmVudGVkVG9rZW5pemVyID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXZlbnRlZFRva2VuaXplcihkZWxlZ2F0ZSwgZW50aXR5UGFyc2VyLCBtb2RlKSB7XG4gICAgaWYgKG1vZGUgPT09IHZvaWQgMCkge1xuICAgICAgbW9kZSA9ICdwcmVjb21waWxlJztcbiAgICB9XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMuZW50aXR5UGFyc2VyID0gZW50aXR5UGFyc2VyO1xuICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgdGhpcy5zdGF0ZSA9IFwiYmVmb3JlRGF0YVwiIC8qIGJlZm9yZURhdGEgKi87XG4gICAgdGhpcy5saW5lID0gLTE7XG4gICAgdGhpcy5jb2x1bW4gPSAtMTtcbiAgICB0aGlzLmlucHV0ID0gJyc7XG4gICAgdGhpcy5pbmRleCA9IC0xO1xuICAgIHRoaXMudGFnTmFtZUJ1ZmZlciA9ICcnO1xuICAgIHRoaXMuc3RhdGVzID0ge1xuICAgICAgYmVmb3JlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMucGVlaygpO1xuICAgICAgICBpZiAoY2hhciA9PT0gJzwnICYmICF0aGlzLmlzSWdub3JlZEVuZFRhZygpKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJ0YWdPcGVuXCIgLyogdGFnT3BlbiAqLyk7XG4gICAgICAgICAgdGhpcy5tYXJrVGFnU3RhcnQoKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSAncHJlY29tcGlsZScgJiYgY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgIHZhciB0YWcgPSB0aGlzLnRhZ05hbWVCdWZmZXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICh0YWcgPT09ICdwcmUnIHx8IHRhZyA9PT0gJ3RleHRhcmVhJykge1xuICAgICAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJkYXRhXCIgLyogZGF0YSAqLyk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5iZWdpbkRhdGEoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgdmFyIHRhZyA9IHRoaXMudGFnTmFtZUJ1ZmZlcjtcbiAgICAgICAgaWYgKGNoYXIgPT09ICc8JyAmJiAhdGhpcy5pc0lnbm9yZWRFbmRUYWcoKSkge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZmluaXNoRGF0YSgpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwidGFnT3BlblwiIC8qIHRhZ09wZW4gKi8pO1xuICAgICAgICAgIHRoaXMubWFya1RhZ1N0YXJ0KCk7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJyYnICYmIHRhZyAhPT0gJ3NjcmlwdCcgJiYgdGFnICE9PSAnc3R5bGUnKSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0RhdGEodGhpcy5jb25zdW1lQ2hhclJlZigpIHx8ICcmJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0RhdGEoY2hhcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0YWdPcGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFyID0gdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIGlmIChjaGFyID09PSAnIScpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcIm1hcmt1cERlY2xhcmF0aW9uT3BlblwiIC8qIG1hcmt1cERlY2xhcmF0aW9uT3BlbiAqLyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJy8nKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJlbmRUYWdPcGVuXCIgLyogZW5kVGFnT3BlbiAqLyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJ0AnIHx8IGNoYXIgPT09ICc6JyB8fCBpc0FscGhhKGNoYXIpKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJ0YWdOYW1lXCIgLyogdGFnTmFtZSAqLyk7XG4gICAgICAgICAgdGhpcy50YWdOYW1lQnVmZmVyID0gJyc7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5iZWdpblN0YXJ0VGFnKCk7XG4gICAgICAgICAgdGhpcy5hcHBlbmRUb1RhZ05hbWUoY2hhcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBtYXJrdXBEZWNsYXJhdGlvbk9wZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICctJyAmJiB0aGlzLnBlZWsoKSA9PT0gJy0nKSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJjb21tZW50U3RhcnRcIiAvKiBjb21tZW50U3RhcnQgKi8pO1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYmVnaW5Db21tZW50KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG1heWJlRG9jdHlwZSA9IGNoYXIudG9VcHBlckNhc2UoKSArIHRoaXMuaW5wdXQuc3Vic3RyaW5nKHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggKyA2KS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIGlmIChtYXliZURvY3R5cGUgPT09ICdET0NUWVBFJykge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJkb2N0eXBlXCIgLyogZG9jdHlwZSAqLyk7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5iZWdpbkRvY3R5cGUpIHRoaXMuZGVsZWdhdGUuYmVnaW5Eb2N0eXBlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZG9jdHlwZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAoaXNTcGFjZShjaGFyKSkge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlRG9jdHlwZU5hbWVcIiAvKiBiZWZvcmVEb2N0eXBlTmFtZSAqLyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGJlZm9yZURvY3R5cGVOYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFyID0gdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIGlmIChpc1NwYWNlKGNoYXIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiZG9jdHlwZU5hbWVcIiAvKiBkb2N0eXBlTmFtZSAqLyk7XG4gICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuYXBwZW5kVG9Eb2N0eXBlTmFtZSkgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0RvY3R5cGVOYW1lKGNoYXIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkb2N0eXBlTmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAoaXNTcGFjZShjaGFyKSkge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYWZ0ZXJEb2N0eXBlTmFtZVwiIC8qIGFmdGVyRG9jdHlwZU5hbWUgKi8pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICc+Jykge1xuICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVuZERvY3R5cGUpIHRoaXMuZGVsZWdhdGUuZW5kRG9jdHlwZSgpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlRGF0YVwiIC8qIGJlZm9yZURhdGEgKi8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmFwcGVuZFRvRG9jdHlwZU5hbWUpIHRoaXMuZGVsZWdhdGUuYXBwZW5kVG9Eb2N0eXBlTmFtZShjaGFyLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWZ0ZXJEb2N0eXBlTmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAoaXNTcGFjZShjaGFyKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPicpIHtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbmREb2N0eXBlKSB0aGlzLmRlbGVnYXRlLmVuZERvY3R5cGUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV4dFNpeENoYXJzID0gY2hhci50b1VwcGVyQ2FzZSgpICsgdGhpcy5pbnB1dC5zdWJzdHJpbmcodGhpcy5pbmRleCwgdGhpcy5pbmRleCArIDUpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgdmFyIGlzUHVibGljID0gbmV4dFNpeENoYXJzLnRvVXBwZXJDYXNlKCkgPT09ICdQVUJMSUMnO1xuICAgICAgICAgIHZhciBpc1N5c3RlbSA9IG5leHRTaXhDaGFycy50b1VwcGVyQ2FzZSgpID09PSAnU1lTVEVNJztcbiAgICAgICAgICBpZiAoaXNQdWJsaWMgfHwgaXNTeXN0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzUHVibGljKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImFmdGVyRG9jdHlwZVB1YmxpY0tleXdvcmRcIiAvKiBhZnRlckRvY3R5cGVQdWJsaWNLZXl3b3JkICovKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzU3lzdGVtKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImFmdGVyRG9jdHlwZVN5c3RlbUtleXdvcmRcIiAvKiBhZnRlckRvY3R5cGVTeXN0ZW1LZXl3b3JkICovKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGFmdGVyRG9jdHlwZVB1YmxpY0tleXdvcmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgaWYgKGlzU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURvY3R5cGVQdWJsaWNJZGVudGlmaWVyXCIgLyogYmVmb3JlRG9jdHlwZVB1YmxpY0lkZW50aWZpZXIgKi8pO1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImRvY3R5cGVQdWJsaWNJZGVudGlmaWVyRG91YmxlUXVvdGVkXCIgLyogZG9jdHlwZVB1YmxpY0lkZW50aWZpZXJEb3VibGVRdW90ZWQgKi8pO1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09IFwiJ1wiKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJkb2N0eXBlUHVibGljSWRlbnRpZmllclNpbmdsZVF1b3RlZFwiIC8qIGRvY3R5cGVQdWJsaWNJZGVudGlmaWVyU2luZ2xlUXVvdGVkICovKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPicpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbmREb2N0eXBlKSB0aGlzLmRlbGVnYXRlLmVuZERvY3R5cGUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZG9jdHlwZVB1YmxpY0lkZW50aWZpZXJEb3VibGVRdW90ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImFmdGVyRG9jdHlwZVB1YmxpY0lkZW50aWZpZXJcIiAvKiBhZnRlckRvY3R5cGVQdWJsaWNJZGVudGlmaWVyICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPicpIHtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbmREb2N0eXBlKSB0aGlzLmRlbGVnYXRlLmVuZERvY3R5cGUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0RvY3R5cGVQdWJsaWNJZGVudGlmaWVyKSB0aGlzLmRlbGVnYXRlLmFwcGVuZFRvRG9jdHlwZVB1YmxpY0lkZW50aWZpZXIoY2hhcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkb2N0eXBlUHVibGljSWRlbnRpZmllclNpbmdsZVF1b3RlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAoY2hhciA9PT0gXCInXCIpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImFmdGVyRG9jdHlwZVB1YmxpY0lkZW50aWZpZXJcIiAvKiBhZnRlckRvY3R5cGVQdWJsaWNJZGVudGlmaWVyICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPicpIHtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbmREb2N0eXBlKSB0aGlzLmRlbGVnYXRlLmVuZERvY3R5cGUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0RvY3R5cGVQdWJsaWNJZGVudGlmaWVyKSB0aGlzLmRlbGVnYXRlLmFwcGVuZFRvRG9jdHlwZVB1YmxpY0lkZW50aWZpZXIoY2hhcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhZnRlckRvY3R5cGVQdWJsaWNJZGVudGlmaWVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFyID0gdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIGlmIChpc1NwYWNlKGNoYXIpKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJiZXR3ZWVuRG9jdHlwZVB1YmxpY0FuZFN5c3RlbUlkZW50aWZpZXJzXCIgLyogYmV0d2VlbkRvY3R5cGVQdWJsaWNBbmRTeXN0ZW1JZGVudGlmaWVycyAqLyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJz4nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZW5kRG9jdHlwZSkgdGhpcy5kZWxlZ2F0ZS5lbmREb2N0eXBlKCk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJiZWZvcmVEYXRhXCIgLyogYmVmb3JlRGF0YSAqLyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJ1wiJykge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiZG9jdHlwZVN5c3RlbUlkZW50aWZpZXJEb3VibGVRdW90ZWRcIiAvKiBkb2N0eXBlU3lzdGVtSWRlbnRpZmllckRvdWJsZVF1b3RlZCAqLyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gXCInXCIpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImRvY3R5cGVTeXN0ZW1JZGVudGlmaWVyU2luZ2xlUXVvdGVkXCIgLyogZG9jdHlwZVN5c3RlbUlkZW50aWZpZXJTaW5nbGVRdW90ZWQgKi8pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBiZXR3ZWVuRG9jdHlwZVB1YmxpY0FuZFN5c3RlbUlkZW50aWZpZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFyID0gdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIGlmIChpc1NwYWNlKGNoYXIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICc+Jykge1xuICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVuZERvY3R5cGUpIHRoaXMuZGVsZWdhdGUuZW5kRG9jdHlwZSgpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlRGF0YVwiIC8qIGJlZm9yZURhdGEgKi8pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImRvY3R5cGVTeXN0ZW1JZGVudGlmaWVyRG91YmxlUXVvdGVkXCIgLyogZG9jdHlwZVN5c3RlbUlkZW50aWZpZXJEb3VibGVRdW90ZWQgKi8pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09IFwiJ1wiKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJkb2N0eXBlU3lzdGVtSWRlbnRpZmllclNpbmdsZVF1b3RlZFwiIC8qIGRvY3R5cGVTeXN0ZW1JZGVudGlmaWVyU2luZ2xlUXVvdGVkICovKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZG9jdHlwZVN5c3RlbUlkZW50aWZpZXJEb3VibGVRdW90ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImFmdGVyRG9jdHlwZVN5c3RlbUlkZW50aWZpZXJcIiAvKiBhZnRlckRvY3R5cGVTeXN0ZW1JZGVudGlmaWVyICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPicpIHtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbmREb2N0eXBlKSB0aGlzLmRlbGVnYXRlLmVuZERvY3R5cGUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0RvY3R5cGVTeXN0ZW1JZGVudGlmaWVyKSB0aGlzLmRlbGVnYXRlLmFwcGVuZFRvRG9jdHlwZVN5c3RlbUlkZW50aWZpZXIoY2hhcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkb2N0eXBlU3lzdGVtSWRlbnRpZmllclNpbmdsZVF1b3RlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAoY2hhciA9PT0gXCInXCIpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImFmdGVyRG9jdHlwZVN5c3RlbUlkZW50aWZpZXJcIiAvKiBhZnRlckRvY3R5cGVTeXN0ZW1JZGVudGlmaWVyICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPicpIHtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbmREb2N0eXBlKSB0aGlzLmRlbGVnYXRlLmVuZERvY3R5cGUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0RvY3R5cGVTeXN0ZW1JZGVudGlmaWVyKSB0aGlzLmRlbGVnYXRlLmFwcGVuZFRvRG9jdHlwZVN5c3RlbUlkZW50aWZpZXIoY2hhcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhZnRlckRvY3R5cGVTeXN0ZW1JZGVudGlmaWVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFyID0gdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIGlmIChpc1NwYWNlKGNoYXIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICc+Jykge1xuICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVuZERvY3R5cGUpIHRoaXMuZGVsZWdhdGUuZW5kRG9jdHlwZSgpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlRGF0YVwiIC8qIGJlZm9yZURhdGEgKi8pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBjb21tZW50U3RhcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICctJykge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiY29tbWVudFN0YXJ0RGFzaFwiIC8qIGNvbW1lbnRTdGFydERhc2ggKi8pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICc+Jykge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZmluaXNoQ29tbWVudCgpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlRGF0YVwiIC8qIGJlZm9yZURhdGEgKi8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kVG9Db21tZW50RGF0YShjaGFyKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImNvbW1lbnRcIiAvKiBjb21tZW50ICovKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgY29tbWVudFN0YXJ0RGFzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAoY2hhciA9PT0gJy0nKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJjb21tZW50RW5kXCIgLyogY29tbWVudEVuZCAqLyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJz4nKSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5maW5pc2hDb21tZW50KCk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJiZWZvcmVEYXRhXCIgLyogYmVmb3JlRGF0YSAqLyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0NvbW1lbnREYXRhKCctJyk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJjb21tZW50XCIgLyogY29tbWVudCAqLyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGNvbW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICctJykge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiY29tbWVudEVuZERhc2hcIiAvKiBjb21tZW50RW5kRGFzaCAqLyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0NvbW1lbnREYXRhKGNoYXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tbWVudEVuZERhc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICctJykge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiY29tbWVudEVuZFwiIC8qIGNvbW1lbnRFbmQgKi8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kVG9Db21tZW50RGF0YSgnLScgKyBjaGFyKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImNvbW1lbnRcIiAvKiBjb21tZW50ICovKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgY29tbWVudEVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAoY2hhciA9PT0gJz4nKSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5maW5pc2hDb21tZW50KCk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJiZWZvcmVEYXRhXCIgLyogYmVmb3JlRGF0YSAqLyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0NvbW1lbnREYXRhKCctLScgKyBjaGFyKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImNvbW1lbnRcIiAvKiBjb21tZW50ICovKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgdGFnTmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAoaXNTcGFjZShjaGFyKSkge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlQXR0cmlidXRlTmFtZVwiIC8qIGJlZm9yZUF0dHJpYnV0ZU5hbWUgKi8pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICcvJykge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwic2VsZkNsb3NpbmdTdGFydFRhZ1wiIC8qIHNlbGZDbG9zaW5nU3RhcnRUYWcgKi8pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICc+Jykge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZmluaXNoVGFnKCk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJiZWZvcmVEYXRhXCIgLyogYmVmb3JlRGF0YSAqLyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hcHBlbmRUb1RhZ05hbWUoY2hhcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbmRUYWdOYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFyID0gdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIGlmIChpc1NwYWNlKGNoYXIpKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJiZWZvcmVBdHRyaWJ1dGVOYW1lXCIgLyogYmVmb3JlQXR0cmlidXRlTmFtZSAqLyk7XG4gICAgICAgICAgdGhpcy50YWdOYW1lQnVmZmVyID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJy8nKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJzZWxmQ2xvc2luZ1N0YXJ0VGFnXCIgLyogc2VsZkNsb3NpbmdTdGFydFRhZyAqLyk7XG4gICAgICAgICAgdGhpcy50YWdOYW1lQnVmZmVyID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJz4nKSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5maW5pc2hUYWcoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgICB0aGlzLnRhZ05hbWVCdWZmZXIgPSAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmFwcGVuZFRvVGFnTmFtZShjaGFyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGJlZm9yZUF0dHJpYnV0ZU5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgaWYgKGlzU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJy8nKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJzZWxmQ2xvc2luZ1N0YXJ0VGFnXCIgLyogc2VsZkNsb3NpbmdTdGFydFRhZyAqLyk7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJz4nKSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5maW5pc2hUYWcoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPScpIHtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLnJlcG9ydFN5bnRheEVycm9yKCdhdHRyaWJ1dGUgbmFtZSBjYW5ub3Qgc3RhcnQgd2l0aCBlcXVhbHMgc2lnbicpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYXR0cmlidXRlTmFtZVwiIC8qIGF0dHJpYnV0ZU5hbWUgKi8pO1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYmVnaW5BdHRyaWJ1dGUoKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmFwcGVuZFRvQXR0cmlidXRlTmFtZShjaGFyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImF0dHJpYnV0ZU5hbWVcIiAvKiBhdHRyaWJ1dGVOYW1lICovKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmJlZ2luQXR0cmlidXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhdHRyaWJ1dGVOYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFyID0gdGhpcy5wZWVrKCk7XG4gICAgICAgIGlmIChpc1NwYWNlKGNoYXIpKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJhZnRlckF0dHJpYnV0ZU5hbWVcIiAvKiBhZnRlckF0dHJpYnV0ZU5hbWUgKi8pO1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICcvJykge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYmVnaW5BdHRyaWJ1dGVWYWx1ZShmYWxzZSk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5maW5pc2hBdHRyaWJ1dGVWYWx1ZSgpO1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwic2VsZkNsb3NpbmdTdGFydFRhZ1wiIC8qIHNlbGZDbG9zaW5nU3RhcnRUYWcgKi8pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICc9Jykge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlQXR0cmlidXRlVmFsdWVcIiAvKiBiZWZvcmVBdHRyaWJ1dGVWYWx1ZSAqLyk7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJz4nKSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5iZWdpbkF0dHJpYnV0ZVZhbHVlKGZhbHNlKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmZpbmlzaEF0dHJpYnV0ZVZhbHVlKCk7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5maW5pc2hUYWcoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnXCInIHx8IGNoYXIgPT09IFwiJ1wiIHx8IGNoYXIgPT09ICc8Jykge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUucmVwb3J0U3ludGF4RXJyb3IoY2hhciArICcgaXMgbm90IGEgdmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBhdHRyaWJ1dGUgbmFtZXMnKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmFwcGVuZFRvQXR0cmlidXRlTmFtZShjaGFyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmFwcGVuZFRvQXR0cmlidXRlTmFtZShjaGFyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFmdGVyQXR0cmlidXRlTmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMucGVlaygpO1xuICAgICAgICBpZiAoaXNTcGFjZShjaGFyKSkge1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnLycpIHtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmJlZ2luQXR0cmlidXRlVmFsdWUoZmFsc2UpO1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZmluaXNoQXR0cmlidXRlVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcInNlbGZDbG9zaW5nU3RhcnRUYWdcIiAvKiBzZWxmQ2xvc2luZ1N0YXJ0VGFnICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPScpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZUF0dHJpYnV0ZVZhbHVlXCIgLyogYmVmb3JlQXR0cmlidXRlVmFsdWUgKi8pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICc+Jykge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYmVnaW5BdHRyaWJ1dGVWYWx1ZShmYWxzZSk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5maW5pc2hBdHRyaWJ1dGVWYWx1ZSgpO1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZmluaXNoVGFnKCk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJiZWZvcmVEYXRhXCIgLyogYmVmb3JlRGF0YSAqLyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5iZWdpbkF0dHJpYnV0ZVZhbHVlKGZhbHNlKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmZpbmlzaEF0dHJpYnV0ZVZhbHVlKCk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJhdHRyaWJ1dGVOYW1lXCIgLyogYXR0cmlidXRlTmFtZSAqLyk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5iZWdpbkF0dHJpYnV0ZSgpO1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kVG9BdHRyaWJ1dGVOYW1lKGNoYXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYmVmb3JlQXR0cmlidXRlVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgaWYgKGlzU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnXCInKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJhdHRyaWJ1dGVWYWx1ZURvdWJsZVF1b3RlZFwiIC8qIGF0dHJpYnV0ZVZhbHVlRG91YmxlUXVvdGVkICovKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmJlZ2luQXR0cmlidXRlVmFsdWUodHJ1ZSk7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gXCInXCIpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImF0dHJpYnV0ZVZhbHVlU2luZ2xlUXVvdGVkXCIgLyogYXR0cmlidXRlVmFsdWVTaW5nbGVRdW90ZWQgKi8pO1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYmVnaW5BdHRyaWJ1dGVWYWx1ZSh0cnVlKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPicpIHtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmJlZ2luQXR0cmlidXRlVmFsdWUoZmFsc2UpO1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZmluaXNoQXR0cmlidXRlVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmZpbmlzaFRhZygpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlRGF0YVwiIC8qIGJlZm9yZURhdGEgKi8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYXR0cmlidXRlVmFsdWVVbnF1b3RlZFwiIC8qIGF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQgKi8pO1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYmVnaW5BdHRyaWJ1dGVWYWx1ZShmYWxzZSk7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0F0dHJpYnV0ZVZhbHVlKGNoYXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXR0cmlidXRlVmFsdWVEb3VibGVRdW90ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmZpbmlzaEF0dHJpYnV0ZVZhbHVlKCk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJhZnRlckF0dHJpYnV0ZVZhbHVlUXVvdGVkXCIgLyogYWZ0ZXJBdHRyaWJ1dGVWYWx1ZVF1b3RlZCAqLyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJyYnKSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0F0dHJpYnV0ZVZhbHVlKHRoaXMuY29uc3VtZUNoYXJSZWYoKSB8fCAnJicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kVG9BdHRyaWJ1dGVWYWx1ZShjaGFyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGF0dHJpYnV0ZVZhbHVlU2luZ2xlUXVvdGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFyID0gdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIGlmIChjaGFyID09PSBcIidcIikge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZmluaXNoQXR0cmlidXRlVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImFmdGVyQXR0cmlidXRlVmFsdWVRdW90ZWRcIiAvKiBhZnRlckF0dHJpYnV0ZVZhbHVlUXVvdGVkICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnJicpIHtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmFwcGVuZFRvQXR0cmlidXRlVmFsdWUodGhpcy5jb25zdW1lQ2hhclJlZigpIHx8ICcmJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0F0dHJpYnV0ZVZhbHVlKGNoYXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXR0cmlidXRlVmFsdWVVbnF1b3RlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMucGVlaygpO1xuICAgICAgICBpZiAoaXNTcGFjZShjaGFyKSkge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZmluaXNoQXR0cmlidXRlVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZUF0dHJpYnV0ZU5hbWVcIiAvKiBiZWZvcmVBdHRyaWJ1dGVOYW1lICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnLycpIHtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmZpbmlzaEF0dHJpYnV0ZVZhbHVlKCk7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJzZWxmQ2xvc2luZ1N0YXJ0VGFnXCIgLyogc2VsZkNsb3NpbmdTdGFydFRhZyAqLyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJyYnKSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRUb0F0dHJpYnV0ZVZhbHVlKHRoaXMuY29uc3VtZUNoYXJSZWYoKSB8fCAnJicpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICc+Jykge1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZmluaXNoQXR0cmlidXRlVmFsdWUoKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmZpbmlzaFRhZygpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlRGF0YVwiIC8qIGJlZm9yZURhdGEgKi8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kVG9BdHRyaWJ1dGVWYWx1ZShjaGFyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFmdGVyQXR0cmlidXRlVmFsdWVRdW90ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgaWYgKGlzU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZUF0dHJpYnV0ZU5hbWVcIiAvKiBiZWZvcmVBdHRyaWJ1dGVOYW1lICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnLycpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcInNlbGZDbG9zaW5nU3RhcnRUYWdcIiAvKiBzZWxmQ2xvc2luZ1N0YXJ0VGFnICovKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnPicpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmZpbmlzaFRhZygpO1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlRGF0YVwiIC8qIGJlZm9yZURhdGEgKi8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvKFwiYmVmb3JlQXR0cmlidXRlTmFtZVwiIC8qIGJlZm9yZUF0dHJpYnV0ZU5hbWUgKi8pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBzZWxmQ2xvc2luZ1N0YXJ0VGFnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFyID0gdGhpcy5wZWVrKCk7XG4gICAgICAgIGlmIChjaGFyID09PSAnPicpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLm1hcmtUYWdBc1NlbGZDbG9zaW5nKCk7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5maW5pc2hUYWcoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZUF0dHJpYnV0ZU5hbWVcIiAvKiBiZWZvcmVBdHRyaWJ1dGVOYW1lICovKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgZW5kVGFnT3BlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMuY29uc3VtZSgpO1xuICAgICAgICBpZiAoY2hhciA9PT0gJ0AnIHx8IGNoYXIgPT09ICc6JyB8fCBpc0FscGhhKGNoYXIpKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8oXCJlbmRUYWdOYW1lXCIgLyogZW5kVGFnTmFtZSAqLyk7XG4gICAgICAgICAgdGhpcy50YWdOYW1lQnVmZmVyID0gJyc7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5iZWdpbkVuZFRhZygpO1xuICAgICAgICAgIHRoaXMuYXBwZW5kVG9UYWdOYW1lKGNoYXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cbiAgRXZlbnRlZFRva2VuaXplci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50cmFuc2l0aW9uVG8oXCJiZWZvcmVEYXRhXCIgLyogYmVmb3JlRGF0YSAqLyk7XG4gICAgdGhpcy5pbnB1dCA9ICcnO1xuICAgIHRoaXMudGFnTmFtZUJ1ZmZlciA9ICcnO1xuICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIHRoaXMubGluZSA9IDE7XG4gICAgdGhpcy5jb2x1bW4gPSAwO1xuICAgIHRoaXMuZGVsZWdhdGUucmVzZXQoKTtcbiAgfTtcbiAgRXZlbnRlZFRva2VuaXplci5wcm90b3R5cGUudHJhbnNpdGlvblRvID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICB9O1xuICBFdmVudGVkVG9rZW5pemVyLnByb3RvdHlwZS50b2tlbml6ZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLnRva2VuaXplUGFydChpbnB1dCk7XG4gICAgdGhpcy50b2tlbml6ZUVPRigpO1xuICB9O1xuICBFdmVudGVkVG9rZW5pemVyLnByb3RvdHlwZS50b2tlbml6ZVBhcnQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICB0aGlzLmlucHV0ICs9IHByZXByb2Nlc3NJbnB1dChpbnB1dCk7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmlucHV0Lmxlbmd0aCkge1xuICAgICAgdmFyIGhhbmRsZXIgPSB0aGlzLnN0YXRlc1t0aGlzLnN0YXRlXTtcbiAgICAgIGlmIChoYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5oYW5kbGVkIHN0YXRlIFwiICsgdGhpcy5zdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBFdmVudGVkVG9rZW5pemVyLnByb3RvdHlwZS50b2tlbml6ZUVPRiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZsdXNoRGF0YSgpO1xuICB9O1xuICBFdmVudGVkVG9rZW5pemVyLnByb3RvdHlwZS5mbHVzaERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09ICdkYXRhJykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5maW5pc2hEYXRhKCk7XG4gICAgICB0aGlzLnRyYW5zaXRpb25UbyhcImJlZm9yZURhdGFcIiAvKiBiZWZvcmVEYXRhICovKTtcbiAgICB9XG4gIH07XG5cbiAgRXZlbnRlZFRva2VuaXplci5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gIH07XG4gIEV2ZW50ZWRUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNoYXIgPSB0aGlzLnBlZWsoKTtcbiAgICB0aGlzLmluZGV4Kys7XG4gICAgaWYgKGNoYXIgPT09ICdcXG4nKSB7XG4gICAgICB0aGlzLmxpbmUrKztcbiAgICAgIHRoaXMuY29sdW1uID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb2x1bW4rKztcbiAgICB9XG4gICAgcmV0dXJuIGNoYXI7XG4gIH07XG4gIEV2ZW50ZWRUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVDaGFyUmVmID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbmRJbmRleCA9IHRoaXMuaW5wdXQuaW5kZXhPZignOycsIHRoaXMuaW5kZXgpO1xuICAgIGlmIChlbmRJbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGVudGl0eSA9IHRoaXMuaW5wdXQuc2xpY2UodGhpcy5pbmRleCwgZW5kSW5kZXgpO1xuICAgIHZhciBjaGFycyA9IHRoaXMuZW50aXR5UGFyc2VyLnBhcnNlKGVudGl0eSk7XG4gICAgaWYgKGNoYXJzKSB7XG4gICAgICB2YXIgY291bnQgPSBlbnRpdHkubGVuZ3RoO1xuICAgICAgLy8gY29uc3VtZSB0aGUgZW50aXR5IGNoYXJzXG4gICAgICB3aGlsZSAoY291bnQpIHtcbiAgICAgICAgdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIGNvdW50LS07XG4gICAgICB9XG4gICAgICAvLyBjb25zdW1lIHRoZSBgO2BcbiAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgcmV0dXJuIGNoYXJzO1xuICAgIH1cbiAgfTtcbiAgRXZlbnRlZFRva2VuaXplci5wcm90b3R5cGUubWFya1RhZ1N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGVsZWdhdGUudGFnT3BlbigpO1xuICB9O1xuICBFdmVudGVkVG9rZW5pemVyLnByb3RvdHlwZS5hcHBlbmRUb1RhZ05hbWUgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgIHRoaXMudGFnTmFtZUJ1ZmZlciArPSBjaGFyO1xuICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kVG9UYWdOYW1lKGNoYXIpO1xuICB9O1xuICBFdmVudGVkVG9rZW5pemVyLnByb3RvdHlwZS5pc0lnbm9yZWRFbmRUYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRhZyA9IHRoaXMudGFnTmFtZUJ1ZmZlcjtcbiAgICByZXR1cm4gdGFnID09PSAndGl0bGUnICYmIHRoaXMuaW5wdXQuc3Vic3RyaW5nKHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggKyA4KSAhPT0gJzwvdGl0bGU+JyB8fCB0YWcgPT09ICdzdHlsZScgJiYgdGhpcy5pbnB1dC5zdWJzdHJpbmcodGhpcy5pbmRleCwgdGhpcy5pbmRleCArIDgpICE9PSAnPC9zdHlsZT4nIHx8IHRhZyA9PT0gJ3NjcmlwdCcgJiYgdGhpcy5pbnB1dC5zdWJzdHJpbmcodGhpcy5pbmRleCwgdGhpcy5pbmRleCArIDkpICE9PSAnPC9zY3JpcHQ+JztcbiAgfTtcbiAgcmV0dXJuIEV2ZW50ZWRUb2tlbml6ZXI7XG59KCk7XG52YXIgVG9rZW5pemVyID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVG9rZW5pemVyKGVudGl0eVBhcnNlciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnRva2VuID0gbnVsbDtcbiAgICB0aGlzLnN0YXJ0TGluZSA9IDE7XG4gICAgdGhpcy5zdGFydENvbHVtbiA9IDA7XG4gICAgdGhpcy50b2tlbnMgPSBbXTtcbiAgICB0aGlzLnRva2VuaXplciA9IG5ldyBFdmVudGVkVG9rZW5pemVyKHRoaXMsIGVudGl0eVBhcnNlciwgb3B0aW9ucy5tb2RlKTtcbiAgICB0aGlzLl9jdXJyZW50QXR0cmlidXRlID0gdW5kZWZpbmVkO1xuICB9XG4gIFRva2VuaXplci5wcm90b3R5cGUudG9rZW5pemUgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICB0aGlzLnRva2VucyA9IFtdO1xuICAgIHRoaXMudG9rZW5pemVyLnRva2VuaXplKGlucHV0KTtcbiAgICByZXR1cm4gdGhpcy50b2tlbnM7XG4gIH07XG4gIFRva2VuaXplci5wcm90b3R5cGUudG9rZW5pemVQYXJ0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgdGhpcy50b2tlbnMgPSBbXTtcbiAgICB0aGlzLnRva2VuaXplci50b2tlbml6ZVBhcnQoaW5wdXQpO1xuICAgIHJldHVybiB0aGlzLnRva2VucztcbiAgfTtcbiAgVG9rZW5pemVyLnByb3RvdHlwZS50b2tlbml6ZUVPRiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRva2VucyA9IFtdO1xuICAgIHRoaXMudG9rZW5pemVyLnRva2VuaXplRU9GKCk7XG4gICAgcmV0dXJuIHRoaXMudG9rZW5zWzBdO1xuICB9O1xuICBUb2tlbml6ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudG9rZW4gPSBudWxsO1xuICAgIHRoaXMuc3RhcnRMaW5lID0gMTtcbiAgICB0aGlzLnN0YXJ0Q29sdW1uID0gMDtcbiAgfTtcbiAgVG9rZW5pemVyLnByb3RvdHlwZS5jdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW47XG4gICAgaWYgKHRva2VuID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Rva2VuIHdhcyB1bmV4cGVjdGVkbHkgbnVsbCcpO1xuICAgIH1cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRva2VuLnR5cGUgPT09IGFyZ3VtZW50c1tpXSkge1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcInRva2VuIHR5cGUgd2FzIHVuZXhwZWN0ZWRseSBcIiArIHRva2VuLnR5cGUpO1xuICB9O1xuICBUb2tlbml6ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgdGhpcy50b2tlbnMucHVzaCh0b2tlbik7XG4gIH07XG4gIFRva2VuaXplci5wcm90b3R5cGUuY3VycmVudEF0dHJpYnV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEF0dHJpYnV0ZTtcbiAgfTtcbiAgVG9rZW5pemVyLnByb3RvdHlwZS5hZGRMb2NJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubG9jKSB7XG4gICAgICB0aGlzLmN1cnJlbnQoKS5sb2MgPSB7XG4gICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgbGluZTogdGhpcy5zdGFydExpbmUsXG4gICAgICAgICAgY29sdW1uOiB0aGlzLnN0YXJ0Q29sdW1uXG4gICAgICAgIH0sXG4gICAgICAgIGVuZDoge1xuICAgICAgICAgIGxpbmU6IHRoaXMudG9rZW5pemVyLmxpbmUsXG4gICAgICAgICAgY29sdW1uOiB0aGlzLnRva2VuaXplci5jb2x1bW5cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5zdGFydExpbmUgPSB0aGlzLnRva2VuaXplci5saW5lO1xuICAgIHRoaXMuc3RhcnRDb2x1bW4gPSB0aGlzLnRva2VuaXplci5jb2x1bW47XG4gIH07XG4gIC8vIERhdGFcbiAgVG9rZW5pemVyLnByb3RvdHlwZS5iZWdpbkRvY3R5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5wdXNoKHtcbiAgICAgIHR5cGU6IFwiRG9jdHlwZVwiIC8qIERvY3R5cGUgKi8sXG4gICAgICBuYW1lOiAnJ1xuICAgIH0pO1xuICB9O1xuICBUb2tlbml6ZXIucHJvdG90eXBlLmFwcGVuZFRvRG9jdHlwZU5hbWUgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgIHRoaXMuY3VycmVudChcIkRvY3R5cGVcIiAvKiBEb2N0eXBlICovKS5uYW1lICs9IGNoYXI7XG4gIH07XG4gIFRva2VuaXplci5wcm90b3R5cGUuYXBwZW5kVG9Eb2N0eXBlUHVibGljSWRlbnRpZmllciA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgdmFyIGRvY3R5cGUgPSB0aGlzLmN1cnJlbnQoXCJEb2N0eXBlXCIgLyogRG9jdHlwZSAqLyk7XG4gICAgaWYgKGRvY3R5cGUucHVibGljSWRlbnRpZmllciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkb2N0eXBlLnB1YmxpY0lkZW50aWZpZXIgPSBjaGFyO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N0eXBlLnB1YmxpY0lkZW50aWZpZXIgKz0gY2hhcjtcbiAgICB9XG4gIH07XG4gIFRva2VuaXplci5wcm90b3R5cGUuYXBwZW5kVG9Eb2N0eXBlU3lzdGVtSWRlbnRpZmllciA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgdmFyIGRvY3R5cGUgPSB0aGlzLmN1cnJlbnQoXCJEb2N0eXBlXCIgLyogRG9jdHlwZSAqLyk7XG4gICAgaWYgKGRvY3R5cGUuc3lzdGVtSWRlbnRpZmllciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkb2N0eXBlLnN5c3RlbUlkZW50aWZpZXIgPSBjaGFyO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N0eXBlLnN5c3RlbUlkZW50aWZpZXIgKz0gY2hhcjtcbiAgICB9XG4gIH07XG4gIFRva2VuaXplci5wcm90b3R5cGUuZW5kRG9jdHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFkZExvY0luZm8oKTtcbiAgfTtcbiAgVG9rZW5pemVyLnByb3RvdHlwZS5iZWdpbkRhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5wdXNoKHtcbiAgICAgIHR5cGU6IFwiQ2hhcnNcIiAvKiBDaGFycyAqLyxcbiAgICAgIGNoYXJzOiAnJ1xuICAgIH0pO1xuICB9O1xuICBUb2tlbml6ZXIucHJvdG90eXBlLmFwcGVuZFRvRGF0YSA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgdGhpcy5jdXJyZW50KFwiQ2hhcnNcIiAvKiBDaGFycyAqLykuY2hhcnMgKz0gY2hhcjtcbiAgfTtcbiAgVG9rZW5pemVyLnByb3RvdHlwZS5maW5pc2hEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYWRkTG9jSW5mbygpO1xuICB9O1xuICAvLyBDb21tZW50XG4gIFRva2VuaXplci5wcm90b3R5cGUuYmVnaW5Db21tZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucHVzaCh7XG4gICAgICB0eXBlOiBcIkNvbW1lbnRcIiAvKiBDb21tZW50ICovLFxuICAgICAgY2hhcnM6ICcnXG4gICAgfSk7XG4gIH07XG4gIFRva2VuaXplci5wcm90b3R5cGUuYXBwZW5kVG9Db21tZW50RGF0YSA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgdGhpcy5jdXJyZW50KFwiQ29tbWVudFwiIC8qIENvbW1lbnQgKi8pLmNoYXJzICs9IGNoYXI7XG4gIH07XG4gIFRva2VuaXplci5wcm90b3R5cGUuZmluaXNoQ29tbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFkZExvY0luZm8oKTtcbiAgfTtcbiAgLy8gVGFncyAtIGJhc2ljXG4gIFRva2VuaXplci5wcm90b3R5cGUudGFnT3BlbiA9IGZ1bmN0aW9uICgpIHt9O1xuICBUb2tlbml6ZXIucHJvdG90eXBlLmJlZ2luU3RhcnRUYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5wdXNoKHtcbiAgICAgIHR5cGU6IFwiU3RhcnRUYWdcIiAvKiBTdGFydFRhZyAqLyxcbiAgICAgIHRhZ05hbWU6ICcnLFxuICAgICAgYXR0cmlidXRlczogW10sXG4gICAgICBzZWxmQ2xvc2luZzogZmFsc2VcbiAgICB9KTtcbiAgfTtcbiAgVG9rZW5pemVyLnByb3RvdHlwZS5iZWdpbkVuZFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnB1c2goe1xuICAgICAgdHlwZTogXCJFbmRUYWdcIiAvKiBFbmRUYWcgKi8sXG4gICAgICB0YWdOYW1lOiAnJ1xuICAgIH0pO1xuICB9O1xuICBUb2tlbml6ZXIucHJvdG90eXBlLmZpbmlzaFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFkZExvY0luZm8oKTtcbiAgfTtcbiAgVG9rZW5pemVyLnByb3RvdHlwZS5tYXJrVGFnQXNTZWxmQ2xvc2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmN1cnJlbnQoXCJTdGFydFRhZ1wiIC8qIFN0YXJ0VGFnICovKS5zZWxmQ2xvc2luZyA9IHRydWU7XG4gIH07XG4gIC8vIFRhZ3MgLSBuYW1lXG4gIFRva2VuaXplci5wcm90b3R5cGUuYXBwZW5kVG9UYWdOYW1lID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICB0aGlzLmN1cnJlbnQoXCJTdGFydFRhZ1wiIC8qIFN0YXJ0VGFnICovLCBcIkVuZFRhZ1wiIC8qIEVuZFRhZyAqLykudGFnTmFtZSArPSBjaGFyO1xuICB9O1xuICAvLyBUYWdzIC0gYXR0cmlidXRlc1xuICBUb2tlbml6ZXIucHJvdG90eXBlLmJlZ2luQXR0cmlidXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2N1cnJlbnRBdHRyaWJ1dGUgPSBbJycsICcnLCBmYWxzZV07XG4gIH07XG4gIFRva2VuaXplci5wcm90b3R5cGUuYXBwZW5kVG9BdHRyaWJ1dGVOYW1lID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICB0aGlzLmN1cnJlbnRBdHRyaWJ1dGUoKVswXSArPSBjaGFyO1xuICB9O1xuICBUb2tlbml6ZXIucHJvdG90eXBlLmJlZ2luQXR0cmlidXRlVmFsdWUgPSBmdW5jdGlvbiAoaXNRdW90ZWQpIHtcbiAgICB0aGlzLmN1cnJlbnRBdHRyaWJ1dGUoKVsyXSA9IGlzUXVvdGVkO1xuICB9O1xuICBUb2tlbml6ZXIucHJvdG90eXBlLmFwcGVuZFRvQXR0cmlidXRlVmFsdWUgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgIHRoaXMuY3VycmVudEF0dHJpYnV0ZSgpWzFdICs9IGNoYXI7XG4gIH07XG4gIFRva2VuaXplci5wcm90b3R5cGUuZmluaXNoQXR0cmlidXRlVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jdXJyZW50KFwiU3RhcnRUYWdcIiAvKiBTdGFydFRhZyAqLykuYXR0cmlidXRlcy5wdXNoKHRoaXMuX2N1cnJlbnRBdHRyaWJ1dGUpO1xuICB9O1xuICBUb2tlbml6ZXIucHJvdG90eXBlLnJlcG9ydFN5bnRheEVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmN1cnJlbnQoKS5zeW50YXhFcnJvciA9IG1lc3NhZ2U7XG4gIH07XG4gIHJldHVybiBUb2tlbml6ZXI7XG59KCk7XG5mdW5jdGlvbiB0b2tlbml6ZShpbnB1dCwgb3B0aW9ucykge1xuICB2YXIgdG9rZW5pemVyID0gbmV3IFRva2VuaXplcihuZXcgRW50aXR5UGFyc2VyKEhUTUw1TmFtZWRDaGFyUmVmcyksIG9wdGlvbnMpO1xuICByZXR1cm4gdG9rZW5pemVyLnRva2VuaXplKGlucHV0KTtcbn1cblxuY29uc3QgTGlua2lmeVJlc3VsdCA9ICdMaW5raWZ5UmVzdWx0JztcbmNvbnN0IFN0YXJ0VGFnID0gJ1N0YXJ0VGFnJztcbmNvbnN0IEVuZFRhZyA9ICdFbmRUYWcnO1xuY29uc3QgQ2hhcnMgPSAnQ2hhcnMnO1xuY29uc3QgQ29tbWVudCA9ICdDb21tZW50JztcbmNvbnN0IERvY3R5cGUgPSAnRG9jdHlwZSc7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBodG1sIHN0cmluZyB0byBsaW5rXG4gKiBAcGFyYW0ge2ltcG9ydCgnbGlua2lmeWpzJykuT3B0c30gW29wdHNdIGxpbmtpZnkgb3B0aW9uc1xuICogQHJldHVybnMge3N0cmluZ30gcmVzdWx0aW5nIHN0cmluZ1xuICovXG5mdW5jdGlvbiBsaW5raWZ5SHRtbChzdHIsIG9wdHMpIHtcbiAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICAvLyBgdG9rZW5zYCBhbmQgYHRva2VuYCBpbiB0aGlzIHNlY3Rpb24gcmVmZXIgdG8gdG9rZW5zIGdlbmVyYXRlZCBieSB0aGVcbiAgLy8gSFRNTCBwYXJzZXIsIG5vdCBsaW5raWZ5J3MgcGFyc2VyXG4gIGNvbnN0IHRva2VucyA9IHRva2VuaXplKHN0cik7XG4gIGNvbnN0IGxpbmtpZmllZFRva2VucyA9IFtdO1xuICBjb25zdCBsaW5raWZpZWQgPSBbXTtcbiAgY29uc3Qgb3B0aW9ucyA9IG5ldyBPcHRpb25zKG9wdHMsIGRlZmF1bHRSZW5kZXIpO1xuXG4gIC8vIExpbmtpZnkgdGhlIHRva2VucyBnaXZlbiBieSB0aGUgcGFyc2VyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgaWYgKHRva2VuLnR5cGUgPT09IFN0YXJ0VGFnKSB7XG4gICAgICBsaW5raWZpZWRUb2tlbnMucHVzaCh0b2tlbik7XG5cbiAgICAgIC8vIElnbm9yZSBhbGwgdGhlIGNvbnRlbnRzIG9mIGlnbm9yZWQgdGFnc1xuICAgICAgY29uc3QgdGFnTmFtZSA9IHRva2VuLnRhZ05hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgIGNvbnN0IGlzSWdub3JlZCA9IHRhZ05hbWUgPT09ICdBJyB8fCBvcHRpb25zLmlnbm9yZVRhZ3MuaW5kZXhPZih0YWdOYW1lKSA+PSAwO1xuICAgICAgaWYgKCFpc0lnbm9yZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsZXQgcHJlc2tpcExlbiA9IGxpbmtpZmllZFRva2Vucy5sZW5ndGg7XG4gICAgICBza2lwVGFnVG9rZW5zKHRhZ05hbWUsIHRva2VucywgKytpLCBsaW5raWZpZWRUb2tlbnMpO1xuICAgICAgaSArPSBsaW5raWZpZWRUb2tlbnMubGVuZ3RoIC0gcHJlc2tpcExlbiAtIDE7XG4gICAgfSBlbHNlIGlmICh0b2tlbi50eXBlICE9PSBDaGFycykge1xuICAgICAgLy8gU2tpcCB0aGlzIHRva2VuLCBpdCdzIG5vdCBpbXBvcnRhbnRcbiAgICAgIGxpbmtpZmllZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVmFsaWQgdGV4dCB0b2tlbiwgbGlua2lmeSBpdCFcbiAgICAgIGNvbnN0IGxpbmtpZmVkQ2hhcnMgPSBsaW5raWZ5Q2hhcnModG9rZW4uY2hhcnMsIG9wdGlvbnMpO1xuICAgICAgbGlua2lmaWVkVG9rZW5zLnB1c2guYXBwbHkobGlua2lmaWVkVG9rZW5zLCBsaW5raWZlZENoYXJzKTtcbiAgICB9XG4gIH1cblxuICAvLyBDb252ZXJ0IHRoZSB0b2tlbnMgYmFjayBpbnRvIGEgc3RyaW5nXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGlua2lmaWVkVG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9rZW4gPSBsaW5raWZpZWRUb2tlbnNbaV07XG4gICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICBjYXNlIExpbmtpZnlSZXN1bHQ6XG4gICAgICAgIGxpbmtpZmllZC5wdXNoKHRva2VuLnJlbmRlcmVkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXJ0VGFnOlxuICAgICAgICB7XG4gICAgICAgICAgbGV0IGxpbmsgPSAnPCcgKyB0b2tlbi50YWdOYW1lO1xuICAgICAgICAgIGlmICh0b2tlbi5hdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxpbmsgKz0gJyAnICsgYXR0cmlidXRlQXJyYXlUb1N0cmluZ3ModG9rZW4uYXR0cmlidXRlcykuam9pbignICcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodG9rZW4uc2VsZkNsb3NpbmcpIHtcbiAgICAgICAgICAgIGxpbmsgKz0gJyAvJztcbiAgICAgICAgICB9XG4gICAgICAgICAgbGluayArPSAnPic7XG4gICAgICAgICAgbGlua2lmaWVkLnB1c2gobGluayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgRW5kVGFnOlxuICAgICAgICBsaW5raWZpZWQucHVzaChgPC8ke3Rva2VuLnRhZ05hbWV9PmApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ2hhcnM6XG4gICAgICAgIGxpbmtpZmllZC5wdXNoKGVzY2FwZVRleHQodG9rZW4uY2hhcnMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIGxpbmtpZmllZC5wdXNoKGA8IS0tJHtlc2NhcGVUZXh0KHRva2VuLmNoYXJzKX0tLT5gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERvY3R5cGU6XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgZG9jdHlwZSA9IGA8IURPQ1RZUEUgJHt0b2tlbi5uYW1lfWA7XG4gICAgICAgICAgaWYgKHRva2VuLnB1YmxpY0lkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGRvY3R5cGUgKz0gYCBQVUJMSUMgXCIke3Rva2VuLnB1YmxpY0lkZW50aWZpZXJ9XCJgO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodG9rZW4uc3lzdGVtSWRlbnRpZmllcikge1xuICAgICAgICAgICAgZG9jdHlwZSArPSBgIFwiJHt0b2tlbi5zeXN0ZW1JZGVudGlmaWVyfVwiYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZG9jdHlwZSArPSAnPic7XG4gICAgICAgICAgbGlua2lmaWVkLnB1c2goZG9jdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpbmtpZmllZC5qb2luKCcnKTtcbn1cblxuLyoqXG5cdGB0b2tlbnNgIGFuZCBgdG9rZW5gIGluIHRoaXMgc2VjdGlvbiByZWZlcmVzIHRvIHRva2VucyByZXR1cm5lZCBieVxuXHRgbGlua2lmeS50b2tlbml6ZWAuIGBsaW5raWZpZWRgIHdpbGwgY29udGFpbiBIVE1MIFBhcnNlci1zdHlsZSB0b2tlbnNcblx0QHBhcmFtIHtzdHJpbmd9XG5cdEBwYXJhbSB7aW1wb3J0KCdsaW5raWZ5anMnKS5PcHRpb25zfVxuKi9cbmZ1bmN0aW9uIGxpbmtpZnlDaGFycyhzdHIsIG9wdGlvbnMpIHtcbiAgY29uc3QgdG9rZW5zID0gdG9rZW5pemUkMShzdHIpO1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICBpZiAodG9rZW4udCA9PT0gJ25sJyAmJiBvcHRpb25zLmdldCgnbmwyYnInKSkge1xuICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICB0eXBlOiBTdGFydFRhZyxcbiAgICAgICAgdGFnTmFtZTogJ2JyJyxcbiAgICAgICAgYXR0cmlidXRlczogW10sXG4gICAgICAgIHNlbGZDbG9zaW5nOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCF0b2tlbi5pc0xpbmsgfHwgIW9wdGlvbnMuY2hlY2sodG9rZW4pKSB7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHR5cGU6IENoYXJzLFxuICAgICAgICBjaGFyczogdG9rZW4udG9TdHJpbmcoKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgdHlwZTogTGlua2lmeVJlc3VsdCxcbiAgICAgICAgcmVuZGVyZWQ6IG9wdGlvbnMucmVuZGVyKHRva2VuKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuXHRSZXR1cm5zIGEgbGlzdCBvZiB0b2tlbnMgc2tpcHBlZCB1bnRpbCB0aGUgY2xvc2luZyB0YWcgb2YgdGFnTmFtZS5cblxuXHQqIGB0YWdOYW1lYCBpcyB0aGUgY2xvc2luZyB0YWcgd2hpY2ggd2lsbCBwcm9tcHQgdXMgdG8gc3RvcCBza2lwcGluZ1xuXHQqIGB0b2tlbnNgIGlzIHRoZSBhcnJheSBvZiB0b2tlbnMgZ2VuZXJhdGVkIGJ5IEhUTUw1VG9rZW5pemVyIHdoaWNoXG5cdCogYGlgIGlzIHRoZSBpbmRleCBpbW1lZGlhdGVseSBhZnRlciB0aGUgb3BlbmluZyB0YWcgdG8gc2tpcFxuXHQqIGBza2lwcGVkVG9rZW5zYCBpcyBhbiBhcnJheSB3aGljaCBza2lwcGVkIHRva2VucyBhcmUgYmVpbmcgcHVzaGVkIGludG9cblxuXHRDYXZlYXRzXG5cblx0KiBBc3N1bWVzIHRoYXQgaSBpcyB0aGUgZmlyc3QgdG9rZW4gYWZ0ZXIgdGhlIGdpdmVuIG9wZW5pbmcgdGFnTmFtZVxuXHQqIFRoZSBjbG9zaW5nIHRhZyB3aWxsIGJlIHNraXBwZWQsIGJ1dCBub3RoaW5nIGFmdGVyIGl0XG5cdCogV2lsbCB0cmFjayB3aGV0aGVyIHRoZXJlIGlzIGEgbmVzdGVkIHRhZyBvZiB0aGUgc2FtZSB0eXBlXG4qL1xuZnVuY3Rpb24gc2tpcFRhZ1Rva2Vucyh0YWdOYW1lLCB0b2tlbnMsIGksIHNraXBwZWRUb2tlbnMpIHtcbiAgLy8gbnVtYmVyIG9mIHRva2VucyBvZiB0aGlzIHR5cGUgb24gdGhlIFtmaWN0aW9uYWxdIHN0YWNrXG4gIGxldCBzdGFja0NvdW50ID0gMTtcbiAgd2hpbGUgKGkgPCB0b2tlbnMubGVuZ3RoICYmIHN0YWNrQ291bnQgPiAwKSB7XG4gICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgIGlmICh0b2tlbi50eXBlID09PSBTdGFydFRhZyAmJiB0b2tlbi50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09IHRhZ05hbWUpIHtcbiAgICAgIC8vIE5lc3RlZCB0YWcgb2YgdGhlIHNhbWUgdHlwZSwgXCJhZGQgdG8gc3RhY2tcIlxuICAgICAgc3RhY2tDb3VudCsrO1xuICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PT0gRW5kVGFnICYmIHRva2VuLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gdGFnTmFtZSkge1xuICAgICAgLy8gQ2xvc2luZyB0YWdcbiAgICAgIHN0YWNrQ291bnQtLTtcbiAgICB9XG4gICAgc2tpcHBlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICBpKys7XG4gIH1cblxuICAvLyBOb3RlIHRoYXQgaWYgc3RhY2tDb3VudCA+IDAgaGVyZSwgdGhlIEhUTUwgaXMgcHJvYmFibHkgaW52YWxpZFxuICByZXR1cm4gc2tpcHBlZFRva2Vucztcbn1cbmZ1bmN0aW9uIGRlZmF1bHRSZW5kZXIoX3JlZikge1xuICBsZXQge1xuICAgIHRhZ05hbWUsXG4gICAgYXR0cmlidXRlcyxcbiAgICBjb250ZW50XG4gIH0gPSBfcmVmO1xuICByZXR1cm4gYDwke3RhZ05hbWV9ICR7YXR0cmlidXRlc1RvU3RyaW5nKGF0dHJpYnV0ZXMpfT4ke2VzY2FwZVRleHQoY29udGVudCl9PC8ke3RhZ05hbWV9PmA7XG59XG5mdW5jdGlvbiBlc2NhcGVUZXh0KHRleHQpIHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbn1cbmZ1bmN0aW9uIGVzY2FwZUF0dHIoYXR0cikge1xuICByZXR1cm4gYXR0ci5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59XG5mdW5jdGlvbiBhdHRyaWJ1dGVzVG9TdHJpbmcoYXR0cmlidXRlcykge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChjb25zdCBhdHRyIGluIGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCB2YWwgPSBhdHRyaWJ1dGVzW2F0dHJdICsgJyc7XG4gICAgcmVzdWx0LnB1c2goYCR7YXR0cn09XCIke2VzY2FwZUF0dHIodmFsKX1cImApO1xuICB9XG4gIHJldHVybiByZXN1bHQuam9pbignICcpO1xufVxuZnVuY3Rpb24gYXR0cmlidXRlQXJyYXlUb1N0cmluZ3MoYXR0cnMpIHtcbiAgY29uc3QgYXR0clN0cnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IG5hbWUgPSBhdHRyc1tpXVswXTtcbiAgICBjb25zdCB2YWx1ZSA9IGF0dHJzW2ldWzFdICsgJyc7XG4gICAgYXR0clN0cnMucHVzaChgJHtuYW1lfT1cIiR7ZXNjYXBlQXR0cih2YWx1ZSl9XCJgKTtcbiAgfVxuICByZXR1cm4gYXR0clN0cnM7XG59XG5cbmV4cG9ydCB7IGxpbmtpZnlIdG1sIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBsaW5raWZ5SHRtbCBmcm9tIFwibGlua2lmeWpzL2h0bWxcIlxuXG4vKipcbiAqIFJlcGxhY2VzIHBsYWluIHRleHQgbGlua3MgaW4gdGhlIGdpdmVuIHRleHQgYnkgaHRtbCBsaW5rcy4gQWxyZWFkeSBleGlzdGluZyBodG1sIGxpbmtzIGFyZSBub3QgY2hhbmdlZC5cbiAqIEBwYXJhbSBodG1sIFRoZSB0ZXh0IHRvIGJlIGNoZWNrZWQgZm9yIGxpbmtzLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHRleHQgd2l0aCBodG1sIGxpbmtzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXJsaWZ5KGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XG5cdHJldHVybiBsaW5raWZ5SHRtbChodG1sLCB7XG5cdFx0ZGVmYXVsdFByb3RvY29sOiBcImh0dHBzXCIsXG5cdFx0YXR0cmlidXRlczoge1xuXHRcdFx0cmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcblx0XHR9LFxuXHRcdHRhcmdldDogXCJfYmxhbmtcIixcblx0fSlcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7QUFHQSxNQUFNLGNBQWM7QUFFcEIsTUFBTSxlQUFlOzs7Ozs7OztBQVNyQixNQUFNLFNBQVMsQ0FBQyxRQUFRLGVBQWU7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