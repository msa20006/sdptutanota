import { ProgrammingError } from "./ProgrammingError-chunk.js";
import { base64ToUint8Array, uint8ArrayToBase64 } from "./dist2-chunk.js";
import { Request, RequestError, Response } from "./MessageDispatcher-chunk.js";

//#region src/common/native/common/NativeLineProtocol.ts
function encodeNativeMessage(message) {
	let encodedMessage = [];
	encodedMessage.push(message.type);
	encodedMessage.push(message.id);
	switch (message.type) {
		case "request":
			encodedMessage.push(message.requestType);
			if (message.args.length === 0) encodedMessage.push("");
			for (const arg of message.args) encodedMessage.push(encodeValueForNative(arg));
			break;
		case "response":
			encodedMessage.push(encodeValueForNative(message.value));
			break;
		case "requestError":
			encodedMessage.push(encodeValueForNative(message.error));
			break;
	}
	return encodedMessage.join("\n");
}
function encodeValueForNative(value) {
	return JSON.stringify(replaceBytesWithWrapper(value));
}
const BYTES_MARKER = "__bytes";
function replaceBytesWithWrapper(value) {
	if (value == null) return null;
else if (value instanceof Uint8Array) return {
		data: uint8ArrayToBase64(value),
		marker: BYTES_MARKER
	};
else if (Array.isArray(value)) return value.map(replaceBytesWithWrapper);
else if (typeof value === "object") {
		const newObject = {};
		for (const [key, field] of Object.entries(value)) newObject[key] = replaceBytesWithWrapper(field);
		return newObject;
	} else return value;
}
function replaceWrapperByBytes(value) {
	if (value == null) return null;
else if (isByteWrapper(value)) return base64ToUint8Array(value.data);
else if (Array.isArray(value)) return value.map(replaceWrapperByBytes);
else if (typeof value === "object") {
		const newObject = {};
		for (const [key, field] of Object.entries(value)) newObject[key] = replaceWrapperByBytes(field);
		return newObject;
	} else return value;
}
function isByteWrapper(value) {
	return value != null && typeof value === "object" && value.marker === BYTES_MARKER && typeof value.data === "string";
}
function decodeNativeMessage(encoded) {
	const [type, messageId, ...rest] = encoded.split("\n");
	let parsedMessage;
	switch (type) {
		case "request": {
			const [requestType, ...args] = rest;
			parsedMessage = new Request(requestType, args.map((s) => decodeValueFromNative(s)));
			parsedMessage.id = messageId;
			break;
		}
		case "response": {
			const [value] = rest;
			parsedMessage = new Response(messageId, decodeValueFromNative(value));
			break;
		}
		case "requestError": {
			const [error] = rest;
			parsedMessage = new RequestError(messageId, decodeValueFromNative(error));
			break;
		}
		default: throw new ProgrammingError(`unknown message type: ${type}`);
	}
	return parsedMessage;
}
function decodeValueFromNative(encoded) {
	return replaceWrapperByBytes(JSON.parse(encoded));
}

//#endregion
export { decodeNativeMessage, decodeValueFromNative, encodeNativeMessage, encodeValueForNative, replaceBytesWithWrapper, replaceWrapperByBytes };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTmF0aXZlTGluZVByb3RvY29sLWNodW5rLmpzIiwibmFtZXMiOlsibWVzc2FnZTogTmF0aXZlTWVzc2FnZSIsImVuY29kZWRNZXNzYWdlOiBBcnJheTxzdHJpbmc+IiwidmFsdWU6IHVua25vd24iLCJuZXdPYmplY3Q6IFJlY29yZDxzdHJpbmcsIGFueT4iLCJlbmNvZGVkOiBzdHJpbmciLCJwYXJzZWRNZXNzYWdlOiBNZXNzYWdlPGFueT4iXSwic291cmNlcyI6WyIuLi9zcmMvY29tbW9uL25hdGl2ZS9jb21tb24vTmF0aXZlTGluZVByb3RvY29sLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogdGhpcyBmaWxlIGNvbnRhaW5zIHRoZSB0eXBlc2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBsaW5lIHByb3RvY29sXG4gKiBmb3IgSVBDIHVzZWQgYnkgdGhlIG1vYmlsZSBhcHBzIHRoYXQgY2FuJ3QgdXNlIHRoZSBzdHJ1Y3R1cmVkIGNsb25lXG4gKiBhbGdvcml0aG0uXG4gKlxuICogdG8gcHJldmVudCB1cyBmcm9tIHBhcnNpbmcgdGhlIG1lc3NhZ2VzIHR3aWNlIC0tIG9uY2UgYXMgYSBkaWN0IHRvIGZpbmRcbiAqIG91dCB0aGUgdHlwZSBhbmQgbWV0aG9kLCBhIHNlY29uZCB0aW1lIHRvIHBhcnNlIHRoZSBhcmd1bWVudHMgaW50b1xuICogdGhlaXIgYWN0dWFsIHR5cGVzIC0tIHdlIHVzZSBhIGxpbmUtYmFzZWQgcHJvdG9jb2wuIEl0IHN1cHBvcnRzXG4gKiByZXF1ZXN0cyB3aXRoIGFyYml0cmFyeSBhcmd1bWVudHMsIHJlc3BvbnNlcyB3aXRoIGEgcmV0dXJuIHZhbHVlXG4gKiBhbmQgcmVxdWVzdCBlcnJvcnMgd2l0aCBhbiBhdHRhY2hlZCBlcnJvciBvYmplY3QgYW5kIHdvcmtzIGFzXG4gKiBmb2xsb3dzOlxuICpcbiAqIFx0bGluZVx0XHR0eXBlXHRcdGNvbnRlbnRcdFx0XHRcdG5vdGVcbiAqICBbMV0gXHRcdGFsbFx0XHRcdDx0eXBlPiBcdFx0XHRcdFwicmVxdWVzdFwiLCBcInJlc3BvbnNlXCIgb3IgXCJyZXNwb25zZUVycm9yXCJcbiAqICBbMl1cdFx0XHRhbGxcdFx0XHQ8cmVxdWVzdElkPlx0XHRcdGEgc3RyaW5nIGxpa2UgXCJtYWluMTIzXCIsIHJlc3BvbnNlcyBhbmQgZXJyb3JzIGNpdGUgdGhlIG9yaWdpbmFsIHJlcXVlc3RJZFxuICogIFszXVx0XHRcdHJlcXVlc3RcdFx0PG1ldGhvZD5cdFx0XHRhIHN0cmluZyBtZXRob2QgbmFtZSB0byBpbnZva2VcbiAqICBbM11cdFx0XHRyZXNwb25zZVx0PHJldHVybj5cdFx0XHRqc29uLWVuY29kZWQgcmV0dXJuIHZhbHVlXG4gKiAgWzNdXHRcdFx0ZXJyb3JcdFx0PGVycm9yPlx0XHRcdFx0anNvbi1lbmNvZGVkIGVycm9yIG9iamVjdFxuICogIFs0XVx0XHRcdHJlcXVlc3RcdFx0PGFyZzA+XHRcdFx0XHRqc29uLWVuY29kZWQgZmlyc3QgYXJndW1lbnRcbiAqICAuLi5cbiAqICBbbl0gXHRcdHJlcXVlc3RcdFx0PGFyZ3g+XHRcdFx0XHRqc29uLWVuY29kZWQgbGFzdCBhcmd1bWVudFxuICovXG5pbXBvcnQgeyBNZXNzYWdlLCBSZXF1ZXN0LCBSZXF1ZXN0RXJyb3IsIFJlc3BvbnNlIH0gZnJvbSBcIi4uLy4uL2FwaS9jb21tb24vdGhyZWFkaW5nL01lc3NhZ2VEaXNwYXRjaGVyLmpzXCJcbmltcG9ydCB7IFByb2dyYW1taW5nRXJyb3IgfSBmcm9tIFwiLi4vLi4vYXBpL2NvbW1vbi9lcnJvci9Qcm9ncmFtbWluZ0Vycm9yLmpzXCJcbmltcG9ydCB7IGJhc2U2NFRvVWludDhBcnJheSwgdWludDhBcnJheVRvQmFzZTY0IH0gZnJvbSBcIkB0dXRhby90dXRhbm90YS11dGlsc1wiXG5cbmV4cG9ydCB0eXBlIE5hdGl2ZU1lc3NhZ2UgPSBNZXNzYWdlPE5hdGl2ZVJlcXVlc3RUeXBlPlxuZXhwb3J0IHR5cGUgSnNNZXNzYWdlID0gTWVzc2FnZTxKc1JlcXVlc3RUeXBlPlxuZXhwb3J0IHR5cGUgSnNNZXNzYWdlSGFuZGxlciA9IChtZXNzYWdlOiBKc01lc3NhZ2UpID0+IHVua25vd25cblxuLyoqXG4gKiBzZXJpYWxpemUgYSBuYXRpdmUgbWVzc2FnZSB0byB0aGUgbGluZSBwcm90b2NvbCB1c2VkIGluIHRoZSBhcHBzXG4gKiBAcGFyYW0gbWVzc2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlTmF0aXZlTWVzc2FnZShtZXNzYWdlOiBOYXRpdmVNZXNzYWdlKTogc3RyaW5nIHtcblx0bGV0IGVuY29kZWRNZXNzYWdlOiBBcnJheTxzdHJpbmc+ID0gW11cblx0ZW5jb2RlZE1lc3NhZ2UucHVzaChtZXNzYWdlLnR5cGUpXG5cdGVuY29kZWRNZXNzYWdlLnB1c2gobWVzc2FnZS5pZCEpXG5cdHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG5cdFx0Y2FzZSBcInJlcXVlc3RcIjpcblx0XHRcdGVuY29kZWRNZXNzYWdlLnB1c2gobWVzc2FnZS5yZXF1ZXN0VHlwZSlcblx0XHRcdGlmIChtZXNzYWdlLmFyZ3MubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGVuY29kZWRNZXNzYWdlLnB1c2goXCJcIilcblx0XHRcdH1cblx0XHRcdGZvciAoY29uc3QgYXJnIG9mIG1lc3NhZ2UuYXJncykge1xuXHRcdFx0XHRlbmNvZGVkTWVzc2FnZS5wdXNoKGVuY29kZVZhbHVlRm9yTmF0aXZlKGFyZykpXG5cdFx0XHR9XG5cdFx0XHRicmVha1xuXHRcdGNhc2UgXCJyZXNwb25zZVwiOlxuXHRcdFx0ZW5jb2RlZE1lc3NhZ2UucHVzaChlbmNvZGVWYWx1ZUZvck5hdGl2ZShtZXNzYWdlLnZhbHVlKSlcblx0XHRcdGJyZWFrXG5cdFx0Y2FzZSBcInJlcXVlc3RFcnJvclwiOlxuXHRcdFx0ZW5jb2RlZE1lc3NhZ2UucHVzaChlbmNvZGVWYWx1ZUZvck5hdGl2ZShtZXNzYWdlLmVycm9yKSlcblx0XHRcdGJyZWFrXG5cdH1cblx0cmV0dXJuIGVuY29kZWRNZXNzYWdlLmpvaW4oXCJcXG5cIilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVZhbHVlRm9yTmF0aXZlKHZhbHVlOiB1bmtub3duKTogc3RyaW5nIHtcblx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlcGxhY2VCeXRlc1dpdGhXcmFwcGVyKHZhbHVlKSlcbn1cblxuY29uc3QgQllURVNfTUFSS0VSID0gXCJfX2J5dGVzXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VCeXRlc1dpdGhXcmFwcGVyKHZhbHVlOiB1bmtub3duKTogdW5rbm93biB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0cmV0dXJuIG51bGxcblx0fSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcblx0XHRyZXR1cm4geyBkYXRhOiB1aW50OEFycmF5VG9CYXNlNjQodmFsdWUpLCBtYXJrZXI6IEJZVEVTX01BUktFUiB9XG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRyZXR1cm4gdmFsdWUubWFwKHJlcGxhY2VCeXRlc1dpdGhXcmFwcGVyKVxuXHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuXHRcdGNvbnN0IG5ld09iamVjdDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9XG5cdFx0Zm9yIChjb25zdCBba2V5LCBmaWVsZF0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKSB7XG5cdFx0XHRuZXdPYmplY3Rba2V5XSA9IHJlcGxhY2VCeXRlc1dpdGhXcmFwcGVyKGZpZWxkKVxuXHRcdH1cblx0XHRyZXR1cm4gbmV3T2JqZWN0XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHZhbHVlXG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VXcmFwcGVyQnlCeXRlcyh2YWx1ZTogdW5rbm93bik6IHVua25vd24ge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdHJldHVybiBudWxsXG5cdH0gZWxzZSBpZiAoaXNCeXRlV3JhcHBlcih2YWx1ZSkpIHtcblx0XHRyZXR1cm4gYmFzZTY0VG9VaW50OEFycmF5KHZhbHVlLmRhdGEpXG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRyZXR1cm4gdmFsdWUubWFwKHJlcGxhY2VXcmFwcGVyQnlCeXRlcylcblx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcblx0XHRjb25zdCBuZXdPYmplY3Q6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fVxuXHRcdGZvciAoY29uc3QgW2tleSwgZmllbGRdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuXHRcdFx0bmV3T2JqZWN0W2tleV0gPSByZXBsYWNlV3JhcHBlckJ5Qnl0ZXMoZmllbGQpXG5cdFx0fVxuXHRcdHJldHVybiBuZXdPYmplY3Rcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gdmFsdWVcblx0fVxufVxuXG5mdW5jdGlvbiBpc0J5dGVXcmFwcGVyKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgeyBtYXJrZXI6IHR5cGVvZiBCWVRFU19NQVJLRVI7IGRhdGE6IHN0cmluZyB9IHtcblx0cmV0dXJuIChcblx0XHR2YWx1ZSAhPSBudWxsICYmXG5cdFx0dHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG5cdFx0KHZhbHVlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5tYXJrZXIgPT09IEJZVEVTX01BUktFUiAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLmRhdGEgPT09IFwic3RyaW5nXCJcblx0KVxufVxuXG4vKipcbiAqIGRlY29kZSBhIHN0cmluZyByZWNlaXZlZCBvdmVyIHRoZSBuYXRpdmUgYnJpZGdlIGluIHRoZSBhcHBzIGludG8gYSBuYXRpdmUgbWVzc2FnZSBvYmplY3RcbiAqIEBwYXJhbSBlbmNvZGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVOYXRpdmVNZXNzYWdlKGVuY29kZWQ6IHN0cmluZyk6IEpzTWVzc2FnZSB7XG5cdGNvbnN0IFt0eXBlLCBtZXNzYWdlSWQsIC4uLnJlc3RdID0gZW5jb2RlZC5zcGxpdChcIlxcblwiKVxuXHRsZXQgcGFyc2VkTWVzc2FnZTogTWVzc2FnZTxhbnk+XG5cdHN3aXRjaCAodHlwZSkge1xuXHRcdGNhc2UgXCJyZXF1ZXN0XCI6IHtcblx0XHRcdGNvbnN0IFtyZXF1ZXN0VHlwZSwgLi4uYXJnc10gPSByZXN0XG5cdFx0XHRwYXJzZWRNZXNzYWdlID0gbmV3IFJlcXVlc3QoXG5cdFx0XHRcdHJlcXVlc3RUeXBlLFxuXHRcdFx0XHRhcmdzLm1hcCgocykgPT4gZGVjb2RlVmFsdWVGcm9tTmF0aXZlKHMpKSxcblx0XHRcdClcblx0XHRcdHBhcnNlZE1lc3NhZ2UuaWQgPSBtZXNzYWdlSWRcblx0XHRcdGJyZWFrXG5cdFx0fVxuXHRcdGNhc2UgXCJyZXNwb25zZVwiOiB7XG5cdFx0XHRjb25zdCBbdmFsdWVdID0gcmVzdFxuXHRcdFx0cGFyc2VkTWVzc2FnZSA9IG5ldyBSZXNwb25zZShtZXNzYWdlSWQsIGRlY29kZVZhbHVlRnJvbU5hdGl2ZSh2YWx1ZSkpXG5cdFx0XHRicmVha1xuXHRcdH1cblx0XHRjYXNlIFwicmVxdWVzdEVycm9yXCI6IHtcblx0XHRcdGNvbnN0IFtlcnJvcl0gPSByZXN0XG5cdFx0XHRwYXJzZWRNZXNzYWdlID0gbmV3IFJlcXVlc3RFcnJvcihtZXNzYWdlSWQsIGRlY29kZVZhbHVlRnJvbU5hdGl2ZShlcnJvcikgYXMgRXJyb3IpXG5cdFx0XHRicmVha1xuXHRcdH1cblx0XHRkZWZhdWx0OlxuXHRcdFx0dGhyb3cgbmV3IFByb2dyYW1taW5nRXJyb3IoYHVua25vd24gbWVzc2FnZSB0eXBlOiAke3R5cGV9YClcblx0fVxuXHRyZXR1cm4gcGFyc2VkTWVzc2FnZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVmFsdWVGcm9tTmF0aXZlKGVuY29kZWQ6IHN0cmluZyk6IHVua25vd24ge1xuXHRyZXR1cm4gcmVwbGFjZVdyYXBwZXJCeUJ5dGVzKEpTT04ucGFyc2UoZW5jb2Rl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