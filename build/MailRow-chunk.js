import { companyTeamLabel } from "./ClientDetector-chunk.js";
import { mithril_default } from "./mithril-chunk.js";
import { NBSP, noOp } from "./dist2-chunk.js";
import { isColorLight, theme } from "./theme-chunk.js";
import { MailSetKind, MailState, ReplyType, getMailFolderType } from "./TutanotaConstants-chunk.js";
import { px, size } from "./size-chunk.js";
import { colorForBg, pureComponent } from "./Dialog-chunk.js";
import { formatTimeOrDateOrYesterday } from "./Formatter-chunk.js";
import { SelectableRowContainer, checkboxOpacity, scaleXHide, scaleXShow, selectableRowAnimParams, setVisibility, shouldAlwaysShowMultiselectCheckbox } from "./SelectableRowContainer-chunk.js";
import { mailLocator } from "./mailLocator-chunk.js";
import { getConfidentialFontIcon, isTutanotaTeamMail } from "./MailGuiUtils-chunk.js";
import { FontIcons } from "./FontIcons-chunk.js";
import { getSenderOrRecipientHeading } from "./MailViewerViewModel-chunk.js";
import { Badge } from "./Badge-chunk.js";

//#region src/common/gui/base/Label.ts
const supportsRelativeHslColors = CSS.supports("color", `hsl(from #ccc h calc(min(50, s)) l)`);
function getLabelColor(backgroundColor) {
	const labelColor = backgroundColor ?? theme.content_accent;
	const isDarkTheme = !isColorLight(theme.content_bg);
	return isDarkTheme ? limitedSaturationColor(labelColor) : labelColor;
}
function limitedSaturationColor(color) {
	return supportsRelativeHslColors ? `hsl(from ${color} h calc(min(50, s)) l)` : `hsl(from ${color} h calc(min(50%, s)) l)`;
}
const Label = pureComponent(function Label$1({ text, color }) {
	const labelColor = getLabelColor(color);
	return mithril_default("span.small.text-center.text-ellipsis.border-radius-m", { style: {
		backgroundColor: labelColor,
		color: colorForBg(color ?? theme.content_accent),
		padding: `1px ${size.vpad_xsm}px`
	} }, text);
});

//#endregion
//#region src/mail-app/mail/view/MailRow.ts
const iconMap = {
	[MailSetKind.CUSTOM]: FontIcons.Folder,
	[MailSetKind.INBOX]: FontIcons.Inbox,
	[MailSetKind.SENT]: FontIcons.Sent,
	[MailSetKind.TRASH]: FontIcons.Trash,
	[MailSetKind.ARCHIVE]: FontIcons.Archive,
	[MailSetKind.SPAM]: FontIcons.Spam,
	[MailSetKind.DRAFT]: FontIcons.Draft,
	[MailSetKind.ALL]: FontIcons.Folder,
	[MailSetKind.LABEL]: FontIcons.Folder,
	[MailSetKind.Imported]: FontIcons.Folder
};
const MAIL_ROW_V_MARGIN = 3;
const shiftByForCheckbox = px(10);
const translateXHide = "translateX(0)";
const translateXShow = `translateX(${shiftByForCheckbox})`;
const ELLIPSIS = "â€¦";
const MAX_DISPLAYED_LABELS = 6;
var MailRow = class {
	top;
	domElement = null;
	entity = null;
	subjectDom;
	senderDom;
	dateDom;
	iconsDom;
	unreadDom;
	teamLabelDom;
	labelsDom = [];
	moreLabelsIndicatorDom;
	checkboxDom;
	checkboxWasVisible = shouldAlwaysShowMultiselectCheckbox();
	selectionSetter;
	constructor(showFolderIcon, getLabelsForMail, onSelected) {
		this.showFolderIcon = showFolderIcon;
		this.getLabelsForMail = getLabelsForMail;
		this.onSelected = onSelected;
		this.top = 0;
		this.entity = null;
	}
	update(mail, selected, isInMultiSelect) {
		this.entity = mail;
		this.selectionSetter(selected, isInMultiSelect);
		this.checkboxDom.checked = isInMultiSelect && selected;
		this.iconsDom.textContent = this.iconsText(mail);
		this.dateDom.textContent = formatTimeOrDateOrYesterday(mail.receivedDate);
		this.senderDom.textContent = getSenderOrRecipientHeading(mail, true);
		this.subjectDom.textContent = mail.subject || NBSP;
		if (mail.unread) {
			this.unreadDom.classList.remove("hidden");
			this.subjectDom.classList.add("b");
			this.senderDom.classList.add("b");
		} else {
			this.unreadDom.classList.add("hidden");
			this.subjectDom.classList.remove("b");
			this.senderDom.classList.remove("b");
		}
		this.updateLabels(mail);
		setVisibility(this.teamLabelDom, isTutanotaTeamMail(mail));
		this.showCheckboxAnimated(shouldAlwaysShowMultiselectCheckbox() || isInMultiSelect);
		checkboxOpacity(this.checkboxDom, selected);
	}
	updateLabels(mail) {
		const labels = this.getLabelsForMail(mail);
		for (const [i, element] of this.labelsDom.entries()) {
			const label = labels[i];
			if (label) {
				element.style.display = "";
				element.style.backgroundColor = getLabelColor(label.color);
				element.style.color = colorForBg(label.color ?? theme.content_accent);
				element.textContent = label.name;
			} else element.style.display = "none";
		}
		this.moreLabelsIndicatorDom.style.display = labels.length > this.labelsDom.length ? "" : "none";
	}
	showCheckboxAnimated(show) {
		const shouldShowCheckbox = show;
		if (this.checkboxWasVisible === shouldShowCheckbox) return;
		if (shouldShowCheckbox) {
			this.senderDom.style.paddingRight = shiftByForCheckbox;
			this.subjectDom.style.paddingRight = shiftByForCheckbox;
			const showTranslateTransform = { transform: [translateXHide, translateXShow] };
			const senderAnim = this.senderDom.animate(showTranslateTransform, selectableRowAnimParams);
			const subjectAnim = this.subjectDom.animate(showTranslateTransform, selectableRowAnimParams);
			const badgeAnim = this.teamLabelDom.animate(showTranslateTransform, selectableRowAnimParams);
			const checkboxAnim = this.checkboxDom.animate({ transform: [scaleXHide, scaleXShow] }, selectableRowAnimParams);
			Promise.all([
				senderAnim.finished,
				subjectAnim.finished,
				checkboxAnim.finished
			]).then(() => {
				this.showCheckbox(true);
				senderAnim.cancel();
				subjectAnim.cancel();
				badgeAnim.cancel();
				checkboxAnim.cancel();
			}, noOp);
		} else {
			this.senderDom.style.paddingRight = "0";
			this.subjectDom.style.paddingRight = "0";
			const hideTranslateTransform = { transform: [translateXShow, translateXHide] };
			const senderAnim = this.senderDom.animate(hideTranslateTransform, selectableRowAnimParams);
			const subjectAnim = this.subjectDom.animate(hideTranslateTransform, selectableRowAnimParams);
			const badgeAnim = this.teamLabelDom.animate(hideTranslateTransform, selectableRowAnimParams);
			const checkboxAnim = this.checkboxDom.animate({ transform: [scaleXShow, scaleXHide] }, selectableRowAnimParams);
			Promise.all([
				senderAnim.finished,
				subjectAnim.finished,
				checkboxAnim.finished
			]).then(() => {
				this.showCheckbox(false);
				senderAnim.cancel();
				subjectAnim.cancel();
				badgeAnim.cancel();
				checkboxAnim.cancel();
			}, noOp);
		}
		this.checkboxWasVisible = shouldShowCheckbox;
	}
	showCheckbox(show) {
		let translate;
		let scale;
		let padding;
		if (show) {
			translate = translateXShow;
			scale = scaleXShow;
			padding = shiftByForCheckbox;
		} else {
			translate = translateXHide;
			scale = scaleXHide;
			padding = "0";
		}
		this.senderDom.style.transform = translate;
		this.subjectDom.style.transform = translate;
		this.teamLabelDom.style.transform = translate;
		this.checkboxDom.style.transform = scale;
		this.senderDom.style.paddingRight = padding;
		this.subjectDom.style.paddingRight = padding;
		this.checkboxDom.disabled = !show;
		this.checkboxDom.tabIndex = show ? 0 : -1;
	}
	/**
	* Only the structure is managed by mithril. We set all contents on our own (see update) in order to avoid the vdom overhead (not negligible on mobiles)
	*/
	render() {
		return mithril_default(SelectableRowContainer, {
			onSelectedChangeRef: (changer) => {
				this.selectionSetter = changer;
			},
			oncreate: (vnode) => {
				this.domElement = vnode.dom;
				Promise.resolve().then(() => this.showCheckbox(shouldAlwaysShowMultiselectCheckbox()));
			}
		}, [mithril_default(".flex.col.items-center.flex-no-grow.no-shrink.pt-xs.abs", mithril_default("input.checkbox.list-checkbox", {
			type: "checkbox",
			style: {
				marginBottom: "7px",
				transformOrigin: "left"
			},
			onclick: (e) => {
				e.stopPropagation();
			},
			onchange: () => {
				if (this.entity) this.onSelected(this.entity, this.checkboxDom.checked);
			},
			oncreate: (vnode) => {
				this.checkboxDom = vnode.dom;
				checkboxOpacity(this.checkboxDom, false);
			}
		}), mithril_default(".dot.bg-accent-fg.hidden", {
			style: { marginTop: px(MAIL_ROW_V_MARGIN) },
			oncreate: (vnode) => this.unreadDom = vnode.dom
		})), mithril_default(".flex-grow.min-width-0", { style: { marginLeft: px(size.checkbox_size + size.vpad_xs) } }, [mithril_default(".flex.badge-line-height", [
			mithril_default(Badge, {
				classes: ".small.mr-s",
				oncreate: (vnode) => this.teamLabelDom = vnode.dom
			}, companyTeamLabel),
			mithril_default(".text-ellipsis", { oncreate: (vnode) => this.senderDom = vnode.dom }),
			mithril_default(".flex.flex-grow-shrink-0.justify-end", { style: { minWidth: px(34) } }, this.renderLabels(), this.renderLabelsMoreIndicator()),
			mithril_default("small.text-ellipsis.flex-fixed", { oncreate: (vnode) => this.dateDom = vnode.dom })
		]), mithril_default(".flex.mt-xxs", [
			mithril_default(".smaller.text-ellipsis", { oncreate: (vnode) => this.subjectDom = vnode.dom }),
			mithril_default(".flex-grow"),
			mithril_default("span.ion.ml-s.list-font-icons", { oncreate: (vnode) => this.iconsDom = vnode.dom })
		])])]);
	}
	renderLabelsMoreIndicator() {
		return mithril_default("span.smaller.text-center.text-ellipsis.border-radius-m", {
			style: {
				border: `2px solid ${getLabelColor(theme.content_button)}`,
				color: getLabelColor(theme.content_button),
				padding: `0px ${size.vpad_xsm}px 1px`,
				marginRight: px(size.vpad_xsm),
				minWidth: px(16),
				lineHeight: px(8)
			},
			oncreate: (vnode) => {
				this.moreLabelsIndicatorDom = vnode.dom;
			}
		}, ELLIPSIS);
	}
	renderLabels() {
		return mithril_default(".flex.overflow-hidden", { style: {
			margin: `0 ${size.vpad_xsm}px`,
			columnGap: px(size.vpad_xsm),
			maxWidth: "fit-content"
		} }, Array(MAX_DISPLAYED_LABELS).fill(0).map((_, i) => mithril_default("span.small.text-center.text-ellipsis.border-radius-m", {
			style: {
				padding: `2px ${size.vpad_xsm}px`,
				minWidth: "4ch",
				maxWidth: px(48),
				lineHeight: "100%",
				textOverflow: "'â€¥'"
			},
			oncreate: (vnode) => {
				this.labelsDom[i] = vnode.dom;
			}
		})));
	}
	iconsText(mail) {
		let iconText = "";
		if (this.showFolderIcon) {
			let folder = mailLocator.mailModel.getMailFolderForMail(mail);
			iconText += folder ? this.folderIcon(getMailFolderType(folder)) : "";
		}
		iconText += mail._errors ? FontIcons.Warning : "";
		if (mail.state === MailState.DRAFT) iconText += FontIcons.Edit;
		switch (mail.replyType) {
			case ReplyType.REPLY:
				iconText += FontIcons.Reply;
				break;
			case ReplyType.FORWARD:
				iconText += FontIcons.Forward;
				break;
			case ReplyType.REPLY_FORWARD:
				iconText += FontIcons.Reply;
				iconText += FontIcons.Forward;
				break;
		}
		if (mail.confidential) iconText += getConfidentialFontIcon(mail);
		if (mail.attachments.length > 0) iconText += FontIcons.Attach;
		return iconText;
	}
	folderIcon(type) {
		return iconMap[type];
	}
};

//#endregion
export { Label, MailRow, getLabelColor };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFpbFJvdy1jaHVuay5qcyIsIm5hbWVzIjpbImJhY2tncm91bmRDb2xvcjogc3RyaW5nIHwgbnVsbCIsImNvbG9yOiBzdHJpbmciLCJMYWJlbCIsImljb25NYXA6IFJlY29yZDxNYWlsU2V0S2luZCwgc3RyaW5nPiIsInNob3dGb2xkZXJJY29uOiBib29sZWFuIiwiZ2V0TGFiZWxzRm9yTWFpbDogKG1haWw6IE1haWwpID0+IFJlYWRvbmx5QXJyYXk8TWFpbEZvbGRlcj4iLCJvblNlbGVjdGVkOiAobWFpbDogTWFpbCwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHVua25vd24iLCJtYWlsOiBNYWlsIiwic2VsZWN0ZWQ6IGJvb2xlYW4iLCJpc0luTXVsdGlTZWxlY3Q6IGJvb2xlYW4iLCJzaG93OiBib29sZWFuIiwiZTogTW91c2VFdmVudCIsInR5cGU6IE1haWxTZXRLaW5kIl0sInNvdXJjZXMiOlsiLi4vc3JjL2NvbW1vbi9ndWkvYmFzZS9MYWJlbC50cyIsIi4uL3NyYy9tYWlsLWFwcC9tYWlsL3ZpZXcvTWFpbFJvdy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwdXJlQ29tcG9uZW50IH0gZnJvbSBcIi4vUHVyZUNvbXBvbmVudC5qc1wiXG5pbXBvcnQgbSBmcm9tIFwibWl0aHJpbFwiXG5pbXBvcnQgeyBjb2xvckZvckJnIH0gZnJvbSBcIi4vR3VpVXRpbHMuanNcIlxuaW1wb3J0IHsgc2l6ZSB9IGZyb20gXCIuLi9zaXplLmpzXCJcbmltcG9ydCB7IHRoZW1lIH0gZnJvbSBcIi4uL3RoZW1lLmpzXCJcbmltcG9ydCB7IGlzQ29sb3JMaWdodCB9IGZyb20gXCIuL0NvbG9yLmpzXCJcblxuY29uc3Qgc3VwcG9ydHNSZWxhdGl2ZUhzbENvbG9ycyA9IENTUy5zdXBwb3J0cyhcImNvbG9yXCIsIGBoc2woZnJvbSAjY2NjIGggY2FsYyhtaW4oNTAsIHMpKSBsKWApXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYWJlbENvbG9yKGJhY2tncm91bmRDb2xvcjogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XG5cdGNvbnN0IGxhYmVsQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3IgPz8gdGhlbWUuY29udGVudF9hY2NlbnRcblx0Y29uc3QgaXNEYXJrVGhlbWUgPSAhaXNDb2xvckxpZ2h0KHRoZW1lLmNvbnRlbnRfYmcpXG5cdC8vIG1ha2UgYSBjb2xvciBoYXZlIHRoZSBzYW1lIGh1ZSBhbmQgbGlnaHRuZXNzIHdpdGggc2F0dXJhdGlvbiBjYXBwZWQgdG8gNTBcblx0cmV0dXJuIGlzRGFya1RoZW1lID8gbGltaXRlZFNhdHVyYXRpb25Db2xvcihsYWJlbENvbG9yKSA6IGxhYmVsQ29sb3Jcbn1cblxuZnVuY3Rpb24gbGltaXRlZFNhdHVyYXRpb25Db2xvcihjb2xvcjogc3RyaW5nKTogc3RyaW5nIHtcblx0Ly8gaU9TIG9ubHkgaW1wbGVtZW50cyByZWxhdGl2ZSBIU0wgY29sb3JzIGZyb20gMTYuNCBvbiBhbmQgb25seSB0aGUgbGVnYWN5IHN5bnRheCAod2l0aCBwZXJjZW50cykgd2hpbGUgRkYgZG9lcyBub3Rcblx0Ly8gcmVjb2duaXplIHRoZSBsZWdhY3kgc3ludGF4IGFueW1vcmUuXG5cdHJldHVybiBzdXBwb3J0c1JlbGF0aXZlSHNsQ29sb3JzID8gYGhzbChmcm9tICR7Y29sb3J9IGggY2FsYyhtaW4oNTAsIHMpKSBsKWAgOiBgaHNsKGZyb20gJHtjb2xvcn0gaCBjYWxjKG1pbig1MCUsIHMpKSBsKWBcbn1cblxuLyoqXG4gKiBEaXNwbGF5cyBhIG1haWwgbGFiZWwgd2l0aCBjb2xvciBhbmQgbmFtZS5cbiAqL1xuZXhwb3J0IGNvbnN0IExhYmVsID0gcHVyZUNvbXBvbmVudChmdW5jdGlvbiBMYWJlbCh7IHRleHQsIGNvbG9yIH06IHsgdGV4dDogc3RyaW5nOyBjb2xvcjogc3RyaW5nIHwgbnVsbCB9KSB7XG5cdGNvbnN0IGxhYmVsQ29sb3IgPSBnZXRMYWJlbENvbG9yKGNvbG9yKVxuXHRyZXR1cm4gbShcblx0XHRcInNwYW4uc21hbGwudGV4dC1jZW50ZXIudGV4dC1lbGxpcHNpcy5ib3JkZXItcmFkaXVzLW1cIixcblx0XHR7XG5cdFx0XHRzdHlsZToge1xuXHRcdFx0XHQvLyBpbiBkYXJrIHRoZW1lIG92ZXJyaWRlIHNhdHVyYXRpb24gdG8gYWlkIHJlYWRhYmlsaXR5LiBUaGlzIGlzIG5vdCByZWxhdGl2ZSBidXQgYWJzb2x1dGUgc2F0dXJhdGlvbi4gV2UgcHJlc2VydmUgdGhlIGh1ZS5cblx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiBsYWJlbENvbG9yLFxuXHRcdFx0XHRjb2xvcjogY29sb3JGb3JCZyhjb2xvciA/PyB0aGVtZS5jb250ZW50X2FjY2VudCksXG5cdFx0XHRcdHBhZGRpbmc6IGAxcHggJHtzaXplLnZwYWRfeHNtfXB4YCxcblx0XHRcdH0sXG5cdFx0fSxcblx0XHR0ZXh0LFxuXHQpXG59KVxuIiwiaW1wb3J0IHsgZ2V0TWFpbEZvbGRlclR5cGUsIE1haWxTZXRLaW5kLCBNYWlsU3RhdGUsIFJlcGx5VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vYXBpL2NvbW1vbi9UdXRhbm90YUNvbnN0YW50c1wiXG5pbXBvcnQgeyBGb250SWNvbnMgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2d1aS9iYXNlL2ljb25zL0ZvbnRJY29uc1wiXG5pbXBvcnQgdHlwZSB7IE1haWwsIE1haWxGb2xkZXIgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2FwaS9lbnRpdGllcy90dXRhbm90YS9UeXBlUmVmcy5qc1wiXG5pbXBvcnQgeyBmb3JtYXRUaW1lT3JEYXRlT3JZZXN0ZXJkYXkgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL21pc2MvRm9ybWF0dGVyLmpzXCJcbmltcG9ydCBtLCB7IENoaWxkcmVuIH0gZnJvbSBcIm1pdGhyaWxcIlxuaW1wb3J0IEJhZGdlIGZyb20gXCIuLi8uLi8uLi9jb21tb24vZ3VpL2Jhc2UvQmFkZ2VcIlxuaW1wb3J0IHtcblx0Y2hlY2tib3hPcGFjaXR5LFxuXHRzY2FsZVhIaWRlLFxuXHRzY2FsZVhTaG93LFxuXHRzZWxlY3RhYmxlUm93QW5pbVBhcmFtcyxcblx0U2VsZWN0YWJsZVJvd0NvbnRhaW5lcixcblx0U2VsZWN0YWJsZVJvd1NlbGVjdGVkU2V0dGVyLFxuXHRzZXRWaXNpYmlsaXR5LFxuXHRzaG91bGRBbHdheXNTaG93TXVsdGlzZWxlY3RDaGVja2JveCxcbn0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9ndWkvU2VsZWN0YWJsZVJvd0NvbnRhaW5lci5qc1wiXG5pbXBvcnQgeyBweCwgc2l6ZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZ3VpL3NpemUuanNcIlxuaW1wb3J0IHsgTkJTUCwgbm9PcCB9IGZyb20gXCJAdHV0YW8vdHV0YW5vdGEtdXRpbHNcIlxuaW1wb3J0IHsgVmlydHVhbFJvdyB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZ3VpL2Jhc2UvTGlzdFV0aWxzLmpzXCJcbmltcG9ydCB7IGNvbXBhbnlUZWFtTGFiZWwgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL21pc2MvQ2xpZW50Q29uc3RhbnRzLmpzXCJcbmltcG9ydCB7IGdldENvbmZpZGVudGlhbEZvbnRJY29uLCBpc1R1dGFub3RhVGVhbU1haWwgfSBmcm9tIFwiLi9NYWlsR3VpVXRpbHMuanNcIlxuaW1wb3J0IHsgbWFpbExvY2F0b3IgfSBmcm9tIFwiLi4vLi4vbWFpbExvY2F0b3IuanNcIlxuaW1wb3J0IHsgZ2V0U2VuZGVyT3JSZWNpcGllbnRIZWFkaW5nIH0gZnJvbSBcIi4vTWFpbFZpZXdlclV0aWxzLmpzXCJcbmltcG9ydCB7IGdldExhYmVsQ29sb3IgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2d1aS9iYXNlL0xhYmVsXCJcbmltcG9ydCB7IGNvbG9yRm9yQmcgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2d1aS9iYXNlL0d1aVV0aWxzXCJcbmltcG9ydCB7IHRoZW1lIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9ndWkvdGhlbWVcIlxuXG5jb25zdCBpY29uTWFwOiBSZWNvcmQ8TWFpbFNldEtpbmQsIHN0cmluZz4gPSB7XG5cdFtNYWlsU2V0S2luZC5DVVNUT01dOiBGb250SWNvbnMuRm9sZGVyLFxuXHRbTWFpbFNldEtpbmQuSU5CT1hdOiBGb250SWNvbnMuSW5ib3gsXG5cdFtNYWlsU2V0S2luZC5TRU5UXTogRm9udEljb25zLlNlbnQsXG5cdFtNYWlsU2V0S2luZC5UUkFTSF06IEZvbnRJY29ucy5UcmFzaCxcblx0W01haWxTZXRLaW5kLkFSQ0hJVkVdOiBGb250SWNvbnMuQXJjaGl2ZSxcblx0W01haWxTZXRLaW5kLlNQQU1dOiBGb250SWNvbnMuU3BhbSxcblx0W01haWxTZXRLaW5kLkRSQUZUXTogRm9udEljb25zLkRyYWZ0LFxuXHRbTWFpbFNldEtpbmQuQUxMXTogRm9udEljb25zLkZvbGRlcixcblx0W01haWxTZXRLaW5kLkxBQkVMXTogRm9udEljb25zLkZvbGRlcixcblx0W01haWxTZXRLaW5kLkltcG9ydGVkXTogRm9udEljb25zLkZvbGRlcixcbn1cblxuZXhwb3J0IGNvbnN0IE1BSUxfUk9XX1ZfTUFSR0lOID0gM1xuXG5jb25zdCBzaGlmdEJ5Rm9yQ2hlY2tib3ggPSBweCgxMClcbmNvbnN0IHRyYW5zbGF0ZVhIaWRlID0gXCJ0cmFuc2xhdGVYKDApXCJcbmNvbnN0IHRyYW5zbGF0ZVhTaG93ID0gYHRyYW5zbGF0ZVgoJHtzaGlmdEJ5Rm9yQ2hlY2tib3h9KWBcblxuY29uc3QgRUxMSVBTSVMgPSBcIlxcdTIwMjZcIlxuXG5jb25zdCBNQVhfRElTUExBWUVEX0xBQkVMUyA9IDZcblxuZXhwb3J0IGNsYXNzIE1haWxSb3cgaW1wbGVtZW50cyBWaXJ0dWFsUm93PE1haWw+IHtcblx0dG9wOiBudW1iZXJcblx0ZG9tRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbFxuXG5cdGVudGl0eTogTWFpbCB8IG51bGwgPSBudWxsXG5cdHByaXZhdGUgc3ViamVjdERvbSE6IEhUTUxFbGVtZW50XG5cdHByaXZhdGUgc2VuZGVyRG9tITogSFRNTEVsZW1lbnRcblx0cHJpdmF0ZSBkYXRlRG9tITogSFRNTEVsZW1lbnRcblx0cHJpdmF0ZSBpY29uc0RvbSE6IEhUTUxFbGVtZW50XG5cdHByaXZhdGUgdW5yZWFkRG9tITogSFRNTEVsZW1lbnRcblx0cHJpdmF0ZSB0ZWFtTGFiZWxEb20hOiBIVE1MRWxlbWVudFxuXHRwcml2YXRlIGxhYmVsc0RvbTogSFRNTEVsZW1lbnRbXSA9IFtdXG5cdHByaXZhdGUgbW9yZUxhYmVsc0luZGljYXRvckRvbSE6IEhUTUxFbGVtZW50XG5cdHByaXZhdGUgY2hlY2tib3hEb20hOiBIVE1MSW5wdXRFbGVtZW50XG5cdHByaXZhdGUgY2hlY2tib3hXYXNWaXNpYmxlID0gc2hvdWxkQWx3YXlzU2hvd011bHRpc2VsZWN0Q2hlY2tib3goKVxuXHRwcml2YXRlIHNlbGVjdGlvblNldHRlciE6IFNlbGVjdGFibGVSb3dTZWxlY3RlZFNldHRlclxuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgc2hvd0ZvbGRlckljb246IGJvb2xlYW4sXG5cdFx0cHJpdmF0ZSByZWFkb25seSBnZXRMYWJlbHNGb3JNYWlsOiAobWFpbDogTWFpbCkgPT4gUmVhZG9ubHlBcnJheTxNYWlsRm9sZGVyPixcblx0XHRwcml2YXRlIHJlYWRvbmx5IG9uU2VsZWN0ZWQ6IChtYWlsOiBNYWlsLCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdW5rbm93bixcblx0KSB7XG5cdFx0dGhpcy50b3AgPSAwXG5cdFx0dGhpcy5lbnRpdHkgPSBudWxsXG5cdH1cblxuXHR1cGRhdGUobWFpbDogTWFpbCwgc2VsZWN0ZWQ6IGJvb2xlYW4sIGlzSW5NdWx0aVNlbGVjdDogYm9vbGVhbik6IHZvaWQge1xuXHRcdHRoaXMuZW50aXR5ID0gbWFpbFxuXG5cdFx0dGhpcy5zZWxlY3Rpb25TZXR0ZXIoc2VsZWN0ZWQsIGlzSW5NdWx0aVNlbGVjdClcblx0XHR0aGlzLmNoZWNrYm94RG9tLmNoZWNrZWQgPSBpc0luTXVsdGlTZWxlY3QgJiYgc2VsZWN0ZWRcblxuXHRcdHRoaXMuaWNvbnNEb20udGV4dENvbnRlbnQgPSB0aGlzLmljb25zVGV4dChtYWlsKVxuXHRcdHRoaXMuZGF0ZURvbS50ZXh0Q29udGVudCA9IGZvcm1hdFRpbWVPckRhdGVPclllc3RlcmRheShtYWlsLnJlY2VpdmVkRGF0ZSlcblx0XHR0aGlzLnNlbmRlckRvbS50ZXh0Q29udGVudCA9IGdldFNlbmRlck9yUmVjaXBpZW50SGVhZGluZyhtYWlsLCB0cnVlKVxuXHRcdHRoaXMuc3ViamVjdERvbS50ZXh0Q29udGVudCA9IG1haWwuc3ViamVjdCB8fCBOQlNQXG5cblx0XHRpZiAobWFpbC51bnJlYWQpIHtcblx0XHRcdHRoaXMudW5yZWFkRG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIilcblxuXHRcdFx0dGhpcy5zdWJqZWN0RG9tLmNsYXNzTGlzdC5hZGQoXCJiXCIpXG5cdFx0XHR0aGlzLnNlbmRlckRvbS5jbGFzc0xpc3QuYWRkKFwiYlwiKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnVucmVhZERvbS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG5cblx0XHRcdHRoaXMuc3ViamVjdERvbS5jbGFzc0xpc3QucmVtb3ZlKFwiYlwiKVxuXHRcdFx0dGhpcy5zZW5kZXJEb20uY2xhc3NMaXN0LnJlbW92ZShcImJcIilcblx0XHR9XG5cdFx0dGhpcy51cGRhdGVMYWJlbHMobWFpbClcblxuXHRcdHNldFZpc2liaWxpdHkodGhpcy50ZWFtTGFiZWxEb20sIGlzVHV0YW5vdGFUZWFtTWFpbChtYWlsKSlcblx0XHR0aGlzLnNob3dDaGVja2JveEFuaW1hdGVkKHNob3VsZEFsd2F5c1Nob3dNdWx0aXNlbGVjdENoZWNrYm94KCkgfHwgaXNJbk11bHRpU2VsZWN0KVxuXG5cdFx0Y2hlY2tib3hPcGFjaXR5KHRoaXMuY2hlY2tib3hEb20sIHNlbGVjdGVkKVxuXHR9XG5cblx0cHJpdmF0ZSB1cGRhdGVMYWJlbHMobWFpbDogTWFpbCkge1xuXHRcdGNvbnN0IGxhYmVscyA9IHRoaXMuZ2V0TGFiZWxzRm9yTWFpbChtYWlsKVxuXG5cdFx0Zm9yIChjb25zdCBbaSwgZWxlbWVudF0gb2YgdGhpcy5sYWJlbHNEb20uZW50cmllcygpKSB7XG5cdFx0XHRjb25zdCBsYWJlbCA9IGxhYmVsc1tpXVxuXHRcdFx0aWYgKGxhYmVsKSB7XG5cdFx0XHRcdGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiXCJcblx0XHRcdFx0ZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBnZXRMYWJlbENvbG9yKGxhYmVsLmNvbG9yKVxuXHRcdFx0XHRlbGVtZW50LnN0eWxlLmNvbG9yID0gY29sb3JGb3JCZyhsYWJlbC5jb2xvciA/PyB0aGVtZS5jb250ZW50X2FjY2VudClcblx0XHRcdFx0ZWxlbWVudC50ZXh0Q29udGVudCA9IGxhYmVsLm5hbWVcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMubW9yZUxhYmVsc0luZGljYXRvckRvbS5zdHlsZS5kaXNwbGF5ID0gbGFiZWxzLmxlbmd0aCA+IHRoaXMubGFiZWxzRG9tLmxlbmd0aCA/IFwiXCIgOiBcIm5vbmVcIlxuXHR9XG5cblx0cHJpdmF0ZSBzaG93Q2hlY2tib3hBbmltYXRlZChzaG93OiBib29sZWFuKSB7XG5cdFx0Ly8gdGhpcyBjYXVzZXMgYSBzbGlkZSBhbmltYXRpb24gd2hlcmUgY2hlY2tib3ggcG9wcyB1cCBhbmQgdGhlIHRleHQgaXMgc2hpZnRlZCB0byBtYWtlIHNwYWNlIGZvciBpdC5cblx0XHQvLyB3ZSBjYW4ndCBhbmltYXRlIHRoZSB3aWR0aCBvZiB0aGUgY2hlY2tib3ggYXMgaXQgY2F1c2VzIHRoZSBsYXlvdXQgc2hpZnRzIGFuZCBpcyB2ZXJ5IHNsb3cgc28gaW5zdGVhZCB3ZSBjaGFuZ2UgdGhlIHBhZGRpbmcgb2YgdGhlIHRleHQgZWxlbWVudHMgaW5cblx0XHQvLyBhIHNpbmdsZSBzdGVwIGFuZCB0aGVuIHNoaWZ0IHRoZW0gaW4gYW4gYW5pbWF0aW9uLiBUaGUgZWZmZWN0IGlzIGFsbW9zdCB0aGUgc2FtZSBhcyBpZiB3ZSB3b3VsZCBleHBhbmQvc2hyaW5rIHRoZSBjaGVja2JveC5cblx0XHQvLyB1c2luZyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSBiZWNhdXNlIHdoZW4gd2UgdG9nZ2xlIGl0IHNvbWUgZWxlbWVudHMgbWlnaHQgbm90IGJlIHRoZXJlIHlldC4gQ291bGQgYWxzbyBmb3IgdGhlIGVuZCBvZiB0aGUgZXZlbnQgbG9vcCB0b28uXG5cdFx0Ly8gdXNpbmcgd2ViIGFuaW1hdGlvbnMgdG8gYmUgYWJsZSB0byBjYW5jZWwgdGhlbSBlYXNpbHkuIENvdWxkIHByb2JhYmx5IHVzZSB0cmFuc2l0aW9uIGFuZCBsaXN0ZW4gZm9yIHRoZSBlbmQgaW5zdGVhZCBidXQgaXQgd291bGQgYmUgaGFyZGVyIHRvXG5cdFx0Ly8gZG8gdGhlIGJvb2trZWVwaW5nLlxuXHRcdC8vIHVzaW5nIG5vT3AgdG8gY2F0Y2ggcmVqZWN0aW9uIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBjYW5jZWxsZWRcblx0XHRjb25zdCBzaG91bGRTaG93Q2hlY2tib3ggPSBzaG93XG5cdFx0aWYgKHRoaXMuY2hlY2tib3hXYXNWaXNpYmxlID09PSBzaG91bGRTaG93Q2hlY2tib3gpIHJldHVyblxuXG5cdFx0aWYgKHNob3VsZFNob3dDaGVja2JveCkge1xuXHRcdFx0dGhpcy5zZW5kZXJEb20uc3R5bGUucGFkZGluZ1JpZ2h0ID0gc2hpZnRCeUZvckNoZWNrYm94XG5cdFx0XHR0aGlzLnN1YmplY3REb20uc3R5bGUucGFkZGluZ1JpZ2h0ID0gc2hpZnRCeUZvckNoZWNrYm94XG5cblx0XHRcdGNvbnN0IHNob3dUcmFuc2xhdGVUcmFuc2Zvcm0gPSB7IHRyYW5zZm9ybTogW3RyYW5zbGF0ZVhIaWRlLCB0cmFuc2xhdGVYU2hvd10gfVxuXHRcdFx0Y29uc3Qgc2VuZGVyQW5pbSA9IHRoaXMuc2VuZGVyRG9tLmFuaW1hdGUoc2hvd1RyYW5zbGF0ZVRyYW5zZm9ybSwgc2VsZWN0YWJsZVJvd0FuaW1QYXJhbXMpXG5cdFx0XHRjb25zdCBzdWJqZWN0QW5pbSA9IHRoaXMuc3ViamVjdERvbS5hbmltYXRlKHNob3dUcmFuc2xhdGVUcmFuc2Zvcm0sIHNlbGVjdGFibGVSb3dBbmltUGFyYW1zKVxuXHRcdFx0Y29uc3QgYmFkZ2VBbmltID0gdGhpcy50ZWFtTGFiZWxEb20uYW5pbWF0ZShzaG93VHJhbnNsYXRlVHJhbnNmb3JtLCBzZWxlY3RhYmxlUm93QW5pbVBhcmFtcylcblx0XHRcdGNvbnN0IGNoZWNrYm94QW5pbSA9IHRoaXMuY2hlY2tib3hEb20uYW5pbWF0ZSh7IHRyYW5zZm9ybTogW3NjYWxlWEhpZGUsIHNjYWxlWFNob3ddIH0sIHNlbGVjdGFibGVSb3dBbmltUGFyYW1zKVxuXG5cdFx0XHRQcm9taXNlLmFsbChbc2VuZGVyQW5pbS5maW5pc2hlZCwgc3ViamVjdEFuaW0uZmluaXNoZWQsIGNoZWNrYm94QW5pbS5maW5pc2hlZF0pLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnNob3dDaGVja2JveCh0cnVlKVxuXG5cdFx0XHRcdHNlbmRlckFuaW0uY2FuY2VsKClcblx0XHRcdFx0c3ViamVjdEFuaW0uY2FuY2VsKClcblx0XHRcdFx0YmFkZ2VBbmltLmNhbmNlbCgpXG5cdFx0XHRcdGNoZWNrYm94QW5pbS5jYW5jZWwoKVxuXHRcdFx0fSwgbm9PcClcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZW5kZXJEb20uc3R5bGUucGFkZGluZ1JpZ2h0ID0gXCIwXCJcblx0XHRcdHRoaXMuc3ViamVjdERvbS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBcIjBcIlxuXG5cdFx0XHRjb25zdCBoaWRlVHJhbnNsYXRlVHJhbnNmb3JtID0geyB0cmFuc2Zvcm06IFt0cmFuc2xhdGVYU2hvdywgdHJhbnNsYXRlWEhpZGVdIH1cblx0XHRcdGNvbnN0IHNlbmRlckFuaW0gPSB0aGlzLnNlbmRlckRvbS5hbmltYXRlKGhpZGVUcmFuc2xhdGVUcmFuc2Zvcm0sIHNlbGVjdGFibGVSb3dBbmltUGFyYW1zKVxuXHRcdFx0Y29uc3Qgc3ViamVjdEFuaW0gPSB0aGlzLnN1YmplY3REb20uYW5pbWF0ZShoaWRlVHJhbnNsYXRlVHJhbnNmb3JtLCBzZWxlY3RhYmxlUm93QW5pbVBhcmFtcylcblx0XHRcdGNvbnN0IGJhZGdlQW5pbSA9IHRoaXMudGVhbUxhYmVsRG9tLmFuaW1hdGUoaGlkZVRyYW5zbGF0ZVRyYW5zZm9ybSwgc2VsZWN0YWJsZVJvd0FuaW1QYXJhbXMpXG5cdFx0XHRjb25zdCBjaGVja2JveEFuaW0gPSB0aGlzLmNoZWNrYm94RG9tLmFuaW1hdGUoeyB0cmFuc2Zvcm06IFtzY2FsZVhTaG93LCBzY2FsZVhIaWRlXSB9LCBzZWxlY3RhYmxlUm93QW5pbVBhcmFtcylcblxuXHRcdFx0UHJvbWlzZS5hbGwoW3NlbmRlckFuaW0uZmluaXNoZWQsIHN1YmplY3RBbmltLmZpbmlzaGVkLCBjaGVja2JveEFuaW0uZmluaXNoZWRdKS50aGVuKCgpID0+IHtcblx0XHRcdFx0dGhpcy5zaG93Q2hlY2tib3goZmFsc2UpXG5cblx0XHRcdFx0c2VuZGVyQW5pbS5jYW5jZWwoKVxuXHRcdFx0XHRzdWJqZWN0QW5pbS5jYW5jZWwoKVxuXHRcdFx0XHRiYWRnZUFuaW0uY2FuY2VsKClcblx0XHRcdFx0Y2hlY2tib3hBbmltLmNhbmNlbCgpXG5cdFx0XHR9LCBub09wKVxuXHRcdH1cblx0XHR0aGlzLmNoZWNrYm94V2FzVmlzaWJsZSA9IHNob3VsZFNob3dDaGVja2JveFxuXHR9XG5cblx0cHJpdmF0ZSBzaG93Q2hlY2tib3goc2hvdzogYm9vbGVhbikge1xuXHRcdGxldCB0cmFuc2xhdGVcblx0XHRsZXQgc2NhbGVcblx0XHRsZXQgcGFkZGluZ1xuXHRcdGlmIChzaG93KSB7XG5cdFx0XHR0cmFuc2xhdGUgPSB0cmFuc2xhdGVYU2hvd1xuXHRcdFx0c2NhbGUgPSBzY2FsZVhTaG93XG5cdFx0XHRwYWRkaW5nID0gc2hpZnRCeUZvckNoZWNrYm94XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRyYW5zbGF0ZSA9IHRyYW5zbGF0ZVhIaWRlXG5cdFx0XHRzY2FsZSA9IHNjYWxlWEhpZGVcblx0XHRcdHBhZGRpbmcgPSBcIjBcIlxuXHRcdH1cblx0XHR0aGlzLnNlbmRlckRvbS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2xhdGVcblx0XHR0aGlzLnN1YmplY3REb20uc3R5bGUudHJhbnNmb3JtID0gdHJhbnNsYXRlXG5cdFx0dGhpcy50ZWFtTGFiZWxEb20uc3R5bGUudHJhbnNmb3JtID0gdHJhbnNsYXRlXG5cdFx0dGhpcy5jaGVja2JveERvbS5zdHlsZS50cmFuc2Zvcm0gPSBzY2FsZVxuXG5cdFx0dGhpcy5zZW5kZXJEb20uc3R5bGUucGFkZGluZ1JpZ2h0ID0gcGFkZGluZ1xuXHRcdHRoaXMuc3ViamVjdERvbS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nXG5cblx0XHQvLyB3ZSBlZmZlY3RpdmVseSByZW1vdmUgaXQgZnJvbSBpbnRlcmFjdGlvblxuXHRcdHRoaXMuY2hlY2tib3hEb20uZGlzYWJsZWQgPSAhc2hvd1xuXHRcdHRoaXMuY2hlY2tib3hEb20udGFiSW5kZXggPSBzaG93ID8gMCA6IC0xXG5cdH1cblxuXHQvKipcblx0ICogT25seSB0aGUgc3RydWN0dXJlIGlzIG1hbmFnZWQgYnkgbWl0aHJpbC4gV2Ugc2V0IGFsbCBjb250ZW50cyBvbiBvdXIgb3duIChzZWUgdXBkYXRlKSBpbiBvcmRlciB0byBhdm9pZCB0aGUgdmRvbSBvdmVyaGVhZCAobm90IG5lZ2xpZ2libGUgb24gbW9iaWxlcylcblx0ICovXG5cdHJlbmRlcigpOiBDaGlsZHJlbiB7XG5cdFx0cmV0dXJuIG0oXG5cdFx0XHRTZWxlY3RhYmxlUm93Q29udGFpbmVyLFxuXHRcdFx0e1xuXHRcdFx0XHRvblNlbGVjdGVkQ2hhbmdlUmVmOiAoY2hhbmdlcikgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2VsZWN0aW9uU2V0dGVyID0gY2hhbmdlclxuXHRcdFx0XHR9LFxuXHRcdFx0XHRvbmNyZWF0ZTogKHZub2RlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5kb21FbGVtZW50ID0gdm5vZGUuZG9tIGFzIEhUTUxFbGVtZW50XG5cdFx0XHRcdFx0Ly8gZG9pbmcgaXQgcmlnaHQgYXdheSB0byBhdm9pZCB2aXN1YWwgZ2xpdGNoIG9mIGl0IGFwcGVhcmluZy9kaXNhcHBlYXJpbmdcblx0XHRcdFx0XHQvLyBidXQgZG9pbmcgaXQgYXQgdGhlIGVuZCBvZiB0aGUgZXZlbnQgbG9vcCBiZWNhdXNlIHdlIHRvdWNoIG90aGVyIERPTSBlbGVtZW50cyB0b28gd2hpY2ggbWlnaHQgbm90IGJlIHRoZXJlIHlldFxuXHRcdFx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gdGhpcy5zaG93Q2hlY2tib3goc2hvdWxkQWx3YXlzU2hvd011bHRpc2VsZWN0Q2hlY2tib3goKSkpXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0W1xuXHRcdFx0XHRtKFxuXHRcdFx0XHRcdFwiLmZsZXguY29sLml0ZW1zLWNlbnRlci5mbGV4LW5vLWdyb3cubm8tc2hyaW5rLnB0LXhzLmFic1wiLFxuXHRcdFx0XHRcdG0oXCJpbnB1dC5jaGVja2JveC5saXN0LWNoZWNrYm94XCIsIHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiY2hlY2tib3hcIixcblx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogXCI3cHhcIixcblx0XHRcdFx0XHRcdFx0dHJhbnNmb3JtT3JpZ2luOiBcImxlZnRcIixcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRvbmNsaWNrOiAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpXG5cdFx0XHRcdFx0XHRcdC8vIGUucmVkcmF3ID0gZmFsc2Vcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRvbmNoYW5nZTogKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5lbnRpdHkpIHRoaXMub25TZWxlY3RlZCh0aGlzLmVudGl0eSwgdGhpcy5jaGVja2JveERvbS5jaGVja2VkKVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdG9uY3JlYXRlOiAodm5vZGUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5jaGVja2JveERvbSA9IHZub2RlLmRvbSBhcyBIVE1MSW5wdXRFbGVtZW50XG5cdFx0XHRcdFx0XHRcdGNoZWNrYm94T3BhY2l0eSh0aGlzLmNoZWNrYm94RG9tLCBmYWxzZSlcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0bShcIi5kb3QuYmctYWNjZW50LWZnLmhpZGRlblwiLCB7XG5cdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRtYXJnaW5Ub3A6IHB4KE1BSUxfUk9XX1ZfTUFSR0lOKSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRvbmNyZWF0ZTogKHZub2RlKSA9PiAodGhpcy51bnJlYWREb20gPSB2bm9kZS5kb20gYXMgSFRNTEVsZW1lbnQpLFxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRtKFxuXHRcdFx0XHRcdFwiLmZsZXgtZ3Jvdy5taW4td2lkdGgtMFwiLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdG1hcmdpbkxlZnQ6IHB4KHNpemUuY2hlY2tib3hfc2l6ZSArIHNpemUudnBhZF94cyksXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0W1xuXHRcdFx0XHRcdFx0bShcIi5mbGV4LmJhZGdlLWxpbmUtaGVpZ2h0XCIsIFtcblx0XHRcdFx0XHRcdFx0bShcblx0XHRcdFx0XHRcdFx0XHRCYWRnZSxcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBcIi5zbWFsbC5tci1zXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRvbmNyZWF0ZTogKHZub2RlKSA9PiAodGhpcy50ZWFtTGFiZWxEb20gPSB2bm9kZS5kb20gYXMgSFRNTEVsZW1lbnQpLFxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0Y29tcGFueVRlYW1MYWJlbCxcblx0XHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdFx0bShcIi50ZXh0LWVsbGlwc2lzXCIsIHtcblx0XHRcdFx0XHRcdFx0XHRvbmNyZWF0ZTogKHZub2RlKSA9PiAodGhpcy5zZW5kZXJEb20gPSB2bm9kZS5kb20gYXMgSFRNTEVsZW1lbnQpLFxuXHRcdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdFx0bShcblx0XHRcdFx0XHRcdFx0XHRcIi5mbGV4LmZsZXgtZ3Jvdy1zaHJpbmstMC5qdXN0aWZ5LWVuZFwiLFxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1pbldpZHRoOiBweCgzNCksIC8vIHNvIHRoZSBtb3JlTGFiZWxJbmRpY2F0b3IgaXMgdmlzaWJsZSBvbiBzbWFsbGVyIHNjcmVlbnNcblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbmRlckxhYmVscygpLFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVuZGVyTGFiZWxzTW9yZUluZGljYXRvcigpLFxuXHRcdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdFx0XHRtKFwic21hbGwudGV4dC1lbGxpcHNpcy5mbGV4LWZpeGVkXCIsIHtcblx0XHRcdFx0XHRcdFx0XHRvbmNyZWF0ZTogKHZub2RlKSA9PiAodGhpcy5kYXRlRG9tID0gdm5vZGUuZG9tIGFzIEhUTUxFbGVtZW50KSxcblx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRdKSxcblx0XHRcdFx0XHRcdG0oXCIuZmxleC5tdC14eHNcIiwgW1xuXHRcdFx0XHRcdFx0XHRtKFwiLnNtYWxsZXIudGV4dC1lbGxpcHNpc1wiLCB7XG5cdFx0XHRcdFx0XHRcdFx0b25jcmVhdGU6ICh2bm9kZSkgPT4gKHRoaXMuc3ViamVjdERvbSA9IHZub2RlLmRvbSBhcyBIVE1MRWxlbWVudCksXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHRtKFwiLmZsZXgtZ3Jvd1wiKSxcblx0XHRcdFx0XHRcdFx0bShcInNwYW4uaW9uLm1sLXMubGlzdC1mb250LWljb25zXCIsIHtcblx0XHRcdFx0XHRcdFx0XHRvbmNyZWF0ZTogKHZub2RlKSA9PiAodGhpcy5pY29uc0RvbSA9IHZub2RlLmRvbSBhcyBIVE1MRWxlbWVudCksXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XSksXG5cdFx0XHRcdFx0XSxcblx0XHRcdFx0KSxcblx0XHRcdF0sXG5cdFx0KVxuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJMYWJlbHNNb3JlSW5kaWNhdG9yKCk6IENoaWxkcmVuIHtcblx0XHRyZXR1cm4gbShcblx0XHRcdFwic3Bhbi5zbWFsbGVyLnRleHQtY2VudGVyLnRleHQtZWxsaXBzaXMuYm9yZGVyLXJhZGl1cy1tXCIsXG5cdFx0XHR7XG5cdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0Ly8gaW4gZGFyayB0aGVtZSBvdmVycmlkZSBzYXR1cmF0aW9uIHRvIGFpZCByZWFkYWJpbGl0eS4gVGhpcyBpcyBub3QgcmVsYXRpdmUgYnV0IGFic29sdXRlIHNhdHVyYXRpb24uIFdlIHByZXNlcnZlIHRoZSBodWUuXG5cdFx0XHRcdFx0Ym9yZGVyOiBgMnB4IHNvbGlkICR7Z2V0TGFiZWxDb2xvcih0aGVtZS5jb250ZW50X2J1dHRvbil9YCxcblx0XHRcdFx0XHRjb2xvcjogZ2V0TGFiZWxDb2xvcih0aGVtZS5jb250ZW50X2J1dHRvbiksXG5cdFx0XHRcdFx0cGFkZGluZzogYDBweCAke3NpemUudnBhZF94c219cHggMXB4YCxcblx0XHRcdFx0XHRtYXJnaW5SaWdodDogcHgoc2l6ZS52cGFkX3hzbSksXG5cdFx0XHRcdFx0bWluV2lkdGg6IHB4KDE2KSxcblx0XHRcdFx0XHRsaW5lSGVpZ2h0OiBweCg4KSxcblx0XHRcdFx0fSxcblx0XHRcdFx0b25jcmVhdGU6ICh2bm9kZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMubW9yZUxhYmVsc0luZGljYXRvckRvbSA9IHZub2RlLmRvbSBhcyBIVE1MRWxlbWVudFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdEVMTElQU0lTLFxuXHRcdClcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyTGFiZWxzKCk6IENoaWxkcmVuIHtcblx0XHRyZXR1cm4gbShcblx0XHRcdFwiLmZsZXgub3ZlcmZsb3ctaGlkZGVuXCIsXG5cdFx0XHR7XG5cdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0bWFyZ2luOiBgMCAke3NpemUudnBhZF94c219cHhgLFxuXHRcdFx0XHRcdGNvbHVtbkdhcDogcHgoc2l6ZS52cGFkX3hzbSksXG5cdFx0XHRcdFx0bWF4V2lkdGg6IFwiZml0LWNvbnRlbnRcIixcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XHRBcnJheShNQVhfRElTUExBWUVEX0xBQkVMUylcblx0XHRcdFx0LmZpbGwoMClcblx0XHRcdFx0Lm1hcCgoXywgaSkgPT5cblx0XHRcdFx0XHQvLyBOb3QgdXNpbmcgdGhlIHJlZ3VsYXIgTGFiZWwgY29tcG9uZW50IGFzIHdlIGhhdmUgdG9vXG5cdFx0XHRcdFx0Ly8gbWFueSBkaWZmZXJlbmNlcyBhbmQgbGlzdCBpcyBhIHNwZWNpYWwgY2FzZSBhbnl3YXkuXG5cdFx0XHRcdFx0bShcInNwYW4uc21hbGwudGV4dC1jZW50ZXIudGV4dC1lbGxpcHNpcy5ib3JkZXItcmFkaXVzLW1cIiwge1xuXHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0cGFkZGluZzogYDJweCAke3NpemUudnBhZF94c219cHhgLFxuXHRcdFx0XHRcdFx0XHRtaW5XaWR0aDogXCI0Y2hcIixcblx0XHRcdFx0XHRcdFx0bWF4V2lkdGg6IHB4KDQ4KSxcblx0XHRcdFx0XHRcdFx0bGluZUhlaWdodDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRcdHRleHRPdmVyZmxvdzogXCIn4oClJ1wiLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdG9uY3JlYXRlOiAodm5vZGUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5sYWJlbHNEb21baV0gPSB2bm9kZS5kb20gYXMgSFRNTEVsZW1lbnRcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdCksXG5cdFx0KVxuXHR9XG5cblx0cHJpdmF0ZSBpY29uc1RleHQobWFpbDogTWFpbCk6IHN0cmluZyB7XG5cdFx0bGV0IGljb25UZXh0ID0gXCJcIlxuXG5cdFx0aWYgKHRoaXMuc2hvd0ZvbGRlckljb24pIHtcblx0XHRcdGxldCBmb2xkZXIgPSBtYWlsTG9jYXRvci5tYWlsTW9kZWwuZ2V0TWFpbEZvbGRlckZvck1haWwobWFpbClcblx0XHRcdGljb25UZXh0ICs9IGZvbGRlciA/IHRoaXMuZm9sZGVySWNvbihnZXRNYWlsRm9sZGVyVHlwZShmb2xkZXIpKSA6IFwiXCJcblx0XHR9XG5cblx0XHRpY29uVGV4dCArPSBtYWlsLl9lcnJvcnMgPyBGb250SWNvbnMuV2FybmluZyA6IFwiXCJcblxuXHRcdGlmIChtYWlsLnN0YXRlID09PSBNYWlsU3RhdGUuRFJBRlQpIHtcblx0XHRcdGljb25UZXh0ICs9IEZvbnRJY29ucy5FZGl0XG5cdFx0fVxuXG5cdFx0c3dpdGNoIChtYWlsLnJlcGx5VHlwZSkge1xuXHRcdFx0Y2FzZSBSZXBseVR5cGUuUkVQTFk6XG5cdFx0XHRcdGljb25UZXh0ICs9IEZvbnRJY29ucy5SZXBseVxuXHRcdFx0XHRicmVha1xuXG5cdFx0XHRjYXNlIFJlcGx5VHlwZS5GT1JXQVJEOlxuXHRcdFx0XHRpY29uVGV4dCArPSBGb250SWNvbnMuRm9yd2FyZFxuXHRcdFx0XHRicmVha1xuXG5cdFx0XHRjYXNlIFJlcGx5VHlwZS5SRVBMWV9GT1JXQVJEOlxuXHRcdFx0XHRpY29uVGV4dCArPSBGb250SWNvbnMuUmVwbHlcblx0XHRcdFx0aWNvblRleHQgKz0gRm9udEljb25zLkZvcndhcmRcblx0XHRcdFx0YnJlYWtcblx0XHR9XG5cblx0XHRpZiAobWFpbC5jb25maWRlbnRpYWwpIHtcblx0XHRcdGljb25UZXh0ICs9IGdldENvbmZpZGVudGlhbEZvbnRJY29uKG1haWwpXG5cdFx0fVxuXG5cdFx0aWYgKG1haWwuYXR0YWNobWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0aWNvblRleHQgKz0gRm9udEljb25zLkF0dGFjaFxuXHRcdH1cblxuXHRcdHJldHVybiBpY29uVGV4dFxuXHR9XG5cblx0cHJpdmF0ZSBmb2xkZXJJY29uKHR5cGU6IE1haWxTZXRLaW5kKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gaWNvbk1hcFt0eXBlXVxuXHR9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQSxNQUFNLDRCQUE0QixJQUFJLFNBQVMsVUFBVSxxQ0FBcUM7QUFFdkYsU0FBUyxjQUFjQSxpQkFBd0M7Q0FDckUsTUFBTSxhQUFhLG1CQUFtQixNQUFNO0NBQzVDLE1BQU0sZUFBZSxhQUFhLE1BQU0sV0FBVztBQUVuRCxRQUFPLGNBQWMsdUJBQXVCLFdBQVcsR0FBRztBQUMxRDtBQUVELFNBQVMsdUJBQXVCQyxPQUF1QjtBQUd0RCxRQUFPLDZCQUE2QixXQUFXLE1BQU0sMkJBQTJCLFdBQVcsTUFBTTtBQUNqRztNQUtZLFFBQVEsY0FBYyxTQUFTQyxRQUFNLEVBQUUsTUFBTSxPQUErQyxFQUFFO0NBQzFHLE1BQU0sYUFBYSxjQUFjLE1BQU07QUFDdkMsUUFBTyxnQkFDTix3REFDQSxFQUNDLE9BQU87RUFFTixpQkFBaUI7RUFDakIsT0FBTyxXQUFXLFNBQVMsTUFBTSxlQUFlO0VBQ2hELFVBQVUsTUFBTSxLQUFLLFNBQVM7Q0FDOUIsRUFDRCxHQUNELEtBQ0E7QUFDRCxFQUFDOzs7O0FDWkYsTUFBTUMsVUFBdUM7RUFDM0MsWUFBWSxTQUFTLFVBQVU7RUFDL0IsWUFBWSxRQUFRLFVBQVU7RUFDOUIsWUFBWSxPQUFPLFVBQVU7RUFDN0IsWUFBWSxRQUFRLFVBQVU7RUFDOUIsWUFBWSxVQUFVLFVBQVU7RUFDaEMsWUFBWSxPQUFPLFVBQVU7RUFDN0IsWUFBWSxR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