import { ProgrammingError } from "./ProgrammingError-chunk.js";
import { LazyLoaded, isEmpty } from "./dist2-chunk.js";
import { AccountType, BookingItemFeatureType, NewPaidPlans, PaymentMethodType, PlanType, PlanTypeToName, getClientType, getPaymentMethodType } from "./TutanotaConstants-chunk.js";
import { createPaymentDataServiceGetData } from "./TypeRefs2-chunk.js";
import { PaymentDataService } from "./Services-chunk.js";
import { locator } from "./CommonLocator-chunk.js";

//#region src/common/subscription/SubscriptionUtils.ts
let UpgradeType = function(UpgradeType$1) {
	UpgradeType$1["Signup"] = "Signup";
	UpgradeType$1["Initial"] = "Initial";
	UpgradeType$1["Switch"] = "Switch";
	return UpgradeType$1;
}({});
function getCurrentCount(featureType, booking) {
	if (booking) {
		let bookingItem = booking.items.find((item) => item.featureType === featureType);
		return bookingItem ? Number(bookingItem.currentCount) : 0;
	} else return 0;
}
function getTotalStorageCapacityPerCustomer(customer, customerInfo, lastBooking) {
	let freeStorageCapacity = getIncludedStorageCapacityPerCustomer(customerInfo);
	if (customer.type === AccountType.PAID) return Math.max(freeStorageCapacity, getCurrentCount(BookingItemFeatureType.Storage, lastBooking));
else return freeStorageCapacity;
}
function getIncludedStorageCapacityPerCustomer(customerInfo) {
	return Math.max(Number(customerInfo.includedStorageCapacity), Number(customerInfo.promotionStorageCapacity));
}
function isWhitelabelActive(lastBooking, planConfig) {
	return getCurrentCount(BookingItemFeatureType.Whitelabel, lastBooking) !== 0 || planConfig.whitelabel;
}
function isSharingActive(lastBooking, planConfig) {
	return getCurrentCount(BookingItemFeatureType.Sharing, lastBooking) !== 0 || planConfig.sharing;
}
function isBusinessFeatureActive(lastBooking) {
	return getCurrentCount(BookingItemFeatureType.Business, lastBooking) !== 0;
}
function isEventInvitesActive(lastBooking, planConfig) {
	return isBusinessFeatureActive(lastBooking) || planConfig.eventInvites;
}
function isAutoResponderActive(lastBooking, planConfig) {
	return isBusinessFeatureActive(lastBooking) || planConfig.autoResponder;
}
function getPreconditionFailedPaymentMsg(data) {
	switch (data) {
		case "paypal.change": return "payChangeError_msg";
		case "paypal.confirm_again": return "payPaypalConfirmAgainError_msg";
		case "paypal.other_source": return "payPaypalChangeSourceError_msg";
		case "card.contact_bank": return "payCardContactBankError_msg";
		case "card.insufficient_funds": return "payCardInsufficientFundsError_msg";
		case "card.expired_card": return "payCardExpiredError_msg";
		case "card.change": return "payChangeError_msg";
		case "card.3ds2_needed": return "creditCardPaymentErrorVerificationNeeded_msg";
		case "card.3ds2_pending": return "creditCardPendingVerification_msg";
		case "card.3ds2_failed": return "creditCardVerificationFailed_msg";
		case "card.cvv_invalid": return "creditCardCVVInvalid_msg";
		case "card.number_invalid": return "creditCardNumberInvalid_msg";
		case "card.date_invalid": return "creditCardExprationDateInvalid_msg";
		default: return "payContactUsError_msg";
	}
}
function getLazyLoadedPayPalUrl() {
	return new LazyLoaded(async () => {
		const clientType = getClientType();
		const result = await locator.serviceExecutor.get(PaymentDataService, createPaymentDataServiceGetData({ clientType }));
		return result.loginUrl;
	});
}
function toFeatureType(type) {
	switch (type) {
		case PlanType.Revolutionary: return BookingItemFeatureType.Revolutionary;
		case PlanType.Legend: return BookingItemFeatureType.Legend;
		case PlanType.Essential: return BookingItemFeatureType.Essential;
		case PlanType.Advanced: return BookingItemFeatureType.Advanced;
		case PlanType.Unlimited: return BookingItemFeatureType.Unlimited;
		case PlanType.Premium: return BookingItemFeatureType.LegacyUsers;
		default: throw new Error(`can't convert ${type} to BookingItemFeatureType`);
	}
}
async function getAvailableMatchingPlans(serviceExecutor, predicate) {
	const { PriceAndConfigProvider } = await import("./PriceUtils2-chunk.js");
	const priceAndConfigProvider = await PriceAndConfigProvider.getInitializedInstance(null, serviceExecutor, null);
	return NewPaidPlans.filter((p) => {
		const config = priceAndConfigProvider.getPlanPricesForPlan(p).planConfiguration;
		return predicate(config);
	});
}
/**
* Filter for plans a customer can upgrade to that include a feature, assuming that the feature must be available on at least one plan.
* @param predicate the criterion to select plans by
* @param errorMessage the error message to throw in case no plan satisfies the criterion
*/
async function getAtLeastOneAvailableMatchingPlan(predicate, errorMessage) {
	const plans = await getAvailableMatchingPlans(locator.serviceExecutor, predicate);
	if (isEmpty(plans)) throw new ProgrammingError(errorMessage);
	return plans;
}
async function getAvailablePlansWithWhitelabel() {
	return getAtLeastOneAvailableMatchingPlan((config) => config.whitelabel, "no available plan with the Whitelabel feature");
}
async function getAvailablePlansWithTemplates() {
	return getAtLeastOneAvailableMatchingPlan((config) => config.templates, "no available plan with the Templates feature");
}
async function getAvailablePlansWithSharing() {
	return getAtLeastOneAvailableMatchingPlan((config) => config.sharing, "no available plan with the Sharing feature");
}
async function getAvailablePlansWithEventInvites() {
	return getAtLeastOneAvailableMatchingPlan((config) => config.eventInvites, "no available plan with the Event Invites feature");
}
async function getAvailablePlansWithAutoResponder() {
	return getAtLeastOneAvailableMatchingPlan((config) => config.autoResponder, "no available plan with the Auto-Responder feature");
}
async function getAvailablePlansWithContactList() {
	return getAtLeastOneAvailableMatchingPlan((config) => config.contactList, "no available plan with the Contact List feature");
}
async function getAvailablePlansWithCalendarInvites() {
	return getAtLeastOneAvailableMatchingPlan((config) => config.eventInvites, "no available plan with the Calendar Invite feature");
}
function appStorePlanName(planType) {
	return PlanTypeToName[planType].toLowerCase();
}
function hasRunningAppStoreSubscription(accountingInfo) {
	return getPaymentMethodType(accountingInfo) === PaymentMethodType.AppStore && accountingInfo.appStoreSubscription != null;
}
async function queryAppStoreSubscriptionOwnership(userIdBytes) {
	return await locator.mobilePaymentsFacade.queryAppStoreSubscriptionOwnership(userIdBytes);
}

//#endregion
export { UpgradeType, appStorePlanName, getAvailableMatchingPlans, getAvailablePlansWithAutoResponder, getAvailablePlansWithCalendarInvites, getAvailablePlansWithContactList, getAvailablePlansWithEventInvites, getAvailablePlansWithSharing, getAvailablePlansWithTemplates, getAvailablePlansWithWhitelabel, getCurrentCount, getLazyLoadedPayPalUrl, getPreconditionFailedPaymentMsg, getTotalStorageCapacityPerCustomer, hasRunningAppStoreSubscription, isAutoResponderActive, isEventInvitesActive, isSharingActive, isWhitelabelActive, queryAppStoreSubscriptionOwnership, toFeatureType };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3Vic2NyaXB0aW9uVXRpbHMtY2h1bmsuanMiLCJuYW1lcyI6WyJmZWF0dXJlVHlwZTogQm9va2luZ0l0ZW1GZWF0dXJlVHlwZSIsImJvb2tpbmc6IEJvb2tpbmcgfCBudWxsIiwiY3VzdG9tZXI6IEN1c3RvbWVyIiwiY3VzdG9tZXJJbmZvOiBDdXN0b21lckluZm8iLCJsYXN0Qm9va2luZzogQm9va2luZyB8IG51bGwiLCJwbGFuQ29uZmlnOiBQbGFuQ29uZmlndXJhdGlvbiIsImRhdGE6IHN0cmluZyB8IG51bGwiLCJ0eXBlOiBQbGFuVHlwZSIsInNlcnZpY2VFeGVjdXRvcjogSVNlcnZpY2VFeGVjdXRvciIsInByZWRpY2F0ZTogKGNvbmZpZ3VyYXRpb246IFBsYW5Db25maWd1cmF0aW9uKSA9PiBib29sZWFuIiwiZXJyb3JNZXNzYWdlOiBzdHJpbmciLCJwbGFuVHlwZTogUGxhblR5cGUiLCJhY2NvdW50aW5nSW5mbzogQWNjb3VudGluZ0luZm8iLCJ1c2VySWRCeXRlczogVWludDhBcnJheSB8IG51bGwiXSwic291cmNlcyI6WyIuLi9zcmMvY29tbW9uL3N1YnNjcmlwdGlvbi9TdWJzY3JpcHRpb25VdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFRyYW5zbGF0aW9uS2V5IH0gZnJvbSBcIi4uL21pc2MvTGFuZ3VhZ2VWaWV3TW9kZWxcIlxuaW1wb3J0IHtcblx0QWNjb3VudFR5cGUsXG5cdEF2YWlsYWJsZVBsYW5UeXBlLFxuXHRCb29raW5nSXRlbUZlYXR1cmVUeXBlLFxuXHRnZXRDbGllbnRUeXBlLFxuXHRnZXRQYXltZW50TWV0aG9kVHlwZSxcblx0TmV3UGFpZFBsYW5zLFxuXHRQYXltZW50TWV0aG9kVHlwZSxcblx0UGxhblR5cGUsXG5cdFBsYW5UeXBlVG9OYW1lLFxufSBmcm9tIFwiLi4vYXBpL2NvbW1vbi9UdXRhbm90YUNvbnN0YW50c1wiXG5pbXBvcnQgdHlwZSB7IEFjY291bnRpbmdJbmZvLCBDdXN0b21lciwgQ3VzdG9tZXJJbmZvLCBQbGFuQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuLi9hcGkvZW50aXRpZXMvc3lzL1R5cGVSZWZzLmpzXCJcbmltcG9ydCB7IEJvb2tpbmcsIGNyZWF0ZVBheW1lbnREYXRhU2VydmljZUdldERhdGEgfSBmcm9tIFwiLi4vYXBpL2VudGl0aWVzL3N5cy9UeXBlUmVmcy5qc1wiXG5pbXBvcnQgeyBpc0VtcHR5LCBMYXp5TG9hZGVkIH0gZnJvbSBcIkB0dXRhby90dXRhbm90YS11dGlsc1wiXG5pbXBvcnQgeyBsb2NhdG9yIH0gZnJvbSBcIi4uL2FwaS9tYWluL0NvbW1vbkxvY2F0b3JcIlxuaW1wb3J0IHsgUGF5bWVudERhdGFTZXJ2aWNlIH0gZnJvbSBcIi4uL2FwaS9lbnRpdGllcy9zeXMvU2VydmljZXNcIlxuaW1wb3J0IHsgUHJvZ3JhbW1pbmdFcnJvciB9IGZyb20gXCIuLi9hcGkvY29tbW9uL2Vycm9yL1Byb2dyYW1taW5nRXJyb3IuanNcIlxuaW1wb3J0IHsgSVNlcnZpY2VFeGVjdXRvciB9IGZyb20gXCIuLi9hcGkvY29tbW9uL1NlcnZpY2VSZXF1ZXN0LmpzXCJcbmltcG9ydCB7IE1vYmlsZVBheW1lbnRTdWJzY3JpcHRpb25Pd25lcnNoaXAgfSBmcm9tIFwiLi4vbmF0aXZlL2NvbW1vbi9nZW5lcmF0ZWRpcGMvTW9iaWxlUGF5bWVudFN1YnNjcmlwdGlvbk93bmVyc2hpcC5qc1wiXG5cbmV4cG9ydCBjb25zdCBlbnVtIFVwZ3JhZGVUeXBlIHtcblx0U2lnbnVwID0gXCJTaWdudXBcIixcblx0Ly8gZHVyaW5nIHNpZ251cFxuXHRJbml0aWFsID0gXCJJbml0aWFsXCIsXG5cdC8vIHdoZW4gbG9nZ2VkIGludG8gRnJlZSBhY2NvdW50XG5cdFN3aXRjaCA9IFwiU3dpdGNoXCIsIC8vIHN3aXRjaGluZyBpbiBwYWlkIGFjY291bnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRDb3VudChmZWF0dXJlVHlwZTogQm9va2luZ0l0ZW1GZWF0dXJlVHlwZSwgYm9va2luZzogQm9va2luZyB8IG51bGwpOiBudW1iZXIge1xuXHRpZiAoYm9va2luZykge1xuXHRcdGxldCBib29raW5nSXRlbSA9IGJvb2tpbmcuaXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5mZWF0dXJlVHlwZSA9PT0gZmVhdHVyZVR5cGUpXG5cdFx0cmV0dXJuIGJvb2tpbmdJdGVtID8gTnVtYmVyKGJvb2tpbmdJdGVtLmN1cnJlbnRDb3VudCkgOiAwXG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIDBcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGF2YWlsYWJsZSBzdG9yYWdlIGNhcGFjaXR5IGZvciB0aGUgY3VzdG9tZXIgaW4gR0JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvdGFsU3RvcmFnZUNhcGFjaXR5UGVyQ3VzdG9tZXIoY3VzdG9tZXI6IEN1c3RvbWVyLCBjdXN0b21lckluZm86IEN1c3RvbWVySW5mbywgbGFzdEJvb2tpbmc6IEJvb2tpbmcgfCBudWxsKTogbnVtYmVyIHtcblx0bGV0IGZyZWVTdG9yYWdlQ2FwYWNpdHkgPSBnZXRJbmNsdWRlZFN0b3JhZ2VDYXBhY2l0eVBlckN1c3RvbWVyKGN1c3RvbWVySW5mbylcblxuXHRpZiAoY3VzdG9tZXIudHlwZSA9PT0gQWNjb3VudFR5cGUuUEFJRCkge1xuXHRcdHJldHVybiBNYXRoLm1heChmcmVlU3RvcmFnZUNhcGFjaXR5LCBnZXRDdXJyZW50Q291bnQoQm9va2luZ0l0ZW1GZWF0dXJlVHlwZS5TdG9yYWdlLCBsYXN0Qm9va2luZykpXG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGZyZWVTdG9yYWdlQ2FwYWNpdHlcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRJbmNsdWRlZFN0b3JhZ2VDYXBhY2l0eVBlckN1c3RvbWVyKGN1c3RvbWVySW5mbzogQ3VzdG9tZXJJbmZvKTogbnVtYmVyIHtcblx0cmV0dXJuIE1hdGgubWF4KE51bWJlcihjdXN0b21lckluZm8uaW5jbHVkZWRTdG9yYWdlQ2FwYWNpdHkpLCBOdW1iZXIoY3VzdG9tZXJJbmZvLnByb21vdGlvblN0b3JhZ2VDYXBhY2l0eSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1doaXRlbGFiZWxBY3RpdmUobGFzdEJvb2tpbmc6IEJvb2tpbmcgfCBudWxsLCBwbGFuQ29uZmlnOiBQbGFuQ29uZmlndXJhdGlvbik6IGJvb2xlYW4ge1xuXHRyZXR1cm4gZ2V0Q3VycmVudENvdW50KEJvb2tpbmdJdGVtRmVhdHVyZVR5cGUuV2hpdGVsYWJlbCwgbGFzdEJvb2tpbmcpICE9PSAwIHx8IHBsYW5Db25maWcud2hpdGVsYWJlbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTaGFyaW5nQWN0aXZlKGxhc3RCb29raW5nOiBCb29raW5nIHwgbnVsbCwgcGxhbkNvbmZpZzogUGxhbkNvbmZpZ3VyYXRpb24pOiBib29sZWFuIHtcblx0cmV0dXJuIGdldEN1cnJlbnRDb3VudChCb29raW5nSXRlbUZlYXR1cmVUeXBlLlNoYXJpbmcsIGxhc3RCb29raW5nKSAhPT0gMCB8fCBwbGFuQ29uZmlnLnNoYXJpbmdcbn1cblxuZnVuY3Rpb24gaXNCdXNpbmVzc0ZlYXR1cmVBY3RpdmUobGFzdEJvb2tpbmc6IEJvb2tpbmcgfCBudWxsKTogYm9vbGVhbiB7XG5cdHJldHVybiBnZXRDdXJyZW50Q291bnQoQm9va2luZ0l0ZW1GZWF0dXJlVHlwZS5CdXNpbmVzcywgbGFzdEJvb2tpbmcpICE9PSAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V2ZW50SW52aXRlc0FjdGl2ZShsYXN0Qm9va2luZzogQm9va2luZyB8IG51bGwsIHBsYW5Db25maWc6IFBsYW5Db25maWd1cmF0aW9uKTogYm9vbGVhbiB7XG5cdHJldHVybiBpc0J1c2luZXNzRmVhdHVyZUFjdGl2ZShsYXN0Qm9va2luZykgfHwgcGxhbkNvbmZpZy5ldmVudEludml0ZXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1Jlc3BvbmRlckFjdGl2ZShsYXN0Qm9va2luZzogQm9va2luZyB8IG51bGwsIHBsYW5Db25maWc6IFBsYW5Db25maWd1cmF0aW9uKTogYm9vbGVhbiB7XG5cdHJldHVybiBpc0J1c2luZXNzRmVhdHVyZUFjdGl2ZShsYXN0Qm9va2luZykgfHwgcGxhbkNvbmZpZy5hdXRvUmVzcG9uZGVyXG59XG5cbmV4cG9ydCB0eXBlIFBheW1lbnRFcnJvckNvZGUgPVxuXHR8IFwicGF5cGFsLmNoYW5nZVwiXG5cdHwgXCJwYXlwYWwuY29uZmlybV9hZ2FpblwiXG5cdHwgXCJwYXlwYWwub3RoZXJfc291cmNlXCJcblx0fCBcImNhcmQuY29udGFjdF9iYW5rXCJcblx0fCBcImNhcmQuaW5zdWZmaWNpZW50X2Z1bmRzXCJcblx0fCBcImNhcmQuZXhwaXJlZF9jYXJkXCJcblx0fCBcImNhcmQuY2hhbmdlXCJcblx0fCBcImNhcmQuM2RzMl9uZWVkZWRcIlxuXHR8IFwiY2FyZC4zZHMyX3BlbmRpbmdcIlxuXHR8IFwiY2FyZC4zZHMyX2ZhaWxlZFwiXG5cdHwgXCJjYXJkLmN2dl9pbnZhbGlkXCJcblx0fCBcImNhcmQubnVtYmVyX2ludmFsaWRcIlxuXHR8IFwiY2FyZC5kYXRlX2ludmFsaWRcIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlY29uZGl0aW9uRmFpbGVkUGF5bWVudE1zZyhkYXRhOiBzdHJpbmcgfCBudWxsKTogVHJhbnNsYXRpb25LZXkge1xuXHQvLyB0aGUgdHlwZSBpcyBtb3N0bHkgdGhlcmUgdG8ga2VlcCBtdWx0aXBsZSBsb2NhdGlvbnMgdGhhdCBzd2l0Y2ggb3ZlciB0aGVzZSBpbiBzeW5jXG5cdHN3aXRjaCAoZGF0YSBhcyBQYXltZW50RXJyb3JDb2RlKSB7XG5cdFx0Y2FzZSBcInBheXBhbC5jaGFuZ2VcIjpcblx0XHRcdHJldHVybiBcInBheUNoYW5nZUVycm9yX21zZ1wiXG5cblx0XHRjYXNlIFwicGF5cGFsLmNvbmZpcm1fYWdhaW5cIjpcblx0XHRcdHJldHVybiBcInBheVBheXBhbENvbmZpcm1BZ2FpbkVycm9yX21zZ1wiXG5cblx0XHRjYXNlIFwicGF5cGFsLm90aGVyX3NvdXJjZVwiOlxuXHRcdFx0cmV0dXJuIFwicGF5UGF5cGFsQ2hhbmdlU291cmNlRXJyb3JfbXNnXCJcblxuXHRcdGNhc2UgXCJjYXJkLmNvbnRhY3RfYmFua1wiOlxuXHRcdFx0cmV0dXJuIFwicGF5Q2FyZENvbnRhY3RCYW5rRXJyb3JfbXNnXCJcblxuXHRcdGNhc2UgXCJjYXJkLmluc3VmZmljaWVudF9mdW5kc1wiOlxuXHRcdFx0cmV0dXJuIFwicGF5Q2FyZEluc3VmZmljaWVudEZ1bmRzRXJyb3JfbXNnXCJcblxuXHRcdGNhc2UgXCJjYXJkLmV4cGlyZWRfY2FyZFwiOlxuXHRcdFx0cmV0dXJuIFwicGF5Q2FyZEV4cGlyZWRFcnJvcl9tc2dcIlxuXG5cdFx0Y2FzZSBcImNhcmQuY2hhbmdlXCI6XG5cdFx0XHRyZXR1cm4gXCJwYXlDaGFuZ2VFcnJvcl9tc2dcIlxuXG5cdFx0Y2FzZSBcImNhcmQuM2RzMl9uZWVkZWRcIjpcblx0XHRcdHJldHVybiBcImNyZWRpdENhcmRQYXltZW50RXJyb3JWZXJpZmljYXRpb25OZWVkZWRfbXNnXCJcblxuXHRcdGNhc2UgXCJjYXJkLjNkczJfcGVuZGluZ1wiOlxuXHRcdFx0cmV0dXJuIFwiY3JlZGl0Q2FyZFBlbmRpbmdWZXJpZmljYXRpb25fbXNnXCJcblxuXHRcdGNhc2UgXCJjYXJkLjNkczJfZmFpbGVkXCI6XG5cdFx0XHRyZXR1cm4gXCJjcmVkaXRDYXJkVmVyaWZpY2F0aW9uRmFpbGVkX21zZ1wiXG5cblx0XHRjYXNlIFwiY2FyZC5jdnZfaW52YWxpZFwiOlxuXHRcdFx0cmV0dXJuIFwiY3JlZGl0Q2FyZENWVkludmFsaWRfbXNnXCJcblxuXHRcdGNhc2UgXCJjYXJkLm51bWJlcl9pbnZhbGlkXCI6XG5cdFx0XHRyZXR1cm4gXCJjcmVkaXRDYXJkTnVtYmVySW52YWxpZF9tc2dcIlxuXG5cdFx0Y2FzZSBcImNhcmQuZGF0ZV9pbnZhbGlkXCI6XG5cdFx0XHRyZXR1cm4gXCJjcmVkaXRDYXJkRXhwcmF0aW9uRGF0ZUludmFsaWRfbXNnXCJcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gXCJwYXlDb250YWN0VXNFcnJvcl9tc2dcIlxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXp5TG9hZGVkUGF5UGFsVXJsKCk6IExhenlMb2FkZWQ8c3RyaW5nPiB7XG5cdHJldHVybiBuZXcgTGF6eUxvYWRlZChhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgY2xpZW50VHlwZSA9IGdldENsaWVudFR5cGUoKVxuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvY2F0b3Iuc2VydmljZUV4ZWN1dG9yLmdldChcblx0XHRcdFBheW1lbnREYXRhU2VydmljZSxcblx0XHRcdGNyZWF0ZVBheW1lbnREYXRhU2VydmljZUdldERhdGEoe1xuXHRcdFx0XHRjbGllbnRUeXBlLFxuXHRcdFx0fSksXG5cdFx0KVxuXHRcdHJldHVybiByZXN1bHQubG9naW5Vcmxcblx0fSlcbn1cblxuLyoqXG4gKiBvbmx5IHRvIGJlIGludm9rZWQgZm9yIFBsYW5UeXBlcyB3aGVyZSBpc05ld1BsYW4gcmV0dXJucyB0cnVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0ZlYXR1cmVUeXBlKHR5cGU6IFBsYW5UeXBlKTogQm9va2luZ0l0ZW1GZWF0dXJlVHlwZSB7XG5cdHN3aXRjaCAodHlwZSkge1xuXHRcdGNhc2UgUGxhblR5cGUuUmV2b2x1dGlvbmFyeTpcblx0XHRcdHJldHVybiBCb29raW5nSXRlbUZlYXR1cmVUeXBlLlJldm9sdXRpb25hcnlcblx0XHRjYXNlIFBsYW5UeXBlLkxlZ2VuZDpcblx0XHRcdHJldHVybiBCb29raW5nSXRlbUZlYXR1cmVUeXBlLkxlZ2VuZFxuXHRcdGNhc2UgUGxhblR5cGUuRXNzZW50aWFsOlxuXHRcdFx0cmV0dXJuIEJvb2tpbmdJdGVtRmVhdHVyZVR5cGUuRXNzZW50aWFsXG5cdFx0Y2FzZSBQbGFuVHlwZS5BZHZhbmNlZDpcblx0XHRcdHJldHVybiBCb29raW5nSXRlbUZlYXR1cmVUeXBlLkFkdmFuY2VkXG5cdFx0Y2FzZSBQbGFuVHlwZS5VbmxpbWl0ZWQ6XG5cdFx0XHRyZXR1cm4gQm9va2luZ0l0ZW1GZWF0dXJlVHlwZS5VbmxpbWl0ZWRcblx0XHRjYXNlIFBsYW5UeXBlLlByZW1pdW06XG5cdFx0XHRyZXR1cm4gQm9va2luZ0l0ZW1GZWF0dXJlVHlwZS5MZWdhY3lVc2Vyc1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYGNhbid0IGNvbnZlcnQgJHt0eXBlfSB0byBCb29raW5nSXRlbUZlYXR1cmVUeXBlYClcblx0fVxufVxuXG4vKipcbiAqIEdldCBwbGFucyB0aGF0IGFyZSBhdmFpbGFibGUgZm9yIHB1cmNoYXNlIGFuZCB0aGF0IGNvbXBseSB3aXRoIHRoZSBnaXZlbiBjcml0ZXJpYS5cbiAqIEBwYXJhbSBzZXJ2aWNlRXhlY3V0b3JcbiAqIEBwYXJhbSBwcmVkaWNhdGVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF2YWlsYWJsZU1hdGNoaW5nUGxhbnMoXG5cdHNlcnZpY2VFeGVjdXRvcjogSVNlcnZpY2VFeGVjdXRvcixcblx0cHJlZGljYXRlOiAoY29uZmlndXJhdGlvbjogUGxhbkNvbmZpZ3VyYXRpb24pID0+IGJvb2xlYW4sXG4pOiBQcm9taXNlPEFycmF5PEF2YWlsYWJsZVBsYW5UeXBlPj4ge1xuXHRjb25zdCB7IFByaWNlQW5kQ29uZmlnUHJvdmlkZXIgfSA9IGF3YWl0IGltcG9ydChcIi4uL3N1YnNjcmlwdGlvbi9QcmljZVV0aWxzLmpzXCIpXG5cdGNvbnN0IHByaWNlQW5kQ29uZmlnUHJvdmlkZXIgPSBhd2FpdCBQcmljZUFuZENvbmZpZ1Byb3ZpZGVyLmdldEluaXRpYWxpemVkSW5zdGFuY2UobnVsbCwgc2VydmljZUV4ZWN1dG9yLCBudWxsKVxuXHRyZXR1cm4gTmV3UGFpZFBsYW5zLmZpbHRlcigocCkgPT4ge1xuXHRcdGNvbnN0IGNvbmZpZyA9IHByaWNlQW5kQ29uZmlnUHJvdmlkZXIuZ2V0UGxhblByaWNlc0ZvclBsYW4ocCkucGxhbkNvbmZpZ3VyYXRpb25cblx0XHRyZXR1cm4gcHJlZGljYXRlKGNvbmZpZylcblx0fSlcbn1cblxuLyoqXG4gKiBGaWx0ZXIgZm9yIHBsYW5zIGEgY3VzdG9tZXIgY2FuIHVwZ3JhZGUgdG8gdGhhdCBpbmNsdWRlIGEgZmVhdHVyZSwgYXNzdW1pbmcgdGhhdCB0aGUgZmVhdHVyZSBtdXN0IGJlIGF2YWlsYWJsZSBvbiBhdCBsZWFzdCBvbmUgcGxhbi5cbiAqIEBwYXJhbSBwcmVkaWNhdGUgdGhlIGNyaXRlcmlvbiB0byBzZWxlY3QgcGxhbnMgYnlcbiAqIEBwYXJhbSBlcnJvck1lc3NhZ2UgdGhlIGVycm9yIG1lc3NhZ2UgdG8gdGhyb3cgaW4gY2FzZSBubyBwbGFuIHNhdGlzZmllcyB0aGUgY3JpdGVyaW9uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEF0TGVhc3RPbmVBdmFpbGFibGVNYXRjaGluZ1BsYW4oXG5cdHByZWRpY2F0ZTogKGNvbmZpZ3VyYXRpb246IFBsYW5Db25maWd1cmF0aW9uKSA9PiBib29sZWFuLFxuXHRlcnJvck1lc3NhZ2U6IHN0cmluZyxcbik6IFByb21pc2U8QXJyYXk8QXZhaWxhYmxlUGxhblR5cGU+PiB7XG5cdGNvbnN0IHBsYW5zID0gYXdhaXQgZ2V0QXZhaWxhYmxlTWF0Y2hpbmdQbGFucyhsb2NhdG9yLnNlcnZpY2VFeGVjdXRvciwgcHJlZGljYXRlKVxuXHRpZiAoaXNFbXB0eShwbGFucykpIHtcblx0XHR0aHJvdyBuZXcgUHJvZ3JhbW1pbmdFcnJvcihlcnJvck1lc3NhZ2UpXG5cdH1cblx0cmV0dXJuIHBsYW5zXG59XG5cbi8qKlxuICogR2V0IHBsYW5zIHRoYXQgYSBjdXN0b21lciBjYW4gdXBncmFkZSB0byB0aGF0IGluY2x1ZGUgdGhlIFdoaXRlbGFiZWwgZmVhdHVyZS5cbiAqIEB0aHJvd3MgUHJvZ3JhbW1pbmdFcnJvciBpZiBubyBwbGFucyBpbmNsdWRlIGl0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXZhaWxhYmxlUGxhbnNXaXRoV2hpdGVsYWJlbCgpOiBQcm9taXNlPEFycmF5PEF2YWlsYWJsZVBsYW5UeXBlPj4ge1xuXHRyZXR1cm4gZ2V0QXRMZWFzdE9uZUF2YWlsYWJsZU1hdGNoaW5nUGxhbigoY29uZmlnKSA9PiBjb25maWcud2hpdGVsYWJlbCwgXCJubyBhdmFpbGFibGUgcGxhbiB3aXRoIHRoZSBXaGl0ZWxhYmVsIGZlYXR1cmVcIilcbn1cblxuLyoqXG4gKiBHZXQgcGxhbnMgdGhhdCBhIGN1c3RvbWVyIGNhbiB1cGdyYWRlIHRvIHRoYXQgaW5jbHVkZSB0aGUgV2hpdGVsYWJlbCBmZWF0dXJlLlxuICogQHRocm93cyBQcm9ncmFtbWluZ0Vycm9yIGlmIG5vIHBsYW5zIGluY2x1ZGUgaXQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdmFpbGFibGVQbGFuc1dpdGhUZW1wbGF0ZXMoKTogUHJvbWlzZTxBcnJheTxBdmFpbGFibGVQbGFuVHlwZT4+IHtcblx0cmV0dXJuIGdldEF0TGVhc3RPbmVBdmFpbGFibGVNYXRjaGluZ1BsYW4oKGNvbmZpZykgPT4gY29uZmlnLnRlbXBsYXRlcywgXCJubyBhdmFpbGFibGUgcGxhbiB3aXRoIHRoZSBUZW1wbGF0ZXMgZmVhdHVyZVwiKVxufVxuXG4vKipcbiAqIEdldCBwbGFucyB0aGF0IGEgY3VzdG9tZXIgY2FuIHVwZ3JhZGUgdG8gdGhhdCBpbmNsdWRlIHRoZSBTaGFyaW5nIGZlYXR1cmUuXG4gKiBAdGhyb3dzIFByb2dyYW1taW5nRXJyb3IgaWYgbm8gcGxhbnMgaW5jbHVkZSBpdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF2YWlsYWJsZVBsYW5zV2l0aFNoYXJpbmcoKTogUHJvbWlzZTxBcnJheTxBdmFpbGFibGVQbGFuVHlwZT4+IHtcblx0cmV0dXJuIGdldEF0TGVhc3RPbmVBdmFpbGFibGVNYXRjaGluZ1BsYW4oKGNvbmZpZykgPT4gY29uZmlnLnNoYXJpbmcsIFwibm8gYXZhaWxhYmxlIHBsYW4gd2l0aCB0aGUgU2hhcmluZyBmZWF0dXJlXCIpXG59XG5cbi8qKlxuICogR2V0IHBsYW5zIHRoYXQgYSBjdXN0b21lciBjYW4gdXBncmFkZSB0byB0aGF0IGluY2x1ZGUgdGhlIEV2ZW50IEludml0ZXMgZmVhdHVyZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF2YWlsYWJsZVBsYW5zV2l0aEV2ZW50SW52aXRlcygpOiBQcm9taXNlPEFycmF5PEF2YWlsYWJsZVBsYW5UeXBlPj4ge1xuXHRyZXR1cm4gZ2V0QXRMZWFzdE9uZUF2YWlsYWJsZU1hdGNoaW5nUGxhbigoY29uZmlnKSA9PiBjb25maWcuZXZlbnRJbnZpdGVzLCBcIm5vIGF2YWlsYWJsZSBwbGFuIHdpdGggdGhlIEV2ZW50IEludml0ZXMgZmVhdHVyZVwiKVxufVxuXG4vKipcbiAqIEdldCBwbGFucyB0aGF0IGEgY3VzdG9tZXIgY2FuIHVwZ3JhZGUgdG8gdGhhdCBpbmNsdWRlIHRoZSBBdXRvLVJlc3BvbmRlciBmZWF0dXJlLlxuICogQHRocm93cyBQcm9ncmFtbWluZ0Vycm9yIGlmIG5vIHBsYW5zIGluY2x1ZGUgaXQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdmFpbGFibGVQbGFuc1dpdGhBdXRvUmVzcG9uZGVyKCk6IFByb21pc2U8QXJyYXk8QXZhaWxhYmxlUGxhblR5cGU+PiB7XG5cdHJldHVybiBnZXRBdExlYXN0T25lQXZhaWxhYmxlTWF0Y2hpbmdQbGFuKChjb25maWcpID0+IGNvbmZpZy5hdXRvUmVzcG9uZGVyLCBcIm5vIGF2YWlsYWJsZSBwbGFuIHdpdGggdGhlIEF1dG8tUmVzcG9uZGVyIGZlYXR1cmVcIilcbn1cblxuLyoqXG4gKiBHZXQgcGxhbnMgdGhhdCBhIGN1c3RvbWVyIGNhbiB1cGdyYWRlIHRvIHRoYXQgaW5jbHVkZSB0aGUgQ29udGFjdCBMaXN0IGZlYXR1cmUuXG4gKiBAdGhyb3dzIFByb2dyYW1taW5nRXJyb3IgaWYgbm8gcGxhbnMgaW5jbHVkZSBpdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF2YWlsYWJsZVBsYW5zV2l0aENvbnRhY3RMaXN0KCk6IFByb21pc2U8QXJyYXk8QXZhaWxhYmxlUGxhblR5cGU+PiB7XG5cdHJldHVybiBnZXRBdExlYXN0T25lQXZhaWxhYmxlTWF0Y2hpbmdQbGFuKChjb25maWcpID0+IGNvbmZpZy5jb250YWN0TGlzdCwgXCJubyBhdmFpbGFibGUgcGxhbiB3aXRoIHRoZSBDb250YWN0IExpc3QgZmVhdHVyZVwiKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXZhaWxhYmxlUGxhbnNXaXRoQ2FsZW5kYXJJbnZpdGVzKCk6IFByb21pc2U8QXJyYXk8QXZhaWxhYmxlUGxhblR5cGU+PiB7XG5cdHJldHVybiBnZXRBdExlYXN0T25lQXZhaWxhYmxlTWF0Y2hpbmdQbGFuKChjb25maWcpID0+IGNvbmZpZy5ldmVudEludml0ZXMsIFwibm8gYXZhaWxhYmxlIHBsYW4gd2l0aCB0aGUgQ2FsZW5kYXIgSW52aXRlIGZlYXR1cmVcIilcbn1cblxuLyoqIG5hbWUgb2YgdGhlIHBsYW4vcHJvZHVjdCBob3cgaXQgaXMgZXhwZWN0ZWQgYnkgaU9TIEFwcFN0b3JlICovXG5leHBvcnQgZnVuY3Rpb24gYXBwU3RvcmVQbGFuTmFtZShwbGFuVHlwZTogUGxhblR5cGUpOiBzdHJpbmcge1xuXHRyZXR1cm4gUGxhblR5cGVUb05hbWVbcGxhblR5cGVdLnRvTG93ZXJDYXNlKClcbn1cblxuLyoqIGRvZXMgY3VycmVudCB1c2VyIGhhcyBhbiBhY3RpdmUgKG5vbi1leHBpcmVkKSBBcHBTdG9yZSBzdWJzY3JpcHRpb24/ICovXG5leHBvcnQgZnVuY3Rpb24gaGFzUnVubmluZ0FwcFN0b3JlU3Vic2NyaXB0aW9uKGFjY291bnRpbmdJbmZvOiBBY2NvdW50aW5nSW5mbyk6IGJvb2xlYW4ge1xuXHRyZXR1cm4gZ2V0UGF5bWVudE1ldGhvZFR5cGUoYWNjb3VudGluZ0luZm8pID09PSBQYXltZW50TWV0aG9kVHlwZS5BcHBTdG9yZSAmJiBhY2NvdW50aW5nSW5mby5hcHBTdG9yZVN1YnNjcmlwdGlvbiAhPSBudWxsXG59XG5cbi8qKiBDaGVjayBpZiB0aGUgbGF0ZXN0IHRyYW5zYWN0aW9uIHVzaW5nIHRoZSBjdXJyZW50IFN0b3JlIEFjY291bnQgYmVsb25ncyB0byB0aGUgdXNlciAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5QXBwU3RvcmVTdWJzY3JpcHRpb25Pd25lcnNoaXAodXNlcklkQnl0ZXM6IFVpbnQ4QXJyYXkgfCBudWxsKTogUHJvbWlzZTxNb2JpbGVQYXltZW50U3Vic2NyaXB0aW9uT3duZXJzaGlwPiB7XG5cdHJldHVybiBhd2FpdCBsb2NhdG9yLm1vYmlsZVBheW1lbnRzRmFjYWRlLnF1ZXJ5QXBwU3RvcmVTdWJzY3JpcHRpb25Pd25lcnNoaXAodXNlcklkQnl0ZXMpXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0lBcUJrQixzQ0FBWDtBQUNOO0FBRUE7QUFFQTs7QUFDQTtBQUVNLFNBQVMsZ0JBQWdCQSxhQUFxQ0MsU0FBaUM7QUFDckcsS0FBSSxTQUFTO0VBQ1osSUFBSSxjQUFjLFFBQVEsTUFBTSxLQUFLLENBQUMsU0FBUyxLQUFLLGdCQUFnQixZQUFZO0FBQ2hGLFNBQU8sY0FBYyxPQUFPLFlBQVksYUFBYSxHQUFHO0NBQ3hELE1BQ0EsUUFBTztBQUVSO0FBS00sU0FBUyxtQ0FBbUNDLFVBQW9CQyxjQUE0QkMsYUFBcUM7Q0FDdkksSUFBSSxzQkFBc0Isc0NBQXNDLGFBQWE7QUFFN0UsS0FBSSxTQUFTLFNBQVMsWUFBWSxLQUNqQyxRQUFPLEtBQUssSUFBSSxxQkFBcUIsZ0JBQWdCLHVCQUF1QixTQUFTLFlBQVksQ0FBQztJQUVsRyxRQUFPO0FBRVI7QUFFRCxTQUFTLHNDQUFzQ0QsY0FBb0M7QUFDbEYsUUFBTyxLQUFLLElBQUksT0FBTyxhQUFhLHdCQUF3QixFQUFFLE9BQU8sYUFBYSx5QkFBeUIsQ0FBQztBQUM1RztBQUVNLFNBQVMsbUJBQW1CQyxhQUE2QkMsWUFBd0M7QUFDdkcsUUFBTyxnQkFBZ0IsdUJBQXVCLFlBQVksWUFBWSxLQUFLLEtBQUssV0FBVztBQUMzRjtBQUVNLFNBQVMsZ0JBQWdCRCxhQUE2QkMsWUFBd0M7QUFD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