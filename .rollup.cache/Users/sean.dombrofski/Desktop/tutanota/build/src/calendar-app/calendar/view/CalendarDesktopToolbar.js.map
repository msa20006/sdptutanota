{"version":3,"file":"CalendarDesktopToolbar.js","sourceRoot":"","sources":["../../../../../src/calendar-app/calendar/view/CalendarDesktopToolbar.ts"],"names":[],"mappings":"AAAA,OAAO,EAA4B,kBAAkB,EAAE,MAAM,4BAA4B,CAAA;AACzF,OAAO,CAAiC,MAAM,SAAS,CAAA;AACvD,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,6BAA6B,CAAA;AACtD,OAAO,EAAE,IAAI,EAAoB,MAAM,2CAA2C,CAAA;AAClF,OAAO,EAAE,kBAAkB,EAAE,MAAM,gDAAgD,CAAA;AAEnF,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAA;AACtD,OAAO,EAAE,gBAAgB,EAAE,MAAM,yDAAyD,CAAA;AAS1F,MAAM,OAAO,sBAAsB;IAClC,IAAI,CAAC,EAAE,KAAK,EAAsC;QACjD,MAAM,EAAE,SAAS,EAAE,GAAG,KAAK,CAAA;QAC3B,OAAO,CAAC,CACP,4EAA4E,EAC5E;YACC,KAAK,EAAE;gBACN,UAAU,EAAE,KAAK;gBACjB,YAAY,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC;aACjC;SACD,EACD;YACC,CAAC,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,CAAC;YACxB,CAAC,CAAC,yDAAyD,EAAE,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAC5F,CAAC,CAAC,mBAAmB,EAAE;gBACtB,SAAS,CAAC,IAAI,IAAI,CAAC,CAAC,qBAAqB,CAAC;gBAC1C,CAAC,CACA,OAAO,EACP,CAAC,CAAC,eAAe,EAAE;oBAClB,KAAK,EAAE,KAAK,CAAC,OAAO;iBACpB,CAAC,CACF;gBACD,SAAS,CAAC,OAAO,IAAI,CAAC,CAAC,qBAAqB,CAAC;aAC7C,CAAC;SACF,CACD,CAAA;IACF,CAAC;IAEO,kBAAkB,CAAC,KAAkC;QAC5D,MAAM,kBAAkB,GAAgF;YACvG;gBACC,IAAI,EAAE,kBAAkB,CAAC,gBAAgB,CAAC,MAAM,CAAC;gBACjD,KAAK,EAAE,cAAc;gBACrB,KAAK,EAAE,gBAAgB,CAAC,MAAM;aAC9B;YACD;gBACC,IAAI,EAAE,kBAAkB,CAAC,gBAAgB,CAAC,GAAG,CAAC;gBAC9C,KAAK,EAAE,WAAW;gBAClB,KAAK,EAAE,gBAAgB,CAAC,GAAG;aAC3B;YACD;gBACC,IAAI,EAAE,kBAAkB,CAAC,gBAAgB,CAAC,IAAI,CAAC;gBAC/C,KAAK,EAAE,YAAY;gBACnB,KAAK,EAAE,gBAAgB,CAAC,IAAI;aAC5B;YACD;gBACC,IAAI,EAAE,kBAAkB,CAAC,gBAAgB,CAAC,KAAK,CAAC;gBAChD,KAAK,EAAE,aAAa;gBACpB,KAAK,EAAE,gBAAgB,CAAC,KAAK;aAC7B;SACD,CAAA;QAED,uDAAuD;QACvD,OAAO,CAAC,CACP,eAAe,EACf;YACC,IAAI,EAAE,SAAS;YACf,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,oBAAoB,CAAC;YAC5C,KAAK,EAAE;gBACN,IAAI,EAAE,CAAC;gBACP,KAAK,EAAE,CAAC;gBACR,4CAA4C;gBAC5C,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,iCAAiC,GAAG,CAAC,CAAC;aACrD;SACD,EACD,CAAC,CAAC,kBAAkB,EAAE;YACrB,aAAa,EAAE,KAAK,CAAC,QAAQ;YAC7B,eAAe,EAAE,CAAC,IAAsB,EAAE,EAAE,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC;YAC3E,KAAK,EAAE,kBAAkB;YACzB,YAAY,EAAE,EAAE;SAChB,CAAC,CACF,CAAA;IACF,CAAC;CACD","sourcesContent":["import { CalendarNavConfiguration, getIconForViewType } from \"../gui/CalendarGuiUtils.js\"\nimport m, { Children, Component, Vnode } from \"mithril\"\nimport { px, size } from \"../../../common/gui/size.js\"\nimport { lang, MaybeTranslation } from \"../../../common/misc/LanguageViewModel.js\"\nimport { IconSegmentControl } from \"../../../common/gui/base/IconSegmentControl.js\"\nimport { AllIcons } from \"../../../common/gui/base/Icon.js\"\nimport { TodayIconButton } from \"./TodayIconButton.js\"\nimport { CalendarViewType } from \"../../../common/api/common/utils/CommonCalendarUtils.js\"\n\ntype CalendarDesktopToolbarAttrs = {\n\tnavConfig: CalendarNavConfiguration\n\tviewType: CalendarViewType\n\tonToday: () => unknown\n\tonViewTypeSelected: (viewType: CalendarViewType) => unknown\n}\n\nexport class CalendarDesktopToolbar implements Component<CalendarDesktopToolbarAttrs> {\n\tview({ attrs }: Vnode<CalendarDesktopToolbarAttrs>): Children {\n\t\tconst { navConfig } = attrs\n\t\treturn m(\n\t\t\t\".flex.row.items-center.content-bg.border-radius-big.mlr-l.rel.pr.pl-vpad-m\",\n\t\t\t{\n\t\t\t\tstyle: {\n\t\t\t\t\tmarginLeft: `5px`,\n\t\t\t\t\tmarginBottom: px(size.hpad_large),\n\t\t\t\t},\n\t\t\t},\n\t\t\t[\n\t\t\t\tm(\"h1\", navConfig.title),\n\t\t\t\tm(\".flex.items-center.justify-center.flex-grow.height-100p\", this.renderViewSelector(attrs)),\n\t\t\t\tm(\".flex.pt-xs.pb-xs\", [\n\t\t\t\t\tnavConfig.back ?? m(\".button-width-fixed\"),\n\t\t\t\t\tm(\n\t\t\t\t\t\t\".flex\",\n\t\t\t\t\t\tm(TodayIconButton, {\n\t\t\t\t\t\t\tclick: attrs.onToday,\n\t\t\t\t\t\t}),\n\t\t\t\t\t),\n\t\t\t\t\tnavConfig.forward ?? m(\".button-width-fixed\"),\n\t\t\t\t]),\n\t\t\t],\n\t\t)\n\t}\n\n\tprivate renderViewSelector(attrs: CalendarDesktopToolbarAttrs): Children {\n\t\tconst calendarViewValues: Array<{ icon: AllIcons; label: MaybeTranslation; value: CalendarViewType }> = [\n\t\t\t{\n\t\t\t\ticon: getIconForViewType(CalendarViewType.AGENDA),\n\t\t\t\tlabel: \"agenda_label\",\n\t\t\t\tvalue: CalendarViewType.AGENDA,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: getIconForViewType(CalendarViewType.DAY),\n\t\t\t\tlabel: \"day_label\",\n\t\t\t\tvalue: CalendarViewType.DAY,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: getIconForViewType(CalendarViewType.WEEK),\n\t\t\t\tlabel: \"week_label\",\n\t\t\t\tvalue: CalendarViewType.WEEK,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: getIconForViewType(CalendarViewType.MONTH),\n\t\t\t\tlabel: \"month_label\",\n\t\t\t\tvalue: CalendarViewType.MONTH,\n\t\t\t},\n\t\t]\n\n\t\t// always center the segment control inside the toolbar\n\t\treturn m(\n\t\t\t\".abs.center-h\",\n\t\t\t{\n\t\t\t\trole: \"tablist\",\n\t\t\t\t\"aria-label\": lang.get(\"periodOfTime_label\"),\n\t\t\t\tstyle: {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\t// need explicit width to center the control\n\t\t\t\t\twidth: px(size.icon_segment_control_button_width * 4),\n\t\t\t\t},\n\t\t\t},\n\t\t\tm(IconSegmentControl, {\n\t\t\t\tselectedValue: attrs.viewType,\n\t\t\t\tonValueSelected: (type: CalendarViewType) => attrs.onViewTypeSelected(type),\n\t\t\t\titems: calendarViewValues,\n\t\t\t\tmaxItemWidth: 48,\n\t\t\t}),\n\t\t)\n\t}\n}\n"]}