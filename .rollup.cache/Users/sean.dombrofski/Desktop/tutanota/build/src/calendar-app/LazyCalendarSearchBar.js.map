{"version":3,"file":"LazyCalendarSearchBar.js","sourceRoot":"","sources":["../../../src/calendar-app/LazyCalendarSearchBar.ts"],"names":[],"mappings":"AAAA,OAAO,CAAsC,MAAM,SAAS,CAAA;AAE5D,OAAO,EAAE,UAAU,EAAE,MAAM,uBAAuB,CAAA;AAGlD;;;;GAIG;AACH,MAAM,OAAO,qBAAqB;IACzB,MAAM,CAAC,SAAS,GAAkC,IAAI,UAAU,CAAC,KAAK,IAAI,EAAE;QACnF,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,MAAM,CAAC,wCAAwC,CAAC,CAAA;QAC5E,CAAC,CAAC,MAAM,EAAE,CAAA;QACV,OAAO,SAAS,CAAA;IACjB,CAAC,CAAC,CAAA;IAEF,MAAM,CAAC,KAAkC;QACxC,qBAAqB,CAAC,SAAS,CAAC,IAAI,EAAE,CAAA;IACvC,CAAC;IAED,IAAI,CAAC,KAAkC;QACtC,MAAM,SAAS,GAAG,qBAAqB,CAAC,SAAS,CAAC,OAAO,EAAE,CAAA;QAC3D,IAAI,SAAS,EAAE,CAAC;YACf,OAAO,CAAC,CAAC,SAAS,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;QACjC,CAAC;aAAM,CAAC;YACP,OAAO,IAAI,CAAA;QACZ,CAAC;IACF,CAAC;;AAGF,MAAM,CAAC,MAAM,qBAAqB,GAAG,IAAI,qBAAqB,EAAE,CAAA","sourcesContent":["import m, { Children, ClassComponent, Vnode } from \"mithril\"\nimport type { SearchBarAttrs } from \"../mail-app/search/SearchBar.js\"\nimport { LazyLoaded } from \"@tutao/tutanota-utils\"\nimport { CalendarSearchBar } from \"./calendar/search/CalendarSearchBar.js\"\n\n/**\n * Lazy wrapper around SearchBar which unfortunately resides in the search chunk right now and cannot be imported from some files.\n *\n * Ideally this would be a generic component but it's not simple to implement.\n */\nexport class LazyCalendarSearchBar implements ClassComponent<SearchBarAttrs> {\n\tprivate static searchBar: LazyLoaded<CalendarSearchBar> = new LazyLoaded(async () => {\n\t\tconst { searchBar } = await import(\"./calendar/search/CalendarSearchBar.js\")\n\t\tm.redraw()\n\t\treturn searchBar\n\t})\n\n\toninit(vnode: Vnode<SearchBarAttrs, this>): any {\n\t\tLazyCalendarSearchBar.searchBar.load()\n\t}\n\n\tview(vnode: Vnode<SearchBarAttrs, this>): Children | void | null {\n\t\tconst searchBar = LazyCalendarSearchBar.searchBar.getSync()\n\t\tif (searchBar) {\n\t\t\treturn m(searchBar, vnode.attrs)\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t}\n}\n\nexport const lazyCalendarSearchBar = new LazyCalendarSearchBar()\n"]}