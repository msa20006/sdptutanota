{"version":3,"file":"EditOutOfOfficeNotificationDialog.js","sourceRoot":"","sources":["../../../../src/mail-app/settings/EditOutOfOfficeNotificationDialog.ts"],"names":[],"mappings":"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","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { Dialog } from \"../../common/gui/base/Dialog\"\nimport { getStartOfTheWeekOffsetForUser } from \"../../common/calendar/date/CalendarUtils\"\nimport type { OutOfOfficeNotification } from \"../../common/api/entities/tutanota/TypeRefs.js\"\nimport { TextField } from \"../../common/gui/base/TextField.js\"\nimport { lang } from \"../../common/misc/LanguageViewModel\"\nimport { Keys, OUT_OF_OFFICE_SUBJECT_PREFIX } from \"../../common/api/common/TutanotaConstants\"\nimport { Checkbox } from \"../../common/gui/base/Checkbox.js\"\nimport { px } from \"../../common/gui/size\"\nimport { ButtonType } from \"../../common/gui/base/Button.js\"\nimport { getDefaultNotificationLabel } from \"../../common/misc/OutOfOfficeNotificationUtils\"\nimport { showPlanUpgradeRequiredDialog } from \"../../common/misc/SubscriptionDialogs\"\nimport { DropDownSelector } from \"../../common/gui/base/DropDownSelector.js\"\nimport { showUserError } from \"../../common/misc/ErrorHandlerImpl\"\nimport { locator } from \"../../common/api/main/CommonLocator\"\nimport { EditOutOfOfficeNotificationDialogModel, RecipientMessageType } from \"./EditOutOfOfficeNotificationDialogModel\"\nimport { HtmlEditor } from \"../../common/gui/editor/HtmlEditor\"\nimport { UserError } from \"../../common/api/main/UserError\"\nimport { DatePicker } from \"../../calendar-app/calendar/gui/pickers/DatePicker\"\nimport type { lazy } from \"@tutao/tutanota-utils\"\nimport { ofClass } from \"@tutao/tutanota-utils\"\nimport { DialogHeaderBarAttrs } from \"../../common/gui/base/DialogHeaderBar\"\nimport { UpgradeRequiredError } from \"../../common/api/main/UpgradeRequiredError.js\"\n\nexport function showEditOutOfOfficeNotificationDialog(outOfOfficeNotification: OutOfOfficeNotification | null) {\n\tconst dialogModel = new EditOutOfOfficeNotificationDialogModel(\n\t\toutOfOfficeNotification,\n\t\tlocator.entityClient,\n\t\tlocator.logins.getUserController(),\n\t\tlang,\n\t\tlocator.serviceExecutor,\n\t)\n\tconst organizationMessageEditor = new HtmlEditor(\"message_label\")\n\t\t.setMinHeight(100)\n\t\t.showBorders()\n\t\t.setValue(dialogModel.organizationMessage())\n\t\t.enableToolbar()\n\tconst defaultMessageEditor = new HtmlEditor(\"message_label\").setMinHeight(100).showBorders().setValue(dialogModel.defaultMessage()).enableToolbar()\n\n\tconst saveOutOfOfficeNotification = () => {\n\t\tdialogModel.organizationMessage(organizationMessageEditor.getValue())\n\t\tdialogModel.defaultMessage(defaultMessageEditor.getValue())\n\t\tdialogModel\n\t\t\t.saveOutOfOfficeNotification()\n\t\t\t.then(() => cancel())\n\t\t\t.catch(ofClass(UserError, (e) => showUserError(e)))\n\t\t\t.catch(\n\t\t\t\tofClass(UpgradeRequiredError, (e) => {\n\t\t\t\t\tshowPlanUpgradeRequiredDialog(e.plans)\n\t\t\t\t}),\n\t\t\t)\n\t}\n\n\tfunction cancel() {\n\t\tdialog.close()\n\t}\n\n\tconst dialogHeaderAttrs: DialogHeaderBarAttrs = {\n\t\tleft: [\n\t\t\t{\n\t\t\t\tlabel: \"cancel_action\",\n\t\t\t\tclick: cancel,\n\t\t\t\ttype: ButtonType.Secondary,\n\t\t\t},\n\t\t],\n\t\tright: [\n\t\t\t{\n\t\t\t\tlabel: \"save_action\",\n\t\t\t\tclick: saveOutOfOfficeNotification,\n\t\t\t\ttype: ButtonType.Primary,\n\t\t\t},\n\t\t],\n\t\tmiddle: \"outOfOfficeNotification_title\",\n\t}\n\tconst dialog = Dialog.editDialog(dialogHeaderAttrs, EditOutOfOfficeNotificationDialog, {\n\t\tmodel: dialogModel,\n\t\torganizationMessageEditor,\n\t\tdefaultMessageEditor,\n\t})\n\t\t.addShortcut({\n\t\t\tkey: Keys.ESC,\n\t\t\texec: cancel,\n\t\t\thelp: \"close_alt\",\n\t\t})\n\t\t.addShortcut({\n\t\t\tkey: Keys.S,\n\t\t\tctrlOrCmd: true,\n\t\t\texec: saveOutOfOfficeNotification,\n\t\t\thelp: \"save_action\",\n\t\t})\n\tdialog.show()\n}\n\ntype EditOutOfOfficeNotificationDialogAttrs = {\n\tmodel: EditOutOfOfficeNotificationDialogModel\n\tdefaultMessageEditor: HtmlEditor\n\torganizationMessageEditor: HtmlEditor\n}\n\nclass EditOutOfOfficeNotificationDialog implements Component<EditOutOfOfficeNotificationDialogAttrs> {\n\tview(vnode: Vnode<EditOutOfOfficeNotificationDialogAttrs>): Children {\n\t\tconst { model, defaultMessageEditor, organizationMessageEditor } = vnode.attrs\n\t\tconst defaultEnabled = model.isDefaultMessageEnabled()\n\t\tconst organizationEnabled = model.isOrganizationMessageEnabled()\n\t\tconst startOfTheWeekOffset = getStartOfTheWeekOffsetForUser(locator.logins.getUserController().userSettingsGroupRoot)\n\t\treturn [\n\t\t\tthis.renderEnabled(model),\n\t\t\tthis.renderRecipients(model),\n\t\t\tm(\n\t\t\t\t\".mt.flex-start\",\n\t\t\t\tm(Checkbox, {\n\t\t\t\t\tlabel: () => lang.get(\"outOfOfficeTimeRange_msg\"),\n\t\t\t\t\tchecked: model.timeRangeEnabled(),\n\t\t\t\t\tonChecked: model.timeRangeEnabled,\n\t\t\t\t\thelpLabel: \"outOfOfficeTimeRangeHelp_msg\",\n\t\t\t\t}),\n\t\t\t),\n\t\t\tmodel.timeRangeEnabled() ? this.renderTimeRangeSelector(model, startOfTheWeekOffset) : null,\n\t\t\tm(\".mt-l\", lang.get(\"outOfOfficeUnencrypted_msg\")),\n\t\t\torganizationEnabled ? this.renderOrganizations(model, organizationMessageEditor) : null,\n\t\t\tdefaultEnabled ? this.renderDefault(organizationEnabled, model, defaultMessageEditor) : null,\n\t\t\tm(\".pb\", \"\"),\n\t\t]\n\t}\n\n\tprivate renderEnabled(model: EditOutOfOfficeNotificationDialogModel) {\n\t\tconst statusItems = [\n\t\t\t{ name: lang.get(\"deactivated_label\"), value: false },\n\t\t\t{ name: lang.get(\"activated_label\"), value: true },\n\t\t]\n\t\treturn m(DropDownSelector, {\n\t\t\tlabel: \"state_label\",\n\t\t\titems: statusItems,\n\t\t\tselectedValue: model.enabled(),\n\t\t\tselectionChangedHandler: model.enabled,\n\t\t})\n\t}\n\n\tprivate renderDefault(organizationEnabled: boolean, model: EditOutOfOfficeNotificationDialogModel, defaultMessageEditor: HtmlEditor) {\n\t\treturn [\n\t\t\tm(\".h4.text-center.mt-l\", getDefaultNotificationLabel(organizationEnabled)),\n\t\t\tm(TextField, {\n\t\t\t\tlabel: \"subject_label\",\n\t\t\t\tvalue: model.defaultSubject(),\n\t\t\t\toninput: model.defaultSubject,\n\t\t\t\tinjectionsLeft: () =>\n\t\t\t\t\tm(\n\t\t\t\t\t\t\".flex-no-grow-no-shrink-auto.pr-s\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\"line-height\": px(24),\n\t\t\t\t\t\t\t\topacity: \"1\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tOUT_OF_OFFICE_SUBJECT_PREFIX,\n\t\t\t\t\t),\n\t\t\t}),\n\t\t\tm(defaultMessageEditor),\n\t\t]\n\t}\n\n\tprivate renderOrganizations(model: EditOutOfOfficeNotificationDialogModel, organizationMessageEditor: HtmlEditor) {\n\t\treturn [\n\t\t\tm(\".h4.text-center.mt-l\", lang.get(\"outOfOfficeInternal_msg\")),\n\t\t\tm(TextField, {\n\t\t\t\tlabel: \"subject_label\",\n\t\t\t\tvalue: model.organizationSubject(),\n\t\t\t\toninput: model.organizationSubject,\n\t\t\t\tinjectionsLeft: () =>\n\t\t\t\t\tm(\n\t\t\t\t\t\t\".flex-no-grow-no-shrink-auto.pr-s\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\"line-height\": px(24),\n\t\t\t\t\t\t\t\topacity: \"1\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tOUT_OF_OFFICE_SUBJECT_PREFIX,\n\t\t\t\t\t),\n\t\t\t}),\n\t\t\tm(organizationMessageEditor),\n\t\t]\n\t}\n\n\tprivate renderRecipients(model: EditOutOfOfficeNotificationDialogModel) {\n\t\tconst recipientItems = [\n\t\t\t{ name: lang.get(\"everyone_label\"), value: RecipientMessageType.EXTERNAL_TO_EVERYONE },\n\t\t\t{ name: lang.get(\"insideOutside_label\"), value: RecipientMessageType.INTERNAL_AND_EXTERNAL },\n\t\t\t{ name: lang.get(\"insideOnly_label\"), value: RecipientMessageType.INTERNAL_ONLY },\n\t\t]\n\t\tconst recipientHelpLabel: lazy<string> = () => {\n\t\t\tswitch (model.recipientMessageTypes()) {\n\t\t\t\tcase RecipientMessageType.EXTERNAL_TO_EVERYONE:\n\t\t\t\t\treturn lang.get(\"outOfOfficeRecipientsEveryoneHelp_label\")\n\n\t\t\t\tcase RecipientMessageType.INTERNAL_AND_EXTERNAL:\n\t\t\t\t\treturn lang.get(\"outOfOfficeRecipientsInternalExternalHelp_label\")\n\n\t\t\t\tcase RecipientMessageType.INTERNAL_ONLY:\n\t\t\t\t\treturn lang.get(\"outOfOfficeRecipientsInternalOnlyHelp_label\")\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"\"\n\t\t\t}\n\t\t}\n\n\t\treturn m(DropDownSelector, {\n\t\t\tlabel: \"outOfOfficeRecipients_label\",\n\t\t\titems: recipientItems,\n\t\t\tselectedValue: model.recipientMessageTypes(),\n\t\t\tselectionChangedHandler: model.recipientMessageTypes,\n\t\t\thelpLabel: recipientHelpLabel,\n\t\t})\n\t}\n\n\tprivate renderTimeRangeSelector(model: EditOutOfOfficeNotificationDialogModel, startOfTheWeekOffset: number): Children {\n\t\treturn m(\".flex.col\", [\n\t\t\tm(DatePicker, {\n\t\t\t\tdate: model.startDate(),\n\t\t\t\tonDateSelected: model.startDate,\n\t\t\t\tlabel: \"dateFrom_label\",\n\t\t\t\tnullSelectionText: \"emptyString_msg\",\n\t\t\t\tstartOfTheWeekOffset,\n\t\t\t}),\n\t\t\tm(Checkbox, {\n\t\t\t\tlabel: () => lang.get(\"unlimited_label\"),\n\t\t\t\tchecked: model.indefiniteTimeRange(),\n\t\t\t\tonChecked: model.indefiniteTimeRange,\n\t\t\t}),\n\t\t\t!model.indefiniteTimeRange()\n\t\t\t\t? m(DatePicker, {\n\t\t\t\t\t\tdate: model.endDate(),\n\t\t\t\t\t\tonDateSelected: model.endDate,\n\t\t\t\t\t\tlabel: \"dateTo_label\",\n\t\t\t\t\t\tnullSelectionText: \"emptyString_msg\",\n\t\t\t\t\t\tstartOfTheWeekOffset,\n\t\t\t\t  })\n\t\t\t\t: null,\n\t\t])\n\t}\n}\n"]}