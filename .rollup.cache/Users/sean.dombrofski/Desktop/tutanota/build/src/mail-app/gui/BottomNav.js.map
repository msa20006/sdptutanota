{"version":3,"file":"BottomNav.js","sourceRoot":"","sources":["../../../../src/mail-app/gui/BottomNav.ts"],"names":[],"mappings":"AAAA,OAAO,CAAiC,MAAM,SAAS,CAAA;AACvD,OAAO,EAAE,SAAS,EAAE,MAAM,oCAAoC,CAAA;AAC9D,OAAO,EAAE,IAAI,EAAE,MAAM,uBAAuB,CAAA;AAC5C,OAAO,EAAE,eAAe,EAAE,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,MAAM,+BAA+B,CAAA;AAC5G,OAAO,EAAE,WAAW,EAAE,MAAM,2CAA2C,CAAA;AAEvE,OAAO,EAAE,OAAO,EAAE,MAAM,wCAAwC,CAAA;AAGhE,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAA;AAErC,SAAS,gBAAgB;IACxB,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAA;IAC3B,IAAI,KAAK,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE,CAAC;QACrC,OAAO,KAAK,CAAA;IACb,CAAC;SAAM,IAAI,KAAK,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC;QAC9C,OAAO,iBAAiB,CAAA;IACzB,CAAC;SAAM,IAAI,KAAK,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE,CAAC;QAC9C,OAAO,kBAAkB,CAAA;IAC1B,CAAC;SAAM,CAAC;QACP,OAAO,cAAc,CAAA;IACtB,CAAC;AACF,CAAC;AAED,MAAM,OAAO,SAAS;IACrB,IAAI,CAAC,KAAmB;QACvB,sGAAsG;QACtG,OAAO,CAAC,CAAC,qCAAqC,EAAE;YAC/C,CAAC,CAAC,SAAS,EAAE;gBACZ,KAAK,EAAE,cAAc;gBACrB,IAAI,EAAE,GAAG,EAAE,4BAAe;gBAC1B,IAAI,EAAE,WAAW;gBACjB,QAAQ,EAAE,IAAI;gBACd,QAAQ;aACR,CAAC;YACF,OAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE;gBACtC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;oBACb,KAAK,EAAE,cAAc;oBACrB,IAAI,EAAE,GAAG,EAAE,gCAAiB;oBAC5B,IAAI,EAAE,GAAG,EAAE,CAAC,gBAAgB,EAAE;oBAC9B,gBAAgB,EAAE,aAAa;oBAC/B,QAAQ,EAAE,IAAI;oBACd,QAAQ;iBACP,CAAC;gBACJ,CAAC,CAAC,IAAI;YACP,OAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,eAAe,CAAC;gBAChG,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;oBACb,KAAK,EAAE,gBAAgB;oBACvB,IAAI,EAAE,GAAG,EAAE,oCAAmB;oBAC9B,IAAI,EAAE,GAAG,EAAE,CAAC,eAAe;oBAC3B,gBAAgB,EAAE,eAAe;oBACjC,QAAQ,EAAE,IAAI;oBACd,QAAQ;iBACP,CAAC;gBACJ,CAAC,CAAC,IAAI;YACP,OAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,eAAe,CAAC;gBAChG,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;oBACb,KAAK,EAAE,gBAAgB;oBACvB,IAAI,EAAE,GAAG,EAAE,oCAAmB;oBAC9B,IAAI,EAAE,eAAe;oBACrB,QAAQ,EAAE,IAAI;oBACd,QAAQ;iBACP,CAAC;gBACJ,CAAC,CAAC,IAAI;SACP,CAAC,CAAA;IACH,CAAC;CACD","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { NavButton } from \"../../common/gui/base/NavButton.js\"\nimport { size } from \"../../common/gui/size\"\nimport { CALENDAR_PREFIX, CONTACTS_PREFIX, MAIL_PREFIX, SEARCH_PREFIX } from \"../../common/misc/RouteChange\"\nimport { FeatureType } from \"../../common/api/common/TutanotaConstants\"\nimport { BootIcons } from \"../../common/gui/base/icons/BootIcons\"\nimport { locator } from \"../../common/api/main/CommonLocator.js\"\n\ntype Attrs = void\nconst fontSize = size.font_size_small\n\nfunction getHrefForSearch(): string {\n\tconst route = m.route.get()\n\tif (route.startsWith(SEARCH_PREFIX)) {\n\t\treturn route\n\t} else if (route.startsWith(CONTACTS_PREFIX)) {\n\t\treturn \"/search/contact\"\n\t} else if (route.startsWith(CALENDAR_PREFIX)) {\n\t\treturn \"/search/calendar\"\n\t} else {\n\t\treturn \"/search/mail\"\n\t}\n}\n\nexport class BottomNav implements Component<Attrs> {\n\tview(vnode: Vnode<Attrs>): Children {\n\t\t// Using bottom-nav class too to match it inside media queries like @print, otherwise it's not matched\n\t\treturn m(\"nav.bottom-nav.flex.items-center.z1\", [\n\t\t\tm(NavButton, {\n\t\t\t\tlabel: \"emails_label\",\n\t\t\t\ticon: () => BootIcons.Mail,\n\t\t\t\thref: MAIL_PREFIX,\n\t\t\t\tvertical: true,\n\t\t\t\tfontSize,\n\t\t\t}),\n\t\t\tlocator.logins.isInternalUserLoggedIn()\n\t\t\t\t? m(NavButton, {\n\t\t\t\t\t\tlabel: \"search_label\",\n\t\t\t\t\t\ticon: () => BootIcons.Search,\n\t\t\t\t\t\thref: () => getHrefForSearch(),\n\t\t\t\t\t\tisSelectedPrefix: SEARCH_PREFIX,\n\t\t\t\t\t\tvertical: true,\n\t\t\t\t\t\tfontSize,\n\t\t\t\t  })\n\t\t\t\t: null,\n\t\t\tlocator.logins.isInternalUserLoggedIn() && !locator.logins.isEnabled(FeatureType.DisableContacts)\n\t\t\t\t? m(NavButton, {\n\t\t\t\t\t\tlabel: \"contacts_label\",\n\t\t\t\t\t\ticon: () => BootIcons.Contacts,\n\t\t\t\t\t\thref: () => CONTACTS_PREFIX,\n\t\t\t\t\t\tisSelectedPrefix: CONTACTS_PREFIX,\n\t\t\t\t\t\tvertical: true,\n\t\t\t\t\t\tfontSize,\n\t\t\t\t  })\n\t\t\t\t: null,\n\t\t\tlocator.logins.isInternalUserLoggedIn() && !locator.logins.isEnabled(FeatureType.DisableCalendar)\n\t\t\t\t? m(NavButton, {\n\t\t\t\t\t\tlabel: \"calendar_label\",\n\t\t\t\t\t\ticon: () => BootIcons.Calendar,\n\t\t\t\t\t\thref: CALENDAR_PREFIX,\n\t\t\t\t\t\tvertical: true,\n\t\t\t\t\t\tfontSize,\n\t\t\t\t  })\n\t\t\t\t: null,\n\t\t])\n\t}\n}\n"]}