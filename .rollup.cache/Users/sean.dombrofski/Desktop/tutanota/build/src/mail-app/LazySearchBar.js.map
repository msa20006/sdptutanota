{"version":3,"file":"LazySearchBar.js","sourceRoot":"","sources":["../../../src/mail-app/LazySearchBar.ts"],"names":[],"mappings":"AAAA,OAAO,CAAsC,MAAM,SAAS,CAAA;AAE5D,OAAO,EAAE,UAAU,EAAE,MAAM,uBAAuB,CAAA;AAElD;;;;GAIG;AACH,MAAM,OAAO,aAAa;IACjB,MAAM,CAAC,SAAS,GAA0B,IAAI,UAAU,CAAC,KAAK,IAAI,EAAE;QAC3E,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,MAAM,CAAC,uBAAuB,CAAC,CAAA;QAC3D,CAAC,CAAC,MAAM,EAAE,CAAA;QACV,OAAO,SAAS,CAAA;IACjB,CAAC,CAAC,CAAA;IAEF,MAAM,CAAC,KAAkC;QACxC,aAAa,CAAC,SAAS,CAAC,IAAI,EAAE,CAAA;IAC/B,CAAC;IAED,IAAI,CAAC,KAAkC;QACtC,MAAM,SAAS,GAAG,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,CAAA;QACnD,IAAI,SAAS,EAAE,CAAC;YACf,OAAO,CAAC,CAAC,SAAS,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;QACjC,CAAC;aAAM,CAAC;YACP,OAAO,IAAI,CAAA;QACZ,CAAC;IACF,CAAC;;AAGF,MAAM,CAAC,MAAM,aAAa,GAAG,IAAI,aAAa,EAAE,CAAA","sourcesContent":["import m, { Children, ClassComponent, Vnode } from \"mithril\"\nimport type { SearchBar, SearchBarAttrs } from \"./search/SearchBar.js\"\nimport { LazyLoaded } from \"@tutao/tutanota-utils\"\n\n/**\n * Lazy wrapper around SearchBar which unfortunately resides in the search chunk right now and cannot be imported from some files.\n *\n * Ideally this would be a generic component but it's not simple to implement.\n */\nexport class LazySearchBar implements ClassComponent<SearchBarAttrs> {\n\tprivate static searchBar: LazyLoaded<SearchBar> = new LazyLoaded(async () => {\n\t\tconst { searchBar } = await import(\"./search/SearchBar.js\")\n\t\tm.redraw()\n\t\treturn searchBar\n\t})\n\n\toninit(vnode: Vnode<SearchBarAttrs, this>): any {\n\t\tLazySearchBar.searchBar.load()\n\t}\n\n\tview(vnode: Vnode<SearchBarAttrs, this>): Children | void | null {\n\t\tconst searchBar = LazySearchBar.searchBar.getSync()\n\t\tif (searchBar) {\n\t\t\treturn m(searchBar, vnode.attrs)\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t}\n}\n\nexport const lazySearchBar = new LazySearchBar()\n"]}