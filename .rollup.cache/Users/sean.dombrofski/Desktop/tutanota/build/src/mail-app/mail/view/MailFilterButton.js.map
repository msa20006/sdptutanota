{"version":3,"file":"MailFilterButton.js","sourceRoot":"","sources":["../../../../../src/mail-app/mail/view/MailFilterButton.ts"],"names":[],"mappings":"AAAA,OAAO,CAAsC,MAAM,SAAS,CAAA;AAE5D,OAAO,EAAE,cAAc,EAAE,MAAM,sCAAsC,CAAA;AACrE,OAAO,EAAE,YAAY,EAAE,MAAM,kDAAkD,CAAA;AAE/E,OAAO,EAAE,cAAc,EAAE,MAAM,sBAAsB,CAAA;AAOrD,MAAM,OAAO,gBAAgB;IAC5B,IAAI,CAAC,EAAE,KAAK,EAAgC;QAC3C,OAAO,CAAC,CAAC,YAAY,EAAE;YACtB,IAAI,6BAAc;YAClB,KAAK,EAAE,cAAc;YACrB,OAAO,EAAE,KAAK,CAAC,MAAM,IAAI,IAAI;YAC7B,SAAS,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC;SACxD,CAAC,CAAA;IACH,CAAC;IAEO,YAAY,CAAC,EAAE,MAAM,EAAE,SAAS,EAAyB,EAAE,KAAiB;QACnF,cAAc,CAAC;YACd,WAAW,EAAE,GAAG,EAAE,CAAC;gBAClB;oBACC,QAAQ,EAAE,MAAM,KAAK,cAAc,CAAC,MAAM;oBAC1C,KAAK,EAAE,oBAAoB;oBAC3B,KAAK,EAAE,GAAG,EAAE;wBACX,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAA;oBACjC,CAAC;iBACD;gBACD;oBACC,QAAQ,EAAE,MAAM,KAAK,cAAc,CAAC,IAAI;oBACxC,KAAK,EAAE,kBAAkB;oBACzB,KAAK,EAAE,GAAG,EAAE;wBACX,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;oBAC/B,CAAC;iBACD;gBACD;oBACC,QAAQ,EAAE,MAAM,KAAK,cAAc,CAAC,eAAe;oBACnD,KAAK,EAAE,6BAA6B;oBACpC,KAAK,EAAE,GAAG,EAAE;wBACX,SAAS,CAAC,cAAc,CAAC,eAAe,CAAC,CAAA;oBAC1C,CAAC;iBACD;gBACD;oBACC,KAAK,EAAE,sBAAsB;oBAC7B,KAAK,EAAE,GAAG,EAAE;wBACX,SAAS,CAAC,IAAI,CAAC,CAAA;oBAChB,CAAC;iBACD;aACD;SACD,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,MAAqB,CAAC,CAAA;IACvC,CAAC;CACD","sourcesContent":["import m, { Children, ClassComponent, Vnode } from \"mithril\"\nimport { Icons } from \"../../../common/gui/base/icons/Icons.js\"\nimport { createDropdown } from \"../../../common/gui/base/Dropdown.js\"\nimport { ToggleButton } from \"../../../common/gui/base/buttons/ToggleButton.js\"\n\nimport { MailFilterType } from \"./MailViewerUtils.js\"\n\nexport interface MailFilterButtonAttrs {\n\tfilter: MailFilterType | null\n\tsetFilter: (filter: MailFilterType | null) => unknown\n}\n\nexport class MailFilterButton implements ClassComponent<MailFilterButtonAttrs> {\n\tview({ attrs }: Vnode<MailFilterButtonAttrs>): Children {\n\t\treturn m(ToggleButton, {\n\t\t\ticon: Icons.Filter,\n\t\t\ttitle: \"filter_label\",\n\t\t\ttoggled: attrs.filter != null,\n\t\t\tonToggled: (_, event) => this.showDropdown(attrs, event),\n\t\t})\n\t}\n\n\tprivate showDropdown({ filter, setFilter }: MailFilterButtonAttrs, event: MouseEvent) {\n\t\tcreateDropdown({\n\t\t\tlazyButtons: () => [\n\t\t\t\t{\n\t\t\t\t\tselected: filter === MailFilterType.Unread,\n\t\t\t\t\tlabel: \"filterUnread_label\",\n\t\t\t\t\tclick: () => {\n\t\t\t\t\t\tsetFilter(MailFilterType.Unread)\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tselected: filter === MailFilterType.Read,\n\t\t\t\t\tlabel: \"filterRead_label\",\n\t\t\t\t\tclick: () => {\n\t\t\t\t\t\tsetFilter(MailFilterType.Read)\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tselected: filter === MailFilterType.WithAttachments,\n\t\t\t\t\tlabel: \"filterWithAttachments_label\",\n\t\t\t\t\tclick: () => {\n\t\t\t\t\t\tsetFilter(MailFilterType.WithAttachments)\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"filterAllMails_label\",\n\t\t\t\t\tclick: () => {\n\t\t\t\t\t\tsetFilter(null)\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t})(event, event.target as HTMLElement)\n\t}\n}\n"]}