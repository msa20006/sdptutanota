{"version":3,"file":"WebMailImportSettingsViewer.js","sourceRoot":"","sources":["../../../../src/mail-app/settings/WebMailImportSettingsViewer.ts"],"names":[],"mappings":"AAAA,OAAO,CAAe,MAAM,SAAS,CAAA;AAErC,OAAO,EAAE,IAAI,EAAE,MAAM,qCAAqC,CAAA;AAC1D,OAAO,EAAE,WAAW,EAAmB,MAAM,2CAA2C,CAAA;AAGxF,OAAO,EAAE,WAAW,EAAE,MAAM,mBAAmB,CAAA;AAC/C,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAA;AAE5D;;;GAGG;AACH,MAAM,OAAO,2BAA2B;IACvC,gBAAe,CAAC;IAEhB,IAAI;QACH,OAAO,CAAC,CAAC,mCAAmC,EAAE,CAAC,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC,EAAE,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAA;IACrI,CAAC;IAEO,uBAAuB;QAC9B,OAAO;YACN,CAAC,CACA,iBAAiB,EACjB,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC,EAClD,CAAC,CACA,kBAAkB,EAClB,CAAC,CAAC,WAAW,EAAE;gBACd,IAAI,6CAA2B;gBAC/B,KAAK,EAAE,uCAAuC;gBAC9C,OAAO,EAAE,GAAG,EAAE;oBACb,MAAM,wBAAwB,GAAG,2BAA2B,CAAA;oBAC5D,IAAI,WAAW,EAAE,EAAE,CAAC;wBACnB,IAAI,CAAC,wBAAwB,CAAC,CAAA;oBAC/B,CAAC;yBAAM,CAAC;wBACP,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAC,wBAAwB,CAAC,CAAA;oBAC5D,CAAC;gBACF,CAAC;aACD,CAAC,CACF,EACD,CAAC,CACA,iCAAiC,EACjC,CAAC,CAAC,KAAK,EAAE;gBACR,GAAG,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,iBAAiB,6CAA6C;gBAC5F,GAAG,EAAE,EAAE;gBACP,GAAG,EAAE,YAAY;gBACjB,OAAO,EAAE,MAAM;gBACf,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,6BAA6B;aACpC,CAAC,CACF,CACD;SACD,CAAA;IACF,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,OAAwC,IAAkB,CAAC;CACtF","sourcesContent":["import m, { Children } from \"mithril\"\nimport { lazy } from \"@tutao/tutanota-utils\"\nimport { lang } from \"../../common/misc/LanguageViewModel\"\nimport { LoginButton, LoginButtonType } from \"../../common/gui/base/buttons/LoginButton\"\nimport { UpdatableSettingsViewer } from \"../../common/settings/Interfaces.js\"\nimport { EntityUpdateData } from \"../../common/api/common/utils/EntityUpdateUtils.js\"\nimport { mailLocator } from \"../mailLocator.js\"\nimport { isWebClient } from \"../../common/api/common/Env.js\"\n\n/**\n * Settings viewer for mail import rendered only in the WebApp, Android and iOS.\n * See {@link DesktopMailImportSettingsViewer} for the Desktop client.\n */\nexport class WebMailImportSettingsViewer implements UpdatableSettingsViewer {\n\tconstructor() {}\n\n\tview(): Children {\n\t\treturn m(\".fill-absolute.scroll.plr-l.pb-xl\", [m(\".h4.mt-l\", lang.get(\"mailImportSettings_label\")), this.renderNoImportOnWebText()])\n\t}\n\n\tprivate renderNoImportOnWebText() {\n\t\treturn [\n\t\t\tm(\n\t\t\t\t\".flex-column.mt\",\n\t\t\t\tm(\".p\", lang.get(\"mailImportNoImportOnWeb_label\")),\n\t\t\t\tm(\n\t\t\t\t\t\".flex-start.mt-l\",\n\t\t\t\t\tm(LoginButton, {\n\t\t\t\t\t\ttype: LoginButtonType.FlexWidth,\n\t\t\t\t\t\tlabel: \"mailImportDownloadDesktopClient_label\",\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tconst desktopClientDownloadUri = \"https://tuta.com#download\"\n\t\t\t\t\t\t\tif (isWebClient()) {\n\t\t\t\t\t\t\t\topen(desktopClientDownloadUri)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmailLocator.systemFacade.openLink(desktopClientDownloadUri)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t\tm(\n\t\t\t\t\t\".flex-v-center.full-width.mt-xl\",\n\t\t\t\t\tm(\"img\", {\n\t\t\t\t\t\tsrc: `${window.tutao.appState.prefixWithoutFile}/images/mail-import/email-import-webapp.svg`,\n\t\t\t\t\t\talt: \"\",\n\t\t\t\t\t\trel: \"noreferrer\",\n\t\t\t\t\t\tloading: \"lazy\",\n\t\t\t\t\t\tdecoding: \"async\",\n\t\t\t\t\t\tclass: \"settings-illustration-large\",\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t),\n\t\t]\n\t}\n\n\tasync entityEventsReceived(updates: ReadonlyArray<EntityUpdateData>): Promise<void> {}\n}\n"]}