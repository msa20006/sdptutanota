{"version":3,"file":"GroupInvitationFolderRow.js","sourceRoot":"","sources":["../../../../../src/common/sharing/view/GroupInvitationFolderRow.ts"],"names":[],"mappings":"AAAA,OAAO,CAAiC,MAAM,SAAS,CAAA;AACvD,OAAO,EAAE,IAAI,EAAE,MAAM,gBAAgB,CAAA;AACrC,OAAO,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAA;AACjD,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAA;AAChD,OAAO,EAAE,yBAAyB,EAAE,MAAM,oCAAoC,CAAA;AAI9E,OAAO,EAAE,UAAU,EAAE,MAAM,8BAA8B,CAAA;AACzD,OAAO,EAAE,yBAAyB,EAAE,MAAM,4CAA4C,CAAA;AAOtF,MAAM,OAAO,wBAAwB;IACpC,IAAI,CAAC,KAA2C;QAC/C,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC,KAAK,CAAA;QACxC,OAAO;YACN,CAAC,CAAC,8BAA8B,EAAE;gBACjC,CAAC,CACA,wCAAwC,EACxC;oBACC,KAAK,EAAE;wBACN,sGAAsG;wBACtG,wGAAwG;wBACxG,WAAW,EAAE,eAAe,IAAI,CAAC,aAAa,KAAK;qBACnD;iBACD,EACD;oBACC,CAAC,CACA,kBAAkB,EAClB;wBACC,KAAK,EAAE,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;qBACzD,EACD,UAAU,CAAC,eAAe,CAC1B;oBACD,CAAC,CACA,sBAAsB,EACtB;wBACC,KAAK,EAAE,UAAU,CAAC,kBAAkB;qBACpC,EACD,yBAAyB,CAAC,UAAU,CAAC,WAAW,EAAE,UAAU,CAAC,kBAAkB,EAAE,IAAI,CAAC,CACtF;iBACD,CACD;gBACD,CAAC,CAAC,UAAU,EAAE;oBACb,KAAK,EAAE,aAAa;oBACpB,KAAK,EAAE,GAAG,EAAE,CAAC,yBAAyB,CAAC,UAAU,CAAC;oBAClD,IAAI,EAAE,IAAI,yBAAa;iBACvB,CAAC;aACF,CAAC;SACF,CAAA;IACF,CAAC;CACD","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { size } from \"../../gui/size\"\nimport { getCapabilityText } from \"../GroupUtils\"\nimport { downcast } from \"@tutao/tutanota-utils\"\nimport { showGroupInvitationDialog } from \"./ReceivedGroupInvitationDialog.js\"\nimport { Icons } from \"../../gui/base/icons/Icons\"\nimport type { ReceivedGroupInvitation } from \"../../api/entities/sys/TypeRefs.js\"\nimport type { AllIcons } from \"../../gui/base/Icon\"\nimport { IconButton } from \"../../gui/base/IconButton.js\"\nimport { getMailAddressDisplayText } from \"../../mailFunctionality/SharedMailUtils.js\"\n\nexport type GroupInvitationFolderRowAttrs = {\n\tinvitation: ReceivedGroupInvitation\n\ticon?: AllIcons\n}\n\nexport class GroupInvitationFolderRow implements Component<GroupInvitationFolderRowAttrs> {\n\tview(vnode: Vnode<GroupInvitationFolderRowAttrs>): Children {\n\t\tconst { invitation, icon } = vnode.attrs\n\t\treturn [\n\t\t\tm(\".folder-row.flex-start.plr-l\", [\n\t\t\t\tm(\n\t\t\t\t\t\".flex-v-center.flex-grow.button-height\",\n\t\t\t\t\t{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t// It's kinda hard to tell this element to not eat up all the row and truncate text instead because it\n\t\t\t\t\t\t\t// is vertical flex. With this it will stop at 80% of what it could be and that's enough for the button.\n\t\t\t\t\t\t\t\"max-width\": `calc(100% - ${size.button_height}px)`,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tm(\n\t\t\t\t\t\t\t\".b.text-ellipsis\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: getCapabilityText(downcast(invitation.capability)),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tinvitation.sharedGroupName,\n\t\t\t\t\t\t),\n\t\t\t\t\t\tm(\n\t\t\t\t\t\t\t\".small.text-ellipsis\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle: invitation.inviterMailAddress,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetMailAddressDisplayText(invitation.inviterName, invitation.inviterMailAddress, true),\n\t\t\t\t\t\t),\n\t\t\t\t\t],\n\t\t\t\t),\n\t\t\t\tm(IconButton, {\n\t\t\t\t\ttitle: \"show_action\",\n\t\t\t\t\tclick: () => showGroupInvitationDialog(invitation),\n\t\t\t\t\ticon: icon ?? Icons.Eye,\n\t\t\t\t}),\n\t\t\t]),\n\t\t]\n\t}\n}\n"]}