{"version":3,"file":"sys-v94.js","sourceRoot":"","sources":["../../../../../../../src/common/api/worker/offline/migrations/sys-v94.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,qBAAqB,EAAE,sBAAsB,EAAE,MAAM,0BAA0B,CAAA;AACxF,OAAO,EAAE,WAAW,EAAE,MAAM,wCAAwC,CAAA;AACpE,OAAO,EAAE,kBAAkB,EAAE,mBAAmB,EAAE,WAAW,EAAE,MAAM,mCAAmC,CAAA;AAExG,MAAM,CAAC,MAAM,KAAK,GAAqB;IACtC,GAAG,EAAE,KAAK;IACV,OAAO,EAAE,EAAE;IACX,KAAK,CAAC,OAAO,CAAC,OAAuB;QACpC,0CAA0C;QAC1C,MAAM,qBAAqB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAA;QACjD,MAAM,qBAAqB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAA;QACjD,4DAA4D;QAC5D,MAAM,sBAAsB,CAAC,mBAAmB,EAAE,OAAO,EAAE,CAAC,kBAAkB,CAAC,CAAC,CAAA;IACjF,CAAC;CACD,CAAA","sourcesContent":["import { OfflineMigration } from \"../OfflineStorageMigrator.js\"\nimport { OfflineStorage } from \"../OfflineStorage.js\"\nimport { deleteInstancesOfType, migrateAllListElements } from \"../StandardMigrations.js\"\nimport { MailTypeRef } from \"../../../entities/tutanota/TypeRefs.js\"\nimport { createCustomerInfo, CustomerInfoTypeRef, UserTypeRef } from \"../../../entities/sys/TypeRefs.js\"\n\nexport const sys94: OfflineMigration = {\n\tapp: \"sys\",\n\tversion: 94,\n\tasync migrate(storage: OfflineStorage) {\n\t\t// these are due to the mailbody migration\n\t\tawait deleteInstancesOfType(storage, MailTypeRef)\n\t\tawait deleteInstancesOfType(storage, UserTypeRef)\n\t\t// this is to add the customerInfo.supportInfo field (sys94)\n\t\tawait migrateAllListElements(CustomerInfoTypeRef, storage, [createCustomerInfo])\n\t},\n}\n"]}