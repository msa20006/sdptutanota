{"version":3,"file":"Log.js","sourceRoot":"","sources":["../../../../src/common/misc/Log.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,oBAAoB,EAAE,MAAM,mBAAmB,CAAA;AAExD,oBAAoB,EAAE,CAAA;AAEtB,MAAM,CAAC,MAAM,GAAG,GAAgC;IAC/C,GAAG,EAAE;QACJ,IAAI,EAAE,KAAK;QACX,KAAK,EAAE,QAAQ;KACf;IACD,OAAO,EAAE;QACR,IAAI,EAAE,SAAS;QACf,KAAK,EAAE,WAAW;KAClB;IACD,KAAK,EAAE;QACN,IAAI,EAAE,OAAO;QACb,KAAK,EAAE,KAAK;KACZ;IACD,IAAI,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,KAAK,EAAE,WAAW;KAClB;IACD,KAAK,EAAE;QACN,IAAI,EAAE,OAAO;QACb,KAAK,EAAE,SAAS;KAChB;CACD,CAAA;AACD,MAAM,gBAAgB,GAAkB,EAAE,CAAA;AAE1C,MAAM,UAAU,MAAM,CAAC,GAAgB;IACtC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;AAC3B,CAAC;AAED,MAAM,UAAU,GAAG,CAAC,QAAqB,EAAE,OAAe,EAAE,GAAG,IAAW;IACzE,IAAI,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAAE,OAAM;IACrD,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,QAAQ,GAAG,QAAQ,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,CAAA;AAC/E,CAAC;AAED,MAAM,UAAU,KAAK,CAAC,QAAqB;IAC1C,IAAI,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;QAC/C,OAAO,cAAa,CAAC,CAAA;IACtB,CAAC;IAED,IAAI,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,CAAA;IACpC,OAAO;QACN,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,CAAA;IACpD,CAAC,CAAA;AACF,CAAC","sourcesContent":["import { assertMainOrNodeBoot } from \"../api/common/Env\"\n\nassertMainOrNodeBoot()\ntype LogCategory = Record<string, string>\nexport const Cat: Record<string, LogCategory> = {\n\tcss: {\n\t\tname: \"css\",\n\t\tcolor: \"orange\",\n\t},\n\tmithril: {\n\t\tname: \"mithril\",\n\t\tcolor: \"darkgreen\",\n\t},\n\terror: {\n\t\tname: \"error\",\n\t\tcolor: \"red\",\n\t},\n\tinfo: {\n\t\tname: \"info\",\n\t\tcolor: \"lightblue\",\n\t},\n\tdebug: {\n\t\tname: \"debug\",\n\t\tcolor: \"#009688\",\n\t},\n}\nconst activeCategories: LogCategory[] = []\n\nexport function enable(cat: LogCategory) {\n\tactiveCategories.push(cat)\n}\n\nexport function log(category: LogCategory, message: string, ...args: any[]) {\n\tif (activeCategories.indexOf(category) === -1) return\n\tconsole.log(\"%c\" + category.name, \"color:\" + category.color, message, ...args)\n}\n\nexport function timer(category: LogCategory): (...args: Array<any>) => any {\n\tif (activeCategories.indexOf(category) === -1) {\n\t\treturn function () {}\n\t}\n\n\tlet start = window.performance.now()\n\treturn function () {\n\t\treturn Math.round(window.performance.now() - start)\n\t}\n}\n"]}