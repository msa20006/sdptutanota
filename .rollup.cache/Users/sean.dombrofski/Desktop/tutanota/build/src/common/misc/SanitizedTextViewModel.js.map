{"version":3,"file":"SanitizedTextViewModel.js","sourceRoot":"","sources":["../../../../src/common/misc/SanitizedTextViewModel.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,IAAI,EAAE,MAAM,uBAAuB,CAAA;AAE5C,MAAM,OAAO,sBAAsB;IAGd;IAA+B;IAA2C;IAFtF,aAAa,GAAkB,IAAI,CAAA;IAE3C,YAAoB,IAAY,EAAmB,SAAwB,EAAmB,mBAA+B,IAAI;QAA7G,SAAI,GAAJ,IAAI,CAAQ;QAAmB,cAAS,GAAT,SAAS,CAAe;QAAmB,qBAAgB,GAAhB,gBAAgB,CAAmB;IAAG,CAAC;IAErI,IAAI,OAAO,CAAC,CAAS;QACpB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAA;QACzB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAA;QACb,IAAI,CAAC,gBAAgB,EAAE,CAAA;IACxB,CAAC;IAED,IAAI,OAAO;QACV,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE,CAAC;YAChC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,oBAAoB,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,CAAA;QAClG,CAAC;QACD,OAAO,IAAI,CAAC,aAAa,CAAA;IAC1B,CAAC;CACD","sourcesContent":["import type { HtmlSanitizer } from \"./HtmlSanitizer.js\"\nimport { noOp } from \"@tutao/tutanota-utils\"\n\nexport class SanitizedTextViewModel {\n\tprivate sanitizedText: string | null = null\n\n\tconstructor(private text: string, private readonly sanitizer: HtmlSanitizer, private readonly uiUpdateCallback: () => void = noOp) {}\n\n\tset content(v: string) {\n\t\tthis.sanitizedText = null\n\t\tthis.text = v\n\t\tthis.uiUpdateCallback()\n\t}\n\n\tget content(): string {\n\t\tif (this.sanitizedText == null) {\n\t\t\tthis.sanitizedText = this.sanitizer.sanitizeHTML(this.text, { blockExternalContent: false }).html\n\t\t}\n\t\treturn this.sanitizedText\n\t}\n}\n"]}