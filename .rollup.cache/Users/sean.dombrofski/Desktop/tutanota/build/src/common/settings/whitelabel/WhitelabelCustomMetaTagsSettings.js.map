{"version":3,"file":"WhitelabelCustomMetaTagsSettings.js","sourceRoot":"","sources":["../../../../../src/common/settings/whitelabel/WhitelabelCustomMetaTagsSettings.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAiB,MAAM,6BAA6B,CAAA;AACtE,OAAO,EAAE,MAAM,EAAE,MAAM,uBAAuB,CAAA;AAC9C,OAAO,EAAE,IAAI,EAAE,MAAM,8BAA8B,CAAA;AACnD,OAAO,CAAiC,MAAM,SAAS,CAAA;AAEvD,OAAO,EAAE,UAAU,EAAE,MAAM,8BAA8B,CAAA;AAQzD,MAAM,OAAO,gCAAgC;IAC5C,IAAI,CAAC,KAAmD;QACvD,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,GAAG,KAAK,CAAC,KAAK,CAAA;QACnD,MAAM,qBAAqB,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAA;QACjD,OAAO,CAAC,CAAC,SAAS,EAAE;YACnB,KAAK,EAAE,sBAAsB;YAC7B,KAAK,EAAE,qBAAqB,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC;YAC1F,UAAU,EAAE,IAAI;YAChB,eAAe,EAAE,GAAG,EAAE,CACrB,iBAAiB;gBAChB,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE;oBACd,KAAK,EAAE,aAAa;oBACpB,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,QAAQ,EAAE,iBAAiB,CAAC;oBACrE,IAAI,yBAAY;oBAChB,IAAI,4BAAoB;iBACvB,CAAC;gBACJ,CAAC,CAAC,IAAI;SACR,CAAC,CAAA;IACH,CAAC;IAEO,sBAAsB,CAAC,QAAgB,EAAE,iBAA4C;QAC5F,IAAI,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC;YACpC,KAAK,EAAE,sBAAsB;YAC7B,KAAK,EAAE;gBACN,IAAI,EAAE,GAAG,EAAE,CACV,CAAC,CAAC,SAAS,EAAE;oBACZ,KAAK,EAAE,sBAAsB;oBAC7B,KAAK,EAAE,QAAQ;oBACf,IAAI,iCAAoB;oBACxB,OAAO,EAAE,CAAC,KAAa,EAAE,EAAE;wBAC1B,QAAQ,GAAG,KAAK,CAAA;oBACjB,CAAC;iBACD,CAAC;aACH;YACD,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE;gBAChB,IAAI,EAAE,EAAE,CAAC;oBACR,iBAAiB,CAAC,QAAQ,CAAC,CAAA;oBAC3B,MAAM,CAAC,KAAK,EAAE,CAAA;gBACf,CAAC;YACF,CAAC;SACD,CAAC,CAAA;IACH,CAAC;CACD","sourcesContent":["import { TextField, TextFieldType } from \"../../gui/base/TextField.js\"\nimport { Dialog } from \"../../gui/base/Dialog\"\nimport { lang } from \"../../misc/LanguageViewModel\"\nimport m, { Children, Component, Vnode } from \"mithril\"\nimport { Icons } from \"../../gui/base/icons/Icons\"\nimport { IconButton } from \"../../gui/base/IconButton.js\"\nimport { ButtonSize } from \"../../gui/base/ButtonSize.js\"\n\nexport type WhitelabelCustomMetaTagsSettingsAttrs = {\n\tmetaTags: string\n\tonMetaTagsChanged: ((tags: string) => unknown) | null\n}\n\nexport class WhitelabelCustomMetaTagsSettings implements Component<WhitelabelCustomMetaTagsSettingsAttrs> {\n\tview(vnode: Vnode<WhitelabelCustomMetaTagsSettingsAttrs>): Children {\n\t\tconst { metaTags, onMetaTagsChanged } = vnode.attrs\n\t\tconst customMetaTagsDefined = metaTags.length > 0\n\t\treturn m(TextField, {\n\t\t\tlabel: \"customMetaTags_label\",\n\t\t\tvalue: customMetaTagsDefined ? lang.get(\"activated_label\") : lang.get(\"deactivated_label\"),\n\t\t\tisReadOnly: true,\n\t\t\tinjectionsRight: () =>\n\t\t\t\tonMetaTagsChanged\n\t\t\t\t\t? m(IconButton, {\n\t\t\t\t\t\t\ttitle: \"edit_action\",\n\t\t\t\t\t\t\tclick: () => this.showEditMetaTagsDialog(metaTags, onMetaTagsChanged),\n\t\t\t\t\t\t\ticon: Icons.Edit,\n\t\t\t\t\t\t\tsize: ButtonSize.Compact,\n\t\t\t\t\t  })\n\t\t\t\t\t: null,\n\t\t})\n\t}\n\n\tprivate showEditMetaTagsDialog(metaTags: string, onMetaTagsChanged: (tags: string) => unknown) {\n\t\tlet dialog = Dialog.showActionDialog({\n\t\t\ttitle: \"customMetaTags_label\",\n\t\t\tchild: {\n\t\t\t\tview: () =>\n\t\t\t\t\tm(TextField, {\n\t\t\t\t\t\tlabel: \"customMetaTags_label\",\n\t\t\t\t\t\tvalue: metaTags,\n\t\t\t\t\t\ttype: TextFieldType.Area,\n\t\t\t\t\t\toninput: (value: string) => {\n\t\t\t\t\t\t\tmetaTags = value\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t},\n\t\t\tokAction: (ok) => {\n\t\t\t\tif (ok) {\n\t\t\t\t\tonMetaTagsChanged(metaTags)\n\t\t\t\t\tdialog.close()\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t}\n}\n"]}