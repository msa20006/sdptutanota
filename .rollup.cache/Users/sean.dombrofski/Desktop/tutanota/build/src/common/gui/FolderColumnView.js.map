{"version":3,"file":"FolderColumnView.js","sourceRoot":"","sources":["../../../../src/common/gui/FolderColumnView.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAmB,MAAM,qBAAqB,CAAA;AACjE,OAAO,EAAE,KAAK,EAAE,MAAM,YAAY,CAAA;AAClC,OAAO,CAAiC,MAAM,SAAS,CAAA;AAEvD,OAAO,EAAE,IAAI,EAAE,MAAM,8BAA8B,CAAA;AACnD,OAAO,EAAiB,aAAa,EAAE,MAAM,gBAAgB,CAAA;AAG7D,OAAO,EAAE,gBAAgB,EAAE,MAAM,uBAAuB,CAAA;AAUxD,MAAM,OAAO,gBAAgB;IAC5B,IAAI,CAAC,EAAE,KAAK,EAAgB;QAC3B,OAAO,CAAC,CAAC,0BAA0B,EAAE;YACpC,CAAC,CAAC,UAAU,EAAE,KAAK,CAAC,MAAM,CAAC;YAC3B,CAAC,CAAC,qDAAqD,EAAE,aAAa,8CAA2B,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE;gBAC3I,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;gBAC5B,CAAC,CACA,oGAAoG,EACpG;oBACC,QAAQ,EAAE,CAAC,CAAqB,EAAE,EAAE;wBACnC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAA;wBAChB,MAAM,MAAM,GAAG,CAAC,CAAC,MAAqB,CAAA;wBACtC,IAAI,KAAK,CAAC,MAAM,IAAI,IAAI,IAAI,MAAM,CAAC,SAAS,KAAK,CAAC,EAAE,CAAC;4BACpD,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG,EAAE,CAAA;wBAC5B,CAAC;6BAAM,CAAC;4BACP,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG,aAAa,KAAK,CAAC,cAAc,EAAE,CAAA;wBAC7D,CAAC;oBACF,CAAC;iBACD,EACD,KAAK,CAAC,OAAO,CACb;aACD,CAAC;SACF,CAAC,CAAA;IACH,CAAC;IAEO,gBAAgB,CAAC,KAAY;QACpC,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;YAClB,OAAO,CAAC,CACP,+DAA+D,EAC/D,CAAC,CAAC,gBAAgB,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAC7E,CAAA;QACF,CAAC;aAAM,CAAC;YACP,OAAO,IAAI,CAAA;QACZ,CAAC;IACF,CAAC;CACD","sourcesContent":["import { DrawerMenu, DrawerMenuAttrs } from \"./nav/DrawerMenu.js\"\nimport { theme } from \"./theme.js\"\nimport m, { Children, Component, Vnode } from \"mithril\"\nimport type { TranslationKey, MaybeTranslation } from \"../misc/LanguageViewModel.js\"\nimport { lang } from \"../misc/LanguageViewModel.js\"\nimport { AriaLandmarks, landmarkAttrs } from \"./AriaUtils.js\"\nimport type { ClickHandler } from \"./base/GuiUtils.js\"\nimport type { lazy } from \"@tutao/tutanota-utils\"\nimport { MainCreateButton } from \"./MainCreateButton.js\"\n\nexport type Attrs = {\n\t/** Button to be displayed on top of the column*/\n\tbutton: { label: TranslationKey; click: ClickHandler } | null | undefined\n\tcontent: Children\n\tariaLabel: MaybeTranslation\n\tdrawer: DrawerMenuAttrs\n}\n\nexport class FolderColumnView implements Component<Attrs> {\n\tview({ attrs }: Vnode<Attrs>): Children {\n\t\treturn m(\".flex.height-100p.nav-bg\", [\n\t\t\tm(DrawerMenu, attrs.drawer),\n\t\t\tm(\".folder-column.flex-grow.overflow-x-hidden.flex.col\", landmarkAttrs(AriaLandmarks.Navigation, lang.getTranslationText(attrs.ariaLabel)), [\n\t\t\t\tthis.renderMainButton(attrs),\n\t\t\t\tm(\n\t\t\t\t\t\".scroll.scrollbar-gutter-stable-or-fallback.visible-scrollbar.overflow-x-hidden.flex.col.flex-grow\",\n\t\t\t\t\t{\n\t\t\t\t\t\tonscroll: (e: EventRedraw<Event>) => {\n\t\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\t\tconst target = e.target as HTMLElement\n\t\t\t\t\t\t\tif (attrs.button == null || target.scrollTop === 0) {\n\t\t\t\t\t\t\t\ttarget.style.borderTop = \"\"\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.style.borderTop = `1px solid ${theme.content_border}`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tattrs.content,\n\t\t\t\t),\n\t\t\t]),\n\t\t])\n\t}\n\n\tprivate renderMainButton(attrs: Attrs): Children {\n\t\tif (attrs.button) {\n\t\t\treturn m(\n\t\t\t\t\".plr-button-double.scrollbar-gutter-stable-or-fallback.scroll\",\n\t\t\t\tm(MainCreateButton, { label: attrs.button.label, click: attrs.button.click }),\n\t\t\t)\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t}\n}\n"]}