{"version":3,"file":"EmailSupportUnavailablePage.js","sourceRoot":"","sources":["../../../../../src/common/support/pages/EmailSupportUnavailablePage.ts"],"names":[],"mappings":"AAAA,OAAO,CAAiC,MAAM,SAAS,CAAA;AAEvD,OAAO,EAAE,UAAU,EAAE,MAAM,sCAAsC,CAAA;AACjE,OAAO,EAAE,iBAAiB,EAAE,MAAM,+BAA+B,CAAA;AACjE,OAAO,EAAE,IAAI,EAAE,MAAM,wBAAwB,CAAA;AAC7C,OAAO,EAAE,aAAa,EAAE,MAAM,yCAAyC,CAAA;AACvE,OAAO,EAAE,YAAY,EAAE,MAAM,4BAA4B,CAAA;AACzD,OAAO,EAAE,OAAO,EAAE,MAAM,iCAAiC,CAAA;AAEzD,OAAO,EAAE,IAAI,EAAE,MAAM,iCAAiC,CAAA;AAOtD,MAAM,OAAO,2BAA2B;IACvC,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,EAAuC;QACpF,OAAO,CAAC,CACP,QAAQ,EACR,CAAC,CACA,IAAI,EACJ,EAAE,YAAY,EAAE,IAAI,EAAE,EACtB,CAAC,CAAC,mBAAmB,EAAE;YACtB,CAAC,CAAC,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;YACxD,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;YAC9C,CAAC,CAAC,WAAW,EAAE;gBACd,GAAG,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,iBAAiB,oCAAoC;gBACnF,GAAG,EAAE,EAAE;gBACP,GAAG,EAAE,YAAY;gBACjB,OAAO,EAAE,MAAM;gBACf,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE;oBACN,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,MAAM;iBACb;aACD,CAAC;SACF,CAAC,EACF,CAAC,CAAC,aAAa,EAAE;YAChB,IAAI,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,EAAE;YACtC,aAAa,EAAE,CAAC,CAAC,KAAK,EAAE;gBACvB,GAAG,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,iBAAiB,8BAA8B;gBAC7E,GAAG,EAAE,eAAe;gBACpB,GAAG,EAAE,YAAY;gBACjB,OAAO,EAAE,MAAM;gBACf,QAAQ,EAAE,OAAO;gBACjB,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE;aACxD,CAAC;YACF,SAAS,EAAE,EAAE,IAAI,yBAAY,EAAE,KAAK,EAAE,WAAW,EAAE;YACnD,OAAO,EAAE,GAAG,EAAE;gBACb,YAAY,CAAC,QAAQ,CAAC,0BAA0B,CAAC,CAAA;YAClD,CAAC;SACD,CAAC,CACF,EACD,CAAC,CACA,cAAc,EACd,CAAC,CAAC,UAAU,EAAE;YACb,KAAK,EAAE,gBAAgB;YACvB,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC;YAChC,KAAK,EAAE,2EAA2E;YAClF,OAAO,EAAE,KAAK,IAAI,EAAE;gBACnB,MAAM,iBAAiB,EAAE,CAAA;gBAEzB,MAAM,aAAa,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,aAAa,EAAE,CAAA;gBAEzE,IAAI,aAAa,EAAE,CAAC;oBACnB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAA;oBAC/B,UAAU,CAAC,GAAG,EAAE;wBACf,sBAAsB,EAAE,CAAA;oBACzB,CAAC,EAAE,IAAI,CAAC,CAAA;gBACT,CAAC;YACF,CAAC;YACD,QAAQ,EAAE,KAAK;SACf,CAAC,CACF,CACD,CAAA;IACF,CAAC;CACD","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { Icons } from \"../../gui/base/icons/Icons.js\"\nimport { BaseButton } from \"../../gui/base/buttons/BaseButton.js\"\nimport { showUpgradeDialog } from \"../../gui/nav/NavFunctions.js\"\nimport { Card } from \"../../gui/base/Card.js\"\nimport { SectionButton } from \"../../gui/base/buttons/SectionButton.js\"\nimport { windowFacade } from \"../../misc/WindowFacade.js\"\nimport { locator } from \"../../api/main/CommonLocator.js\"\nimport { SupportDialogState } from \"../SupportDialog.js\"\nimport { lang } from \"../../misc/LanguageViewModel.js\"\n\ntype EmailSupportUnavailableAttrs = {\n\tdata: SupportDialogState\n\tgoToContactSupportPage: () => void\n}\n\nexport class EmailSupportUnavailablePage implements Component<EmailSupportUnavailableAttrs> {\n\tview({ attrs: { data, goToContactSupportPage } }: Vnode<EmailSupportUnavailableAttrs>): Children {\n\t\treturn m(\n\t\t\t\".pt.pb\",\n\t\t\tm(\n\t\t\t\tCard,\n\t\t\t\t{ shouldDivide: true },\n\t\t\t\tm(\"div.pt-s.pb-s.plr\", [\n\t\t\t\t\tm(\".h4.mt-xs\", lang.get(\"supportNoDirectSupport_title\")),\n\t\t\t\t\tm(\"p\", lang.get(\"supportNoDirectSupport_msg\")),\n\t\t\t\t\tm(\"img.block\", {\n\t\t\t\t\t\tsrc: `${window.tutao.appState.prefixWithoutFile}/images/leaving-wizard/account.png`,\n\t\t\t\t\t\talt: \"\",\n\t\t\t\t\t\trel: \"noreferrer\",\n\t\t\t\t\t\tloading: \"lazy\",\n\t\t\t\t\t\tdecoding: \"async\",\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tmargin: \"0 auto\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t]),\n\t\t\t\tm(SectionButton, {\n\t\t\t\t\ttext: { text: \"Tuta FAQ\", testId: \"\" },\n\t\t\t\t\tinjectionLeft: m(\"img\", {\n\t\t\t\t\t\tsrc: `${window.tutao.appState.prefixWithoutFile}/images/logo-favicon-152.png`,\n\t\t\t\t\t\talt: \"Tuta.com logo\",\n\t\t\t\t\t\trel: \"noreferrer\",\n\t\t\t\t\t\tloading: \"lazy\",\n\t\t\t\t\t\tdecoding: \"async\",\n\t\t\t\t\t\tstyle: { width: \"20px\", height: \"20px\", padding: \"2px\" },\n\t\t\t\t\t}),\n\t\t\t\t\trightIcon: { icon: Icons.Open, title: \"close_alt\" },\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\twindowFacade.openLink(\"https://tuta.com/support\")\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t),\n\t\t\tm(\n\t\t\t\t\".mt-l.center\",\n\t\t\t\tm(BaseButton, {\n\t\t\t\t\tlabel: \"upgrade_action\",\n\t\t\t\t\ttext: lang.get(\"upgrade_action\"),\n\t\t\t\t\tclass: `button-content border-radius accent-bg center plr-button flash full-width`,\n\t\t\t\t\tonclick: async () => {\n\t\t\t\t\t\tawait showUpgradeDialog()\n\n\t\t\t\t\t\tconst isPaidPlanNow = !locator.logins.getUserController().isFreeAccount()\n\n\t\t\t\t\t\tif (isPaidPlanNow) {\n\t\t\t\t\t\t\tdata.canHaveEmailSupport = true\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tgoToContactSupportPage()\n\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdisabled: false,\n\t\t\t\t}),\n\t\t\t),\n\t\t)\n\t}\n}\n"]}