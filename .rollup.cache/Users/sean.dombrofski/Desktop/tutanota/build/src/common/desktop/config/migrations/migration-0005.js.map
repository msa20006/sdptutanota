{"version":3,"file":"migration-0005.js","sourceRoot":"","sources":["../../../../../../src/common/desktop/config/migrations/migration-0005.ts"],"names":[],"mappings":"AAGA,KAAK,UAAU,iBAAiB,CAAC,SAAiB,EAAE,QAAyB;IAC5E,MAAM,WAAW,GAAG,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC,CAAA;IACjF,MAAM,mBAAmB,GAAG,SAAS,CAAC,UAAU,KAAK,IAAI,CAAA;IACzD,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE;QACxB,oBAAoB,EAAE,CAAC;QACvB,UAAU,EAAE,mBAAmB,IAAI,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;KACjE,CAAC,CAAA;AACH,CAAC;AAED,MAAM,CAAC,MAAM,aAAa,GAAG,iBAAiB,CAAA;AAC9C,MAAM,CAAC,MAAM,YAAY,GAAG,iBAAiB,CAAA","sourcesContent":["import type { Config } from \"../ConfigCommon\"\nimport type { ElectronExports } from \"./DesktopConfigMigrator\"\n\nasync function migrateSpellcheck(oldConfig: Config, electron: ElectronExports): Promise<void> {\n\tconst currentLang = electron.session.defaultSession.getSpellCheckerLanguages()[0]\n\tconst spellcheckActivated = oldConfig.spellcheck === true\n\tObject.assign(oldConfig, {\n\t\tdesktopConfigVersion: 5,\n\t\tspellcheck: spellcheckActivated && currentLang ? currentLang : \"\",\n\t})\n}\n\nexport const migrateClient = migrateSpellcheck\nexport const migrateAdmin = migrateSpellcheck\n"]}