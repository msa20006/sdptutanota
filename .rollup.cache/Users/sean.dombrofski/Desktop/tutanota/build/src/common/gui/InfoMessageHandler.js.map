{"version":3,"file":"InfoMessageHandler.js","sourceRoot":"","sources":["../../../../src/common/gui/InfoMessageHandler.ts"],"names":[],"mappings":"AAAA,OAAO,CAAC,MAAM,SAAS,CAAA;AACvB,OAAO,EAAE,IAAI,IAAI,uBAAuB,EAAE,MAAM,4BAA4B,CAAA;AAC5E,OAAO,EAAE,IAAI,EAAkB,MAAM,2BAA2B,CAAA;AAChE,OAAO,EAAE,gBAAgB,EAAE,MAAM,mBAAmB,CAAA;AAGpD,gBAAgB,EAAE,CAAA;AAOlB,MAAM,OAAO,kBAAkB;IACD;IAA7B,YAA6B,sBAA6D;QAA7D,2BAAsB,GAAtB,sBAAsB,CAAuC;IAAG,CAAC;IAE9F,KAAK,CAAC,aAAa,CAAC,OAAoB;QACvC,uBAAuB,CACtB;YACC,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;SACjE,EACD;YACC,KAAK,EAAE,WAAW;SAClB,EACD,EAAE,CACF,CAAA;IACF,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,KAA2B;QACzD,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAA;IACnC,CAAC;CACD","sourcesContent":["import m from \"mithril\"\nimport { show as showNotificationOverlay } from \"./base/NotificationOverlay\"\nimport { lang, TranslationKey } from \"../misc/LanguageViewModel\"\nimport { assertMainOrNode } from \"../api/common/Env\"\nimport { SearchIndexStateInfo } from \"../api/worker/search/SearchTypes.js\"\n\nassertMainOrNode()\n\nexport interface InfoMessage {\n\ttranslationKey: TranslationKey\n\targs: Record<string, any>\n}\n\nexport class InfoMessageHandler {\n\tconstructor(private readonly handleIndexStateUpdate: (state: SearchIndexStateInfo) => void) {}\n\n\tasync onInfoMessage(message: InfoMessage): Promise<void> {\n\t\tshowNotificationOverlay(\n\t\t\t{\n\t\t\t\tview: () => m(\"\", lang.get(message.translationKey, message.args)),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"close_alt\",\n\t\t\t},\n\t\t\t[],\n\t\t)\n\t}\n\n\tasync onSearchIndexStateUpdate(state: SearchIndexStateInfo): Promise<void> {\n\t\tthis.handleIndexStateUpdate(state)\n\t}\n}\n"]}