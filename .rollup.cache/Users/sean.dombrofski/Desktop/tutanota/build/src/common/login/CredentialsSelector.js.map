{"version":3,"file":"CredentialsSelector.js","sourceRoot":"","sources":["../../../../src/common/login/CredentialsSelector.ts"],"names":[],"mappings":"AAAA,OAAO,CAAiC,MAAM,SAAS,CAAA;AACvD,OAAO,EAAE,MAAM,EAAc,MAAM,uBAAuB,CAAA;AAC1D,OAAO,EAAE,WAAW,EAAE,MAAM,oCAAoC,CAAA;AAEhE,OAAO,EAAE,IAAI,EAAE,MAAM,8BAA8B,CAAA;AASnD,MAAM,OAAO,mBAAmB;IAC/B,IAAI,CAAC,KAAsC;QAC1C,MAAM,CAAC,GAAG,KAAK,CAAC,KAAK,CAAA;QACrB,OAAO,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YAC9B,MAAM,OAAO,GAAa,EAAE,CAAA;YAC5B,MAAM,oBAAoB,GAAG,CAAC,CAAC,oBAAoB,CAAA;YACnD,OAAO,CAAC,IAAI,CACX,CAAC,CAAC,WAAW,EAAE;gBACd,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,CAAC;gBACnD,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;aACzC,CAAC,CACF,CAAA;YAED,IAAI,oBAAoB,EAAE,CAAC;gBAC1B,OAAO,CAAC,IAAI,CACX,CAAC,CAAC,MAAM,EAAE;oBACT,KAAK,EAAE,eAAe;oBACtB,KAAK,EAAE,GAAG,EAAE,CAAC,oBAAoB,CAAC,CAAC,CAAC;oBACpC,IAAI,wCAAsB;iBAC1B,CAAC,CACF,CAAA;YACF,CAAC;YAED,OAAO,CAAC,CAAC,oDAAoD,EAAE,OAAO,CAAC,CAAA;QACxE,CAAC,CAAC,CAAA;IACH,CAAC;CACD","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { Button, ButtonType } from \"../gui/base/Button.js\"\nimport { LoginButton } from \"../gui/base/buttons/LoginButton.js\"\nimport { CredentialsInfo } from \"../native/common/generatedipc/CredentialsInfo.js\"\nimport { lang } from \"../misc/LanguageViewModel.js\"\n\nexport type CredentialsSelectorAttrs = {\n\tcredentials: ReadonlyArray<CredentialsInfo>\n\tonCredentialsSelected: (arg0: CredentialsInfo) => unknown\n\t// will show the delete options if this is provided\n\tonCredentialsDeleted?: ((arg0: CredentialsInfo) => void) | null\n}\n\nexport class CredentialsSelector implements Component<CredentialsSelectorAttrs> {\n\tview(vnode: Vnode<CredentialsSelectorAttrs>): Children {\n\t\tconst a = vnode.attrs\n\t\treturn a.credentials.map((c) => {\n\t\t\tconst buttons: Children = []\n\t\t\tconst onCredentialsDeleted = a.onCredentialsDeleted\n\t\t\tbuttons.push(\n\t\t\t\tm(LoginButton, {\n\t\t\t\t\tlabel: lang.makeTranslation(\"login_label\", c.login),\n\t\t\t\t\tonclick: () => a.onCredentialsSelected(c),\n\t\t\t\t}),\n\t\t\t)\n\n\t\t\tif (onCredentialsDeleted) {\n\t\t\t\tbuttons.push(\n\t\t\t\t\tm(Button, {\n\t\t\t\t\t\tlabel: \"delete_action\",\n\t\t\t\t\t\tclick: () => onCredentialsDeleted(c),\n\t\t\t\t\t\ttype: ButtonType.Secondary,\n\t\t\t\t\t}),\n\t\t\t\t)\n\t\t\t}\n\n\t\t\treturn m(\".flex-space-between.pt.child-grow.last-child-fixed\", buttons)\n\t\t})\n\t}\n}\n"]}