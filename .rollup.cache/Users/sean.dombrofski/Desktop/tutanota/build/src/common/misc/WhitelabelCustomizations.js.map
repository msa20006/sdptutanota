{"version":3,"file":"WhitelabelCustomizations.js","sourceRoot":"","sources":["../../../../src/common/misc/WhitelabelCustomizations.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,oBAAoB,EAAE,MAAM,mBAAmB,CAAA;AAGxD,oBAAoB,EAAE,CAAA;AAetB;;;GAGG;AACH,MAAM,UAAU,2BAA2B,CAAC,MAAc;IACzD,aAAa;IACb,OAAO,MAAM,CAAC,wBAAwB,CAAA;AACvC,CAAC;AAED,MAAM,UAAU,sBAAsB,CAAC,gBAAkC;IACxE,OAAO,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;AAC7F,CAAC","sourcesContent":["import type { BaseThemeId, Theme } from \"../gui/theme\"\nimport { assertMainOrNodeBoot } from \"../api/common/Env\"\nimport type { WhitelabelConfig } from \"../api/entities/sys/TypeRefs.js\"\n\nassertMainOrNodeBoot()\nexport type ThemeCustomizations = Partial<Theme> & {\n\tbase: BaseThemeId | null\n}\nexport type ThemeKey = keyof Theme\nexport type CustomizationKey = keyof ThemeCustomizations\n\nexport type WhitelabelCustomizations = {\n\ttheme: ThemeCustomizations | null\n\tgermanLanguageCode: string\n\tregistrationDomains: string[] | null\n\timprintUrl: string | null\n\tprivacyStatementUrl: string | null\n}\n\n/**\n * window.whitelabelCustomizations is defined when the user has logged in via a whitelabel domain. index.js is rewritten to have the definition\n * this happens at WhitelabelResourceRewriter.java\n */\nexport function getWhitelabelCustomizations(window: Window): WhitelabelCustomizations | null {\n\t// @ts-ignore\n\treturn window.whitelabelCustomizations\n}\n\nexport function getThemeCustomizations(whitelabelConfig: WhitelabelConfig): ThemeCustomizations {\n\treturn JSON.parse(whitelabelConfig.jsonTheme, (k, v) => (k === \"__proto__\" ? undefined : v))\n}\n"]}