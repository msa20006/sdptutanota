{"version":3,"file":"PasswordInput.js","sourceRoot":"","sources":["../../../../src/common/gui/PasswordInput.ts"],"names":[],"mappings":"AAAA,OAAO,CAAsC,MAAM,SAAS,CAAA;AAC5D,OAAO,EAAE,mBAAmB,EAAE,MAAM,+BAA+B,CAAA;AAEnE,OAAO,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAA;AAGjD,OAAO,EAAE,KAAK,EAAE,MAAM,YAAY,CAAA;AAClC,OAAO,EAAE,6BAA6B,EAAE,MAAM,oCAAoC,CAAA;AAClF,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,WAAW,CAAA;AACpC,OAAO,EAAE,IAAI,EAAE,MAAM,8BAA8B,CAAA;AAUnD,MAAM,OAAO,aAAa;IACjB,YAAY,GAAY,KAAK,CAAA;IAErC,IAAI,CAAC,KAA2C;QAC/C,OAAO,CAAC,CAAC,oEAAoE,EAAE;YAC9E,KAAK,CAAC,KAAK,CAAC,YAAY;gBACvB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;oBACT,KAAK,EAAE;wBACN,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC;wBAChC,MAAM,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC;wBACjC,MAAM,EAAE,aAAa,KAAK,CAAC,cAAc,EAAE;wBAC3C,YAAY,EAAE,KAAK;wBACnB,UAAU,EAAE,gCAAgC,KAAK,CAAC,cAAc,IAAI,6BAA6B,CAChG,KAAK,CAAC,KAAK,CAAC,QAAQ,CACpB,oBAAoB;qBACrB;iBACA,CAAC;gBACJ,CAAC,CAAC,IAAI;YACP,CAAC,CAAC,mBAAmB,EAAE;gBACtB,OAAO,EAAE,CAAC,WAAW,CAAC;gBACtB,SAAS,EAAE,KAAK,CAAC,KAAK,CAAC,SAAS;gBAChC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,iCAAoB,CAAC,wCAAuB;gBACrE,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,QAAQ;gBAC3B,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO;gBAC5B,KAAK,EAAE;oBACN,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;iBACtD;gBACD,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC;aACvC,CAAC;YACF,CAAC,CAAC,UAAU,EAAE;gBACb,IAAI,4BAAoB;gBACxB,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,uBAAuB;gBAC7E,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,2BAAa,CAAC,sBAAU;gBACjD,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;aACrD,CAAC;SACF,CAAC,CAAA;IACH,CAAC;CACD","sourcesContent":["import m, { Children, ClassComponent, Vnode } from \"mithril\"\nimport { SingleLineTextField } from \"./base/SingleLineTextField.js\"\nimport { TextFieldType } from \"./base/TextField.js\"\nimport { IconButton } from \"./base/IconButton.js\"\nimport { ButtonSize } from \"./base/ButtonSize.js\"\nimport { Icons } from \"./base/icons/Icons.js\"\nimport { theme } from \"./theme.js\"\nimport { scaleToVisualPasswordStrength } from \"../misc/passwords/PasswordUtils.js\"\nimport { px, size } from \"./size.js\"\nimport { lang } from \"../misc/LanguageViewModel.js\"\n\nexport interface PasswordInputAttributes {\n\tariaLabel: string\n\tpassword: string\n\tstrength: number\n\toninput: (newValue: string) => unknown\n\tshowStrength?: boolean\n}\n\nexport class PasswordInput implements ClassComponent<PasswordInputAttributes> {\n\tprivate showPassword: boolean = false\n\n\tview(vnode: Vnode<PasswordInputAttributes, this>): Children {\n\t\treturn m(\".flex.flex-grow.full-width.justify-between.items-center.gap-vpad-s\", [\n\t\t\tvnode.attrs.showStrength\n\t\t\t\t? m(\"div\", {\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\twidth: px(size.icon_size_medium),\n\t\t\t\t\t\t\theight: px(size.icon_size_medium),\n\t\t\t\t\t\t\tborder: `1px solid ${theme.content_button}`,\n\t\t\t\t\t\t\tborderRadius: \"50%\",\n\t\t\t\t\t\t\tbackground: `conic-gradient(from .25turn, ${theme.content_button} ${scaleToVisualPasswordStrength(\n\t\t\t\t\t\t\t\tvnode.attrs.strength,\n\t\t\t\t\t\t\t)}%, transparent 0%)`,\n\t\t\t\t\t\t},\n\t\t\t\t  })\n\t\t\t\t: null,\n\t\t\tm(SingleLineTextField, {\n\t\t\t\tclasses: [\"flex-grow\"],\n\t\t\t\tariaLabel: vnode.attrs.ariaLabel,\n\t\t\t\ttype: this.showPassword ? TextFieldType.Text : TextFieldType.Password,\n\t\t\t\tvalue: vnode.attrs.password,\n\t\t\t\toninput: vnode.attrs.oninput,\n\t\t\t\tstyle: {\n\t\t\t\t\tpadding: `${px(size.vpad_xsm)} ${px(size.vpad_small)}`,\n\t\t\t\t},\n\t\t\t\tplaceholder: lang.get(\"password_label\"),\n\t\t\t}),\n\t\t\tm(IconButton, {\n\t\t\t\tsize: ButtonSize.Compact,\n\t\t\t\ttitle: this.showPassword ? \"concealPassword_action\" : \"revealPassword_action\",\n\t\t\t\ticon: this.showPassword ? Icons.NoEye : Icons.Eye,\n\t\t\t\tclick: () => (this.showPassword = !this.showPassword),\n\t\t\t}),\n\t\t])\n\t}\n}\n"]}