{"version":3,"file":"IdentifierRow.js","sourceRoot":"","sources":["../../../../src/common/settings/IdentifierRow.ts"],"names":[],"mappings":"AAAA,OAAO,CAAiC,MAAM,SAAS,CAAA;AACvD,OAAO,EAAE,IAAI,EAAE,MAAM,8BAA8B,CAAA;AACnD,OAAO,EAAE,SAAS,EAAE,MAAM,uBAAuB,CAAA;AAEjD,OAAO,EAAE,cAAc,EAAE,MAAM,yBAAyB,CAAA;AACxD,OAAO,EAAE,UAAU,EAAE,MAAM,2BAA2B,CAAA;AAatD;;GAEG;AACH,MAAM,OAAO,aAAa;IACzB,IAAI,CAAC,KAAgC;QACpC,MAAM,aAAa,GAAG,cAAc,CAAC;YACpC,eAAe,EAAE;gBAChB,KAAK,EAAE,aAAa;gBACpB,IAAI,yBAAY;gBAChB,IAAI,4BAAoB;aACxB;YACD,UAAU,EAAE,GAAG,EAAE,CAAC;gBACjB;oBACC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,mBAAmB;oBACrE,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,cAAc;iBACjC;gBACD;oBACC,KAAK,EAAE,eAAe;oBACtB,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,aAAa;iBAChC;aACD;SACD,CAAC,CAAA;QACF,OAAO,CAAC,CAAC,8BAA8B,EAAE;YACxC,CAAC,CAAC,+BAA+B,EAAE;gBAClC,CAAC,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC/D,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,6BAA6B,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI;gBACvF,CAAC,CAAC,YAAY,CAAC;gBACf,CAAC,CAAC,UAAU,EAAE,aAAa,CAAC;aAC5B,CAAC;YACF,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,KAAK,CAAC;SAClC,CAAC,CAAA;IACH,CAAC;IAEO,gBAAgB,CAAC,EAAE,UAAU,EAAE,gBAAgB,EAAsB;QAC5E,MAAM,cAAc,GAAG,gBAAgB;YACtC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;YACrG,CAAC,CAAC,UAAU,CAAA;QACb,OAAO,CAAC,CAAC,gEAAgE,EAAE,cAAc,CAAC,CAAA;IAC3F,CAAC;CACD","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { lang } from \"../misc/LanguageViewModel.js\"\nimport { neverNull } from \"@tutao/tutanota-utils\"\nimport { Icons } from \"../gui/base/icons/Icons.js\"\nimport { attachDropdown } from \"../gui/base/Dropdown.js\"\nimport { IconButton } from \"../gui/base/IconButton.js\"\nimport { ButtonSize } from \"../gui/base/ButtonSize.js\"\n\nexport interface IdentifierRowAttrs {\n\tname: string\n\tidentifier: string\n\tdisabled: boolean\n\tcurrent: boolean\n\tformatIdentifier: boolean\n\tremoveClicked: () => void\n\tdisableClicked: () => void\n}\n\n/**\n * Displays data for one push identifier\n */\nexport class IdentifierRow implements Component<IdentifierRowAttrs> {\n\tview(vnode: Vnode<IdentifierRowAttrs>): Children {\n\t\tconst dropdownAttrs = attachDropdown({\n\t\t\tmainButtonAttrs: {\n\t\t\t\ttitle: \"edit_action\",\n\t\t\t\ticon: Icons.More,\n\t\t\t\tsize: ButtonSize.Compact,\n\t\t\t},\n\t\t\tchildAttrs: () => [\n\t\t\t\t{\n\t\t\t\t\tlabel: vnode.attrs.disabled ? \"activate_action\" : \"deactivate_action\",\n\t\t\t\t\tclick: vnode.attrs.disableClicked,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"delete_action\",\n\t\t\t\t\tclick: vnode.attrs.removeClicked,\n\t\t\t\t},\n\t\t\t],\n\t\t})\n\t\treturn m(\".flex.flex-column.full-width\", [\n\t\t\tm(\".flex.items-center.selectable\", [\n\t\t\t\tm(\"span\" + (vnode.attrs.current ? \".b\" : \"\"), vnode.attrs.name),\n\t\t\t\tvnode.attrs.disabled ? m(\".mlr\", `(${lang.get(\"notificationsDisabled_label\")})`) : null,\n\t\t\t\tm(\".flex-grow\"),\n\t\t\t\tm(IconButton, dropdownAttrs),\n\t\t\t]),\n\t\t\tthis.renderIdentifier(vnode.attrs),\n\t\t])\n\t}\n\n\tprivate renderIdentifier({ identifier, formatIdentifier }: IdentifierRowAttrs): Children {\n\t\tconst identifierText = formatIdentifier\n\t\t\t? neverNull(identifier.match(/.{2}/g)).map((el, i) => m(\"span.pr-s\" + (i % 2 === 0 ? \".b\" : \"\"), el))\n\t\t\t: identifier\n\t\treturn m(\".text-break.small.monospace.mt-negative-hpad-button.selectable\", identifierText)\n\t}\n}\n"]}