{"version":3,"file":"CustomColorEditorPreview.js","sourceRoot":"","sources":["../../../../../src/common/settings/whitelabel/CustomColorEditorPreview.ts"],"names":[],"mappings":"AAAA,OAAO,CAA0B,MAAM,SAAS,CAAA;AAChD,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,gBAAgB,CAAA;AACzC,OAAO,EAAE,MAAM,EAAc,MAAM,0BAA0B,CAAA;AAC7D,OAAO,EAAE,UAAU,EAAE,iBAAiB,EAAQ,MAAM,yCAAyC,CAAA;AAC7F,OAAO,EAAE,OAAO,EAAE,MAAM,qCAAqC,CAAA;AAC7D,OAAO,EAAE,IAAI,EAAE,MAAM,uBAAuB,CAAA;AAC5C,OAAO,EAAE,UAAU,EAAE,MAAM,8BAA8B,CAAA;AAEzD,OAAO,EAAE,YAAY,EAAE,MAAM,wCAAwC,CAAA;AACrE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,yBAAyB,CAAA;AAC1D,OAAO,EAAE,WAAW,EAAE,MAAM,uCAAuC,CAAA;AACnE,OAAO,EAAE,IAAI,EAAE,MAAM,iCAAiC,CAAA;AAEtD,MAAM,CAAC,MAAM,YAAY,GAAG,GAAG,CAAA;AAE/B,MAAM,OAAO,wBAAwB;IACpC,QAAQ,CAAS;IACjB,SAAS,CAAS;IACV,cAAc,GAAY,KAAK,CAAA;IAEvC;QACC,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAA;QAClD,IAAI,CAAC,SAAS,GAAG,IAAI,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAA;IACpD,CAAC;IAED,IAAI;QACH,OAAO,CAAC,CACP,8BAA8B,EAC9B;YACC,KAAK,EAAE;gBACN,UAAU,EAAE,QAAQ;aACpB;SACD,EACD;YACC,CAAC,CACA,KAAK,EACL;gBACC,KAAK,EAAE;oBACN,KAAK,EAAE,EAAE,CAAC,YAAY,CAAC;iBACvB;aACD,EACD,CAAC,CAAC,WAAW,EAAE;gBACd,KAAK,EAAE,KAAK,EAAE,IAAI,SAAS,EAAE,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,cAAc;gBACpE,OAAO,EAAE,IAAI;aACb,CAAC,CACF;YACD,CAAC,CAAC,KAAK,EAAE;gBACR,CAAC,CAAC,MAAM,EAAE;oBACT,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,WAAW,CAAC;oBACrD,KAAK,EAAE,IAAI;oBACX,IAAI,wCAAsB;iBAC1B,CAAC;gBACF,CAAC,CAAC,MAAM,EAAE;oBACT,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,SAAS,CAAC;oBACjD,KAAK,EAAE,IAAI;oBACX,IAAI,oCAAoB;iBACxB,CAAC;aACF,CAAC;YACF,CAAC,CAAC,KAAK,EAAE;gBACR,CAAC,CAAC,UAAU,EAAE;oBACb,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,aAAa,CAAC;oBACzD,IAAI,6BAAc;oBAClB,KAAK,EAAE,IAAI;iBACX,CAAC;gBACF,CAAC,CAAC,YAAY,EAAE;oBACf,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,eAAe,EAAE,eAAe,CAAC;oBAC7D,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,yBAAY,CAAC,4BAAa;oBACrD,OAAO,EAAE,IAAI,CAAC,cAAc;oBAC5B,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;iBAC7D,CAAC;aACF,CAAC;YACF,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC;SACrC,CACD,CAAA;IACF,CAAC;IAED,oBAAoB;QACnB,MAAM,YAAY,GAAG;YACpB,YAAY,EAAE,IAAI,IAAI,EAAE;YACxB,WAAW,EAAE,EAAE;YACf,KAAK,EAAE,GAAG;YACV,WAAW,EAAE,IAAI;YACjB,UAAU,EAAE,IAAI;YAChB,oBAAoB,EAAE,IAAI;YAC1B,MAAM,EAAE,GAAG;YACX,SAAS,EAAE,IAAI;YACf,iBAAiB,EAAE,CAAC,QAAQ,EAAE,gBAAgB,CAAC;YAC/C,uBAAuB,EAAE,IAAI;YAC7B,cAAc,EAAE,IAAI;YACpB,eAAe,EAAE,KAAK;YACtB,gBAAgB,EAAE,IAAI;YACtB,SAAS,EAAE,IAAI;YACf,cAAc,EAAE,GAAG;YACnB,cAAc,EAAE,GAAG;YACnB,IAAI,EAAE,EAAE;SACgB,CAAA;QACzB,MAAM,IAAI,GAAG,UAAU,CAAC;YACvB,MAAM,EAAE,iBAAiB,CAAC;gBACzB,OAAO,EAAE,0BAA0B;gBACnC,IAAI,EAAE,gBAAgB;gBACtB,OAAO,EAAE,IAAI;aACb,CAAC;YACF,OAAO,EAAE,QAAQ;YACjB,MAAM,EAAE,KAAK;YACb,SAAS,EAAE,GAAG;YACd,YAAY,EAAE,IAAI;YAClB,GAAG,YAAY;SACf,CAAC,CAAA;QACF,MAAM,KAAK,GAAG,UAAU,CAAC;YACxB,MAAM,EAAE,iBAAiB,CAAC;gBACzB,OAAO,EAAE,0BAA0B;gBACnC,IAAI,EAAE,gBAAgB;gBACtB,OAAO,EAAE,IAAI;aACb,CAAC;YACF,OAAO,EAAE,QAAQ;YACjB,MAAM,EAAE,IAAI;YACZ,SAAS,EAAE,GAAG;YACd,YAAY,EAAE,KAAK;YACnB,GAAG,YAAY;SACf,CAAC,CAAA;QACF,OAAO,CAAC,CACP,MAAM,EACN;YACC,KAAK,EAAE;gBACN,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC;gBACpC,MAAM,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;aACpC;SACD,EACD;YACC,CAAC,CACA,2BAA2B,EAC3B;gBACC,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;oBACnB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC,GAAkB,CAAA;oBACnD,qBAAqB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAA;gBACtE,CAAC;aACD,EACD,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CACtB;YACD,CAAC,CACA,mBAAmB,EACnB;gBACC,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;oBACnB,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,KAAK,CAAC,GAAkB,CAAA;oBACpD,qBAAqB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAA;gBACvE,CAAC;gBACD,KAAK,EAAE;oBACN,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC;iBAC7B;aACD,EACD,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CACvB;SACD,CACD,CAAA;IACF,CAAC;CACD","sourcesContent":["import m, { Children, Component } from \"mithril\"\nimport { px, size } from \"../../gui/size\"\nimport { Button, ButtonType } from \"../../gui/base/Button.js\"\nimport { createMail, createMailAddress, Mail } from \"../../api/entities/tutanota/TypeRefs.js\"\nimport { MailRow } from \"../../../mail-app/mail/view/MailRow\"\nimport { noOp } from \"@tutao/tutanota-utils\"\nimport { IconButton } from \"../../gui/base/IconButton.js\"\nimport { Icons } from \"../../gui/base/icons/Icons.js\"\nimport { ToggleButton } from \"../../gui/base/buttons/ToggleButton.js\"\nimport { isApp, isDesktop } from \"../../api/common/Env.js\"\nimport { LoginButton } from \"../../gui/base/buttons/LoginButton.js\"\nimport { lang } from \"../../misc/LanguageViewModel.js\"\n\nexport const BUTTON_WIDTH = 270\n\nexport class CustomColorEditorPreview implements Component {\n\t_mailRow: MailRow\n\t_mailRow2: MailRow\n\tprivate toggleSelected: boolean = false\n\n\tconstructor() {\n\t\tthis._mailRow = new MailRow(false, () => [], noOp)\n\t\tthis._mailRow2 = new MailRow(false, () => [], noOp)\n\t}\n\n\tview(): Children {\n\t\treturn m(\n\t\t\t\".editor-border.mt-l.flex.col\",\n\t\t\t{\n\t\t\t\tstyle: {\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t},\n\t\t\t},\n\t\t\t[\n\t\t\t\tm(\n\t\t\t\t\t\".pt\",\n\t\t\t\t\t{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\twidth: px(BUTTON_WIDTH),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tm(LoginButton, {\n\t\t\t\t\t\tlabel: isApp() || isDesktop() ? \"addAccount_action\" : \"login_action\",\n\t\t\t\t\t\tonclick: noOp,\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t\tm(\".pt\", [\n\t\t\t\t\tm(Button, {\n\t\t\t\t\t\tlabel: lang.makeTranslation(\"secondary\", \"Secondary\"),\n\t\t\t\t\t\tclick: noOp,\n\t\t\t\t\t\ttype: ButtonType.Secondary,\n\t\t\t\t\t}),\n\t\t\t\t\tm(Button, {\n\t\t\t\t\t\tlabel: lang.makeTranslation(\"primary\", \"Primary\"),\n\t\t\t\t\t\tclick: noOp,\n\t\t\t\t\t\ttype: ButtonType.Primary,\n\t\t\t\t\t}),\n\t\t\t\t]),\n\t\t\t\tm(\".pt\", [\n\t\t\t\t\tm(IconButton, {\n\t\t\t\t\t\ttitle: lang.makeTranslation(\"icon_button\", \"Icon button\"),\n\t\t\t\t\t\ticon: Icons.Folder,\n\t\t\t\t\t\tclick: noOp,\n\t\t\t\t\t}),\n\t\t\t\t\tm(ToggleButton, {\n\t\t\t\t\t\ttitle: lang.makeTranslation(\"toggle_button\", \"Toggle button\"),\n\t\t\t\t\t\ticon: this.toggleSelected ? Icons.Lock : Icons.Unlock,\n\t\t\t\t\t\ttoggled: this.toggleSelected,\n\t\t\t\t\t\tonToggled: () => (this.toggleSelected = !this.toggleSelected),\n\t\t\t\t\t}),\n\t\t\t\t]),\n\t\t\t\tm(\".pt\", this.renderPreviewMailRow()),\n\t\t\t],\n\t\t)\n\t}\n\n\trenderPreviewMailRow(): Children {\n\t\tconst mailTemplate = {\n\t\t\treceivedDate: new Date(),\n\t\t\tattachments: [],\n\t\t\tstate: \"2\",\n\t\t\tmailDetails: null,\n\t\t\tauthStatus: null,\n\t\t\tencryptionAuthStatus: null,\n\t\t\tmethod: \"0\",\n\t\t\tbucketKey: null,\n\t\t\tconversationEntry: [\"listId\", \"conversationId\"],\n\t\t\tdifferentEnvelopeSender: null,\n\t\t\tfirstRecipient: null,\n\t\t\tlistUnsubscribe: false,\n\t\t\tmailDetailsDraft: null,\n\t\t\tmovedTime: null,\n\t\t\tphishingStatus: \"0\",\n\t\t\trecipientCount: \"0\",\n\t\t\tsets: [],\n\t\t} satisfies Partial<Mail>\n\t\tconst mail = createMail({\n\t\t\tsender: createMailAddress({\n\t\t\t\taddress: \"m.mustermann@example.com\",\n\t\t\t\tname: \"Max Mustermann\",\n\t\t\t\tcontact: null,\n\t\t\t}),\n\t\t\tsubject: \"Mail 1\",\n\t\t\tunread: false,\n\t\t\treplyType: \"0\",\n\t\t\tconfidential: true,\n\t\t\t...mailTemplate,\n\t\t})\n\t\tconst mail2 = createMail({\n\t\t\tsender: createMailAddress({\n\t\t\t\taddress: \"m.mustermann@example.com\",\n\t\t\t\tname: \"Max Mustermann\",\n\t\t\t\tcontact: null,\n\t\t\t}),\n\t\t\tsubject: \"Mail 2\",\n\t\t\tunread: true,\n\t\t\treplyType: \"1\",\n\t\t\tconfidential: false,\n\t\t\t...mailTemplate,\n\t\t})\n\t\treturn m(\n\t\t\t\".rel\",\n\t\t\t{\n\t\t\t\tstyle: {\n\t\t\t\t\twidth: px(size.second_col_max_width),\n\t\t\t\t\theight: px(size.list_row_height * 2),\n\t\t\t\t},\n\t\t\t},\n\t\t\t[\n\t\t\t\tm(\n\t\t\t\t\t\".list-row.pl.pr-l.odd-row\",\n\t\t\t\t\t{\n\t\t\t\t\t\toncreate: (vnode) => {\n\t\t\t\t\t\t\tthis._mailRow.domElement = vnode.dom as HTMLElement\n\t\t\t\t\t\t\trequestAnimationFrame(() => this._mailRow.update(mail, false, false))\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tthis._mailRow.render(),\n\t\t\t\t),\n\t\t\t\tm(\n\t\t\t\t\t\".list-row.pl.pr-l\",\n\t\t\t\t\t{\n\t\t\t\t\t\toncreate: (vnode) => {\n\t\t\t\t\t\t\tthis._mailRow2.domElement = vnode.dom as HTMLElement\n\t\t\t\t\t\t\trequestAnimationFrame(() => this._mailRow2.update(mail2, true, false))\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\ttop: px(size.list_row_height),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tthis._mailRow2.render(),\n\t\t\t\t),\n\t\t\t],\n\t\t)\n\t}\n}\n"]}