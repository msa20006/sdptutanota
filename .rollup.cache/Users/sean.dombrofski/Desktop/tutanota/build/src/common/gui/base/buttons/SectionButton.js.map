{"version":3,"file":"SectionButton.js","sourceRoot":"","sources":["../../../../../../src/common/gui/base/buttons/SectionButton.ts"],"names":[],"mappings":"AAAA,OAAO,EAAY,IAAI,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAA;AACrD,OAAO,EAAE,IAAI,EAAoC,MAAM,oCAAoC,CAAA;AAC3F,OAAO,CAAiC,MAAM,SAAS,CAAA;AAEvD,OAAO,EAAE,IAAI,EAAE,MAAM,YAAY,CAAA;AACjC,OAAO,EAAe,SAAS,EAAE,MAAM,cAAc,CAAA;AAErD,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAA;AA0B5C;;GAEG;AACH,MAAM,OAAO,aAAa;IACzB,IAAI,CAAC,KAAgC;QACpC,MAAM,EAAE,QAAQ,EAAE,aAAa,EAAE,OAAO,EAAE,cAAc,EAAE,SAAS,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC,KAAK,CAAA;QAErG,MAAM,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE;YAC/B,QAAQ,IAAI,IAAI;gBACf,CAAC,CAAC,IAAI;gBACN,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;oBACR,IAAI,EAAE,QAAQ,CAAC,IAAI;oBACnB,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,IAAI,IAAI,SAAS,qCAAqB,CAAC,MAAM,EAAE;oBACvE,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC;oBAC/B,IAAI,EAAE,QAAQ,CAAC,MAAM;iBACpB,CAAC;YACL,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa;SAC5C,CAAC,CAAA;QAEF,MAAM,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE;YAChC,cAAc,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,cAAc;YAC9C,SAAS,IAAI,IAAI;gBAChB,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;oBACR,IAAI,yCAAoB;oBACxB,KAAK,EAAE,EAAE,IAAI,EAAE,SAAS,qCAAqB,CAAC,MAAM,EAAE;oBACtD,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC;oBAC9B,IAAI,EAAE,QAAQ,CAAC,MAAM;iBACpB,CAAC;gBACJ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;oBACR,IAAI,EAAE,SAAS,CAAC,IAAI;oBACpB,KAAK,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,SAAS,qCAAqB,CAAC,MAAM,EAAE;oBACxE,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC;oBAChC,IAAI,EAAE,QAAQ,CAAC,MAAM;iBACpB,CAAC;SACL,CAAC,CAAA;QAEF,OAAO,CAAC,CACP,UAAU,EACV;YACC,KAAK,EAAE,wDAAwD,KAAK,CAAC,KAAK,CAAC,OAAO,IAAI,EAAE,EAAE;YAC1F,KAAK,EAAE,IAAI;YACX,QAAQ,EAAE,UAAU;YACpB,IAAI,oCAAmB;YACvB,OAAO;SACP,EACD,CAAC,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,MAAM,EAAE,iBAAiB,EAAE,WAAW,EAAE,aAAa,CAAC,EAAE,EAAE;YAC7E,QAAQ,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,yBAAyB,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI;YAC3E,CAAC,CAAC,uCAAuC,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;YACzE,SAAS;SACT,CAAC,CACF,CAAA;IACF,CAAC;CACD","sourcesContent":["import { AllIcons, Icon, IconSize } from \"../Icon.js\"\nimport { lang, MaybeTranslation, TranslationKey } from \"../../../misc/LanguageViewModel.js\"\nimport m, { Children, Component, Vnode } from \"mithril\"\nimport { ClickHandler } from \"../GuiUtils.js\"\nimport { Card } from \"../Card.js\"\nimport { ButtonColor, getColors } from \"../Button.js\"\nimport { Icons } from \"../icons/Icons.js\"\nimport { BaseButton } from \"./BaseButton.js\"\nimport { AriaRole } from \"../../AriaUtils.js\"\n\nexport interface SectionButtonAttrs {\n\t/**\n\t * The icon displayed on the very left of the button.\n\t */\n\tleftIcon?: { icon: AllIcons; title: TranslationKey; fill?: string }\n\t/**\n\t * The icon displayed on the very right of the button. Defaults to an arrow pointing to the right.\n\t */\n\trightIcon?: { icon: AllIcons; title: TranslationKey; fill?: string }\n\t/**\n\t * An optional element displayed right hand side of the left icon.\n\t */\n\tinjectionLeft?: Children\n\t/**\n\t * An optional element displayed on the left hand side of the right icon.\n\t */\n\tinjectionRight?: Children\n\tclasses?: string\n\tisDisabled?: boolean\n\ttext: MaybeTranslation\n\tonclick: ClickHandler\n}\n\n/**\n * A dark NavButton-like button with an arrow.\n */\nexport class SectionButton implements Component<SectionButtonAttrs> {\n\tview(vnode: Vnode<SectionButtonAttrs>): Children {\n\t\tconst { leftIcon, injectionLeft, onclick, injectionRight, rightIcon, isDisabled, text } = vnode.attrs\n\n\t\tconst leftPart = m.fragment({}, [\n\t\t\tleftIcon == null\n\t\t\t\t? null\n\t\t\t\t: m(Icon, {\n\t\t\t\t\t\ticon: leftIcon.icon,\n\t\t\t\t\t\tstyle: { fill: leftIcon.fill ?? getColors(ButtonColor.Content).button },\n\t\t\t\t\t\ttitle: lang.get(leftIcon.title),\n\t\t\t\t\t\tsize: IconSize.Medium,\n\t\t\t\t  }),\n\t\t\tinjectionLeft == null ? null : injectionLeft,\n\t\t])\n\n\t\tconst rightPart = m.fragment({}, [\n\t\t\tinjectionRight == null ? null : injectionRight,\n\t\t\trightIcon == null\n\t\t\t\t? m(Icon, {\n\t\t\t\t\t\ticon: Icons.ArrowForward,\n\t\t\t\t\t\tstyle: { fill: getColors(ButtonColor.Content).button },\n\t\t\t\t\t\ttitle: lang.get(\"next_action\"),\n\t\t\t\t\t\tsize: IconSize.Medium,\n\t\t\t\t  })\n\t\t\t\t: m(Icon, {\n\t\t\t\t\t\ticon: rightIcon.icon,\n\t\t\t\t\t\tstyle: { fill: rightIcon.fill ?? getColors(ButtonColor.Content).button },\n\t\t\t\t\t\ttitle: lang.get(rightIcon.title),\n\t\t\t\t\t\tsize: IconSize.Medium,\n\t\t\t\t  }),\n\t\t])\n\n\t\treturn m(\n\t\t\tBaseButton,\n\t\t\t{\n\t\t\t\tclass: `flash button-min-height flex items-center full-width ${vnode.attrs.classes ?? \"\"}`,\n\t\t\t\tlabel: text,\n\t\t\t\tdisabled: isDisabled,\n\t\t\t\trole: AriaRole.MenuItem,\n\t\t\t\tonclick,\n\t\t\t},\n\t\t\tm(Card, { classes: [\"flex\", \"justify-between\", \"flex-grow\", \"items-start\"] }, [\n\t\t\t\tleftIcon || injectionLeft ? m(\".flex.items-center.mr-s\", [leftPart]) : null,\n\t\t\t\tm(\"span.flex-grow.full-width.white-space\", lang.getTranslationText(text)),\n\t\t\t\trightPart,\n\t\t\t]),\n\t\t)\n\t}\n}\n"]}