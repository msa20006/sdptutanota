{"version":3,"file":"inlineImagesUtils.js","sourceRoot":"","sources":["../../../../src/common/mailFunctionality/inlineImagesUtils.ts"],"names":[],"mappings":"AASA,MAAM,UAAU,iBAAiB,CAAC,YAA0B;IAC3D,MAAM,MAAM,GAAG,IAAI,GAAG,EAAE,CAAA;IACxB,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC;QAC7C,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;QAC/B,MAAM,SAAS,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAA;QAC3C,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;YACb,GAAG,EAAE,CAAC,CAAC,GAAG;YACV,SAAS;YACT,IAAI;SACJ,CAAC,CAAA;IACH,CAAC;IACD,OAAO,MAAM,CAAA;AACd,CAAC;AAED,MAAM,UAAU,kBAAkB,CAAC,YAA0B;IAC5D,KAAK,MAAM,CAAC,IAAI,YAAY,CAAC,MAAM,EAAE,EAAE,CAAC;QACvC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,SAAS,CAAC,CAAA;IACjC,CAAC;AACF,CAAC","sourcesContent":["// map of inline image cid to InlineImageReference\nexport type InlineImages = Map<string, InlineImageReference>\n\nexport type InlineImageReference = {\n\tcid: string\n\tobjectUrl: string\n\tblob: Blob\n}\n\nexport function cloneInlineImages(inlineImages: InlineImages): InlineImages {\n\tconst newMap = new Map()\n\tfor (const [k, v] of inlineImages.entries()) {\n\t\tconst blob = new Blob([v.blob])\n\t\tconst objectUrl = URL.createObjectURL(blob)\n\t\tnewMap.set(k, {\n\t\t\tcid: v.cid,\n\t\t\tobjectUrl,\n\t\t\tblob,\n\t\t})\n\t}\n\treturn newMap\n}\n\nexport function revokeInlineImages(inlineImages: InlineImages): void {\n\tfor (const v of inlineImages.values()) {\n\t\tURL.revokeObjectURL(v.objectUrl)\n\t}\n}\n"]}