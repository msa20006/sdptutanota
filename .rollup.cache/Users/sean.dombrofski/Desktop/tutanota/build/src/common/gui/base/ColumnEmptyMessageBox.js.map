{"version":3,"file":"ColumnEmptyMessageBox.js","sourceRoot":"","sources":["../../../../../src/common/gui/base/ColumnEmptyMessageBox.ts"],"names":[],"mappings":"AAAA,OAAO,CAAiC,MAAM,SAAS,CAAA;AAEvD,OAAO,EAAE,IAAI,EAAE,MAAM,8BAA8B,CAAA;AAEnD,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAA;AAC7B,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,SAAS,CAAA;AAClC,OAAO,EAAE,gBAAgB,EAAE,MAAM,sBAAsB,CAAA;AAEvD,gBAAgB,EAAE,CAAA;AAWlB,2DAA2D;AAC3D,MAAM,OAAO,cAAc;IAC1B,IAAI,CAAC,EAAE,KAAK,EAA+B;QAC1C,OAAO,CAAC,CAAC,2CAA2C,EAAE;YACrD,KAAK,CAAC,IAAI;gBACT,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;oBACR,IAAI,EAAE,KAAK,CAAC,IAAI;oBAChB,KAAK,EAAE;wBACN,IAAI,EAAE,KAAK,CAAC,KAAK;qBACjB;oBACD,KAAK,EAAE,kBAAkB;iBACxB,CAAC;gBACJ,CAAC,CAAC,IAAI;YACP,CAAC,CACA,8BAA8B,EAC9B;gBACC,KAAK,EAAE;oBACN,KAAK,EAAE,KAAK,CAAC,KAAK;iBAClB;gBACD,aAAa,EAAE,eAAe,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;aAC7D,EACD,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,OAAO,CAAC,CACtC;SACD,CAAC,CAAA;IACH,CAAC;CACD;AAID;;GAEG;AAEH,MAAM,CAAC,OAAO,OAAO,qBAAqB;IACzC,IAAI,CAAC,EAAE,KAAK,EAAqC;QAChD,OAAO,CAAC,CACP,qEAAqE,EACrE;YACC,KAAK,EAAE;gBACN,eAAe,EAAE,KAAK,EAAE,eAAe;aACvC;SACD,EACD,CAAC,CACA,wBAAwB,EACxB;YACC,KAAK,EAAE;gBACN,2GAA2G;gBAC3G,YAAY,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;aACpF;SACD,EACD;YACC,6HAA6H;YAC7H,CAAC,CAAC,cAAc,EAAE;gBACjB,OAAO,EAAE,KAAK,CAAC,OAAO;gBACtB,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,KAAK,EAAE,KAAK,CAAC,KAAK;aAClB,CAAC;YACF,KAAK,CAAC,aAAa,IAAI,CAAC,CAAC,gBAAgB,CAAC;SAC1C,CACD,CACD,CAAA;IACF,CAAC;CACD","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport type { MaybeTranslation } from \"../../misc/LanguageViewModel\"\nimport { lang } from \"../../misc/LanguageViewModel\"\nimport type { AllIcons } from \"./Icon\"\nimport { Icon } from \"./Icon\"\nimport { px, size } from \"../size\"\nimport { assertMainOrNode } from \"../../api/common/Env\"\n\nassertMainOrNode()\n\n// If you change this make sure you pass through all the attrs\nexport type InfoMessaggeBoxAttrs = {\n\tmessage: MaybeTranslation\n\ticon?: AllIcons\n\tcolor: string\n\tbottomContent?: Children\n\tbackgroundColor?: string\n}\n\n/** Displays a big message with an option icon above it. */\nexport class IconMessageBox implements Component<InfoMessaggeBoxAttrs> {\n\tview({ attrs }: Vnode<InfoMessaggeBoxAttrs>): Children {\n\t\treturn m(\".flex.col.items-center.justify-center.mlr\", [\n\t\t\tattrs.icon\n\t\t\t\t? m(Icon, {\n\t\t\t\t\t\ticon: attrs.icon,\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tfill: attrs.color,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclass: \"icon-message-box\",\n\t\t\t\t  })\n\t\t\t\t: null,\n\t\t\tm(\n\t\t\t\t\".h2.text-center.text-preline\",\n\t\t\t\t{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tcolor: attrs.color,\n\t\t\t\t\t},\n\t\t\t\t\t\"data-testid\": `message_box:${lang.getTestId(attrs.message)}`,\n\t\t\t\t},\n\t\t\t\tlang.getTranslationText(attrs.message),\n\t\t\t),\n\t\t])\n\t}\n}\n\nexport type ColumnEmptyMessageBoxAttrs = InfoMessaggeBoxAttrs\n\n/**\n * A message displaying a text. A message box can be displayed on the background of a column if the column is empty. The text inside of it will be centered vertically, taking the icon into account.\n */\n\nexport default class ColumnEmptyMessageBox implements Component<ColumnEmptyMessageBoxAttrs> {\n\tview({ attrs }: Vnode<ColumnEmptyMessageBoxAttrs>): Children {\n\t\treturn m(\n\t\t\t\".fill-absolute.flex.col.items-center.justify-center.overflow-hidden\",\n\t\t\t{\n\t\t\t\tstyle: {\n\t\t\t\t\tbackgroundColor: attrs?.backgroundColor,\n\t\t\t\t},\n\t\t\t},\n\t\t\tm(\n\t\t\t\t\".flex.col.items-center\",\n\t\t\t\t{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\t// move up *only* this element, not the whole .fill-absolute parent to not overflow into the items above us\n\t\t\t\t\t\t\"margin-top\": px(attrs.icon ? -size.icon_message_box - size.vpad_xl : -size.vpad_xl),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\t// If we pass plain attrs all lifecycle callbacks we attach from the outside will be called twice, once on the wrong element.\n\t\t\t\t\tm(IconMessageBox, {\n\t\t\t\t\t\tmessage: attrs.message,\n\t\t\t\t\t\ticon: attrs.icon,\n\t\t\t\t\t\tcolor: attrs.color,\n\t\t\t\t\t}),\n\t\t\t\t\tattrs.bottomContent ?? m(\".button-height\"),\n\t\t\t\t],\n\t\t\t),\n\t\t)\n\t}\n}\n"]}