{"version":3,"file":"BubbleButton.js","sourceRoot":"","sources":["../../../../../../src/common/gui/base/buttons/BubbleButton.ts"],"names":[],"mappings":"AAAA,OAAO,CAAiC,MAAM,SAAS,CAAA;AACvD,OAAO,EAAE,UAAU,EAAmB,MAAM,iBAAiB,CAAA;AAC7D,OAAO,EAAE,IAAI,EAAoB,MAAM,oCAAoC,CAAA;AAC3E,OAAO,EAAY,IAAI,EAAE,MAAM,YAAY,CAAA;AAC3C,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAA;AACtC,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAA;AACxC,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,eAAe,CAAA;AASxC,MAAM,UAAU,kBAAkB;IACjC,OAAO,uBAAuB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAA;AAClF,CAAC;AAED,MAAM,UAAU,uBAAuB;IACtC,OAAO,MAAM,CAAC,uBAAuB,EAAE,CAAA;AACxC,CAAC;AAED,MAAM,UAAU,mBAAmB;IAClC,OAAO,uBAAuB,EAAE,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,YAAY,CAAA;AACtE,CAAC;AAED;;;;GAIG;AACH,MAAM,OAAO,YAAY;IACxB,IAAI,CAAC,EAAE,KAAK,EAAE,QAAQ,EAA4B;QACjD,OAAO,CAAC,CACP,UAAU,EACV;YACC,KAAK,EAAE,KAAK,CAAC,KAAK;YAClB,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,oBAAoB,EAAE,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,KAAK,CAAC;YACtH,IAAI,EACH,KAAK,CAAC,IAAI;gBACV,CAAC,CAAC,IAAI,EAAE;oBACP,IAAI,EAAE,KAAK,CAAC,IAAI;oBAChB,SAAS,EAAE,KAAK;oBAChB,KAAK,EAAE,aAAa;oBACpB,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,gBAAgB,EAAE;iBACvC,CAAC;YACH,mBAAmB,EAAE,qBAAqB;YAC1C,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,CAAC,kBAAkB,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE,CAAC,kBAAkB,EAAE,CAAC,EAAE;YAChF,KAAK,EAAE,qDAAqD,mBAAmB,EAAE,QAAQ;YACzF,OAAO,EAAE,KAAK,CAAC,OAAO;SACtB,EACD,QAAQ,CACR,CAAA;IACF,CAAC;CACD","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { BaseButton, BaseButtonAttrs } from \"./BaseButton.js\"\nimport { lang, MaybeTranslation } from \"../../../misc/LanguageViewModel.js\"\nimport { AllIcons, Icon } from \"../Icon.js\"\nimport { theme } from \"../../theme.js\"\nimport { styles } from \"../../styles.js\"\nimport { px, size } from \"../../size.js\"\n\nexport interface BubbleButtonAttrs {\n\tlabel: MaybeTranslation\n\ttext?: MaybeTranslation\n\ticon?: AllIcons\n\tonclick: BaseButtonAttrs[\"onclick\"]\n}\n\nexport function bubbleButtonHeight(): number {\n\treturn usingMobileBubbleButton() ? size.button_height : size.button_height_bubble\n}\n\nexport function usingMobileBubbleButton() {\n\treturn styles.isUsingBottomNavigation()\n}\n\nexport function bubbleButtonPadding(): string {\n\treturn usingMobileBubbleButton() ? \"plr-button-double\" : \"plr-button\"\n}\n\n/**\n * Button that renders an icon, some text next to it and additional children on the right.\n * The text will be ellipsized if it doesn't fit, unlike most buttons.\n * It will change it's look based on mobile/desktop layout to have bigger touch area for mobile devices.\n */\nexport class BubbleButton implements Component<BubbleButtonAttrs> {\n\tview({ attrs, children }: Vnode<BubbleButtonAttrs>): Children {\n\t\treturn m(\n\t\t\tBaseButton,\n\t\t\t{\n\t\t\t\tlabel: attrs.label,\n\t\t\t\ttext: attrs.text ? m(\"span.text-ellipsis\", lang.getTranslationText(attrs.text)) : lang.getTranslationText(attrs.label),\n\t\t\t\ticon:\n\t\t\t\t\tattrs.icon &&\n\t\t\t\t\tm(Icon, {\n\t\t\t\t\t\ticon: attrs.icon,\n\t\t\t\t\t\tcontainer: \"div\",\n\t\t\t\t\t\tclass: \"mr-xs mb-xs\",\n\t\t\t\t\t\tstyle: { fill: theme.button_bubble_fg },\n\t\t\t\t\t}),\n\t\t\t\ticonWrapperSelector: \".icon.mr-hpad-small\",\n\t\t\t\tstyle: { height: px(bubbleButtonHeight()), maxHeight: px(bubbleButtonHeight()) },\n\t\t\t\tclass: `smaller bubble flex center-vertically limit-width ${bubbleButtonPadding()} flash`,\n\t\t\t\tonclick: attrs.onclick,\n\t\t\t},\n\t\t\tchildren,\n\t\t)\n\t}\n}\n"]}