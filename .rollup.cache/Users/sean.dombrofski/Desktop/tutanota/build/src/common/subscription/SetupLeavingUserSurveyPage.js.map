{"version":3,"file":"SetupLeavingUserSurveyPage.js","sourceRoot":"","sources":["../../../../src/common/subscription/SetupLeavingUserSurveyPage.ts"],"names":[],"mappings":"AAAA,OAAO,CAAiC,MAAM,SAAS,CAAA;AACvD,OAAO,EAAE,MAAM,EAAE,MAAM,kBAAkB,CAAA;AACzC,OAAO,EAAE,WAAW,EAAE,MAAM,oCAAoC,CAAA;AAChE,OAAO,EAAE,IAAI,EAAkB,MAAM,8BAA8B,CAAA;AAYnE,MAAM,OAAO,0BAA0B;IACtC,IAAI,CAAC,KAA6C;QACjD,OAAO,CAAC,CAAC,4CAA4C,EAAE;YACtD,CAAC,CACA,2CAA2C,EAC3C;gBACC,KAAK,EAAE;oBACN,SAAS,EAAE,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;oBAClD,QAAQ,EAAE,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO;iBACtD;aACD,EACD;gBACC,CAAC,CACA,KAAK,EACL;oBACC,KAAK,EAAE;wBACN,MAAM,EAAE,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;wBAC/C,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU;qBACzB;iBACD,EACD,CAAC,CAAC,qCAAqC,EAAE;oBACxC,GAAG,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,iBAAiB,0BAA0B,KAAK,CAAC,KAAK,CAAC,KAAK,MAAM;oBAChG,GAAG,EAAE,EAAE;oBACP,GAAG,EAAE,YAAY;oBACjB,OAAO,EAAE,MAAM;oBACf,QAAQ,EAAE,OAAO;iBACjB,CAAC,CACF;gBACD,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBACnD,CAAC,CACA,UAAU,EACV;oBACC,KAAK,EAAE;wBACN,MAAM,EAAE,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ;qBACpD;iBACD,EACD,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC,CACtC;gBACD,KAAK,CAAC,QAAQ;gBACd,CAAC,CACA,aAAa,EACb;oBACC,KAAK,EAAE;wBACN,MAAM,EAAE,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,YAAY,EAAE,kFAAkF;qBAClJ;iBACD,EACD,CAAC,CAAC,WAAW,EAAE;oBACd,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,eAAe;oBAClC,OAAO,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE;oBACxC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,EAAE;oBAChE,QAAQ,EAAE,KAAK,CAAC,KAAK,CAAC,iBAAiB;iBACvC,CAAC,CACF;aACD,CACD;SACD,CAAC,CAAA;IACH,CAAC;CACD","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { styles } from \"../gui/styles.js\"\nimport { LoginButton } from \"../gui/base/buttons/LoginButton.js\"\nimport { lang, TranslationKey } from \"../misc/LanguageViewModel.js\"\n\nexport interface SetupLeavingUserSurveyPageAttrs {\n\tcloseAction: () => void\n\tnextButtonLabel: TranslationKey\n\tnextButtonEnabled: boolean\n\timage: string\n\timageStyle?: Record<string, any>\n\tmainMessage: TranslationKey\n\tsecondaryMessage: TranslationKey\n}\n\nexport class SetupLeavingUserSurveyPage implements Component<SetupLeavingUserSurveyPageAttrs> {\n\tview(vnode: Vnode<SetupLeavingUserSurveyPageAttrs>): Children {\n\t\treturn m(\"#leaving-user-survey-dialog.pt.flex-center\", [\n\t\t\tm(\n\t\t\t\t\".flex.flex-column.max-width-m.pt.pb.plr-l\",\n\t\t\t\t{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tminHeight: styles.isDesktopLayout() ? \"850px\" : \"\",\n\t\t\t\t\t\tminWidth: styles.isDesktopLayout() ? \"450px\" : \"360px\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\tm(\n\t\t\t\t\t\t\".mb\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\theight: styles.isDesktopLayout() ? \"360px\" : \"\",\n\t\t\t\t\t\t\t\t...vnode.attrs.imageStyle,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tm(\"img.pb.block.full-width.height-100p\", {\n\t\t\t\t\t\t\tsrc: `${window.tutao.appState.prefixWithoutFile}/images/leaving-wizard/${vnode.attrs.image}.png`,\n\t\t\t\t\t\t\talt: \"\",\n\t\t\t\t\t\t\trel: \"noreferrer\",\n\t\t\t\t\t\t\tloading: \"lazy\",\n\t\t\t\t\t\t\tdecoding: \"async\",\n\t\t\t\t\t\t}),\n\t\t\t\t\t),\n\t\t\t\t\tm(\"h3.center.b\", lang.get(vnode.attrs.mainMessage)),\n\t\t\t\t\tm(\n\t\t\t\t\t\t\"p.center\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\theight: styles.isDesktopLayout() ? \"45px\" : \"77.5px\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlang.get(vnode.attrs.secondaryMessage),\n\t\t\t\t\t),\n\t\t\t\t\tvnode.children,\n\t\t\t\t\tm(\n\t\t\t\t\t\t\".full-width\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\tmargin: styles.isDesktopLayout() ? \"auto 0 0 0\" : \"16px 0 0 0\", // positions the button at the very bottom of the flex wrapper box for consistency\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tm(LoginButton, {\n\t\t\t\t\t\t\tlabel: vnode.attrs.nextButtonLabel,\n\t\t\t\t\t\t\tonclick: () => vnode.attrs.closeAction(),\n\t\t\t\t\t\t\tclass: vnode.attrs.nextButtonEnabled ? \"no-hover button-bg\" : \"\",\n\t\t\t\t\t\t\tdisabled: vnode.attrs.nextButtonEnabled,\n\t\t\t\t\t\t}),\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t),\n\t\t])\n\t}\n}\n"]}