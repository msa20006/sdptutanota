{"version":3,"file":"RestError.js","sourceRoot":"","sources":["../../../../../../src/common/api/common/error/RestError.ts"],"names":[],"mappings":"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","sourcesContent":["//@bundleInto:common-min\n\nimport { TutanotaError } from \"@tutao/tutanota-error\"\n\nexport class ConnectionError extends TutanotaError {\n\tstatic CODE: number = 0\n\n\tconstructor(msg: string) {\n\t\tsuper(\"ConnectionError\", msg)\n\t}\n}\n\nexport class BadRequestError extends TutanotaError {\n\tstatic CODE: number = 400\n\n\tconstructor(msg: string) {\n\t\tsuper(\"BadRequestError\", msg)\n\t}\n}\n\nexport class NotAuthenticatedError extends TutanotaError {\n\tstatic CODE: number = 401\n\n\tconstructor(msg: string) {\n\t\tsuper(\"NotAuthenticatedError\", msg)\n\t}\n}\n\nexport class NotAuthorizedError extends TutanotaError {\n\tstatic CODE: number = 403\n\n\tconstructor(msg: string) {\n\t\tsuper(\"NotAuthorizedError\", msg)\n\t}\n}\n\nexport class NotFoundError extends TutanotaError {\n\tstatic CODE: number = 404\n\n\tconstructor(msg: string) {\n\t\tsuper(\"NotFoundError\", msg)\n\t}\n}\n\nexport class MethodNotAllowedError extends TutanotaError {\n\tstatic CODE: number = 405\n\n\tconstructor(msg: string) {\n\t\tsuper(\"MethodNotAllowedError\", msg)\n\t}\n}\n\nexport class RequestTimeoutError extends TutanotaError {\n\tstatic CODE: number = 408\n\n\tconstructor(msg: string) {\n\t\tsuper(\"RequestTimeoutError\", msg)\n\t}\n}\n\nexport class PreconditionFailedError extends TutanotaError {\n\tstatic CODE: number = 412\n\t// data field is respected by the WorkerProtocol. Other fields might not be passed\n\tdata: string | null\n\n\tconstructor(msg: string, reason: string | null) {\n\t\tsuper(\"PreconditionFailedError\", msg)\n\t\tthis.data = reason\n\t}\n}\n\nexport class LockedError extends TutanotaError {\n\tstatic CODE: number = 423\n\n\tconstructor(msg: string) {\n\t\tsuper(\"LockedError\", msg)\n\t}\n}\n\nexport class TooManyRequestsError extends TutanotaError {\n\tstatic CODE: number = 429\n\n\tconstructor(msg: string) {\n\t\tsuper(\"TooManyRequestsError\", msg)\n\t}\n}\n\nexport class SessionExpiredError extends TutanotaError {\n\tstatic CODE: number = 440\n\n\tconstructor(msg: string) {\n\t\tsuper(\"SessionExpiredError\", msg)\n\t}\n}\n\nexport class AccessDeactivatedError extends TutanotaError {\n\tstatic CODE: number = 470\n\n\tconstructor(msg: string) {\n\t\tsuper(\"AccessDeactivatedError\", msg)\n\t}\n}\n\n/** External users only, related to password changes. */\nexport class AccessExpiredError extends TutanotaError {\n\tstatic CODE: number = 471\n\n\tconstructor(msg: string) {\n\t\tsuper(\"AccessExpiredError\", msg)\n\t}\n}\n\nexport class AccessBlockedError extends TutanotaError {\n\tstatic CODE: number = 472\n\n\tconstructor(msg: string) {\n\t\tsuper(\"AccessBlockedError\", msg)\n\t}\n}\n\nexport class InvalidDataError extends TutanotaError {\n\tstatic CODE: number = 473\n\n\tconstructor(msg: string) {\n\t\tsuper(\"InvalidDataError\", msg)\n\t}\n}\n\nexport class InvalidSoftwareVersionError extends TutanotaError {\n\tstatic CODE: number = 474\n\n\tconstructor(msg: string) {\n\t\tsuper(\"InvalidSoftwareVersionError\", msg)\n\t}\n}\n\nexport class LimitReachedError extends TutanotaError {\n\tstatic CODE: number = 475\n\n\tconstructor(msg: string) {\n\t\tsuper(\"LimitReachedError\", msg)\n\t}\n}\n\nexport class InternalServerError extends TutanotaError {\n\tstatic CODE: number = 500\n\n\tconstructor(msg: string) {\n\t\tsuper(\"InternalServerError\", msg)\n\t}\n}\n\nexport class BadGatewayError extends TutanotaError {\n\tstatic CODE: number = 502\n\n\tconstructor(msg: string) {\n\t\tsuper(\"BadGatewayError\", msg)\n\t}\n}\n\nexport class ServiceUnavailableError extends TutanotaError {\n\tstatic CODE: number = 503\n\n\tconstructor(msg: string) {\n\t\tsuper(\"ServiceUnavailableError\", msg)\n\t}\n}\n\nexport class InsufficientStorageError extends TutanotaError {\n\tstatic CODE: number = 507\n\n\tconstructor(msg: string) {\n\t\tsuper(\"InsufficientStorageError\", msg)\n\t}\n}\n\nexport class ResourceError extends TutanotaError {\n\tconstructor(msg: string) {\n\t\tsuper(\"ResourceError\", msg)\n\t}\n}\n\nexport class PayloadTooLargeError extends TutanotaError {\n\tstatic CODE: number = 413\n\n\tconstructor(msg: string) {\n\t\tsuper(\"PayloadTooLargeError\", msg)\n\t}\n}\n\n/**\n * Attention: When adding an Error also add it in WorkerProtocol.ErrorNameToType.\n */\nexport function handleRestError(errorCode: number, path?: string, errorId?: string | null, precondition?: string | null): TutanotaError {\n\tlet message = `${errorCode}: ${errorId ? errorId + \" \" : \"\"}${precondition ? precondition + \" \" : \"\"}${path}`\n\n\tswitch (errorCode) {\n\t\tcase ConnectionError.CODE:\n\t\t\treturn new ConnectionError(message)\n\n\t\tcase BadRequestError.CODE:\n\t\t\treturn new BadRequestError(message)\n\n\t\tcase NotAuthenticatedError.CODE:\n\t\t\treturn new NotAuthenticatedError(message)\n\n\t\tcase NotAuthorizedError.CODE:\n\t\t\treturn new NotAuthorizedError(message)\n\n\t\tcase NotFoundError.CODE:\n\t\t\treturn new NotFoundError(message)\n\n\t\tcase MethodNotAllowedError.CODE:\n\t\t\treturn new MethodNotAllowedError(message)\n\n\t\tcase PreconditionFailedError.CODE:\n\t\t\treturn new PreconditionFailedError(message, precondition ?? null)\n\n\t\tcase LockedError.CODE:\n\t\t\treturn new LockedError(message)\n\n\t\tcase TooManyRequestsError.CODE:\n\t\t\treturn new TooManyRequestsError(message)\n\n\t\tcase SessionExpiredError.CODE:\n\t\t\treturn new SessionExpiredError(message)\n\n\t\tcase AccessDeactivatedError.CODE:\n\t\t\treturn new AccessDeactivatedError(message)\n\n\t\tcase AccessExpiredError.CODE:\n\t\t\treturn new AccessExpiredError(message)\n\n\t\tcase AccessBlockedError.CODE:\n\t\t\treturn new AccessBlockedError(message)\n\n\t\tcase InvalidDataError.CODE:\n\t\t\treturn new InvalidDataError(message)\n\n\t\tcase InvalidSoftwareVersionError.CODE:\n\t\t\treturn new InvalidSoftwareVersionError(message)\n\n\t\tcase LimitReachedError.CODE:\n\t\t\treturn new LimitReachedError(message)\n\n\t\tcase InternalServerError.CODE:\n\t\t\treturn new InternalServerError(message)\n\n\t\tcase BadGatewayError.CODE:\n\t\t\treturn new BadGatewayError(message)\n\n\t\tcase ServiceUnavailableError.CODE:\n\t\t\treturn new ServiceUnavailableError(message)\n\n\t\tcase InsufficientStorageError.CODE:\n\t\t\treturn new InsufficientStorageError(message)\n\n\t\tcase PayloadTooLargeError.CODE:\n\t\t\treturn new PayloadTooLargeError(message)\n\n\t\tcase RequestTimeoutError.CODE:\n\t\t\treturn new RequestTimeoutError(message)\n\n\t\tdefault:\n\t\t\treturn new ResourceError(message)\n\t}\n}\n"]}