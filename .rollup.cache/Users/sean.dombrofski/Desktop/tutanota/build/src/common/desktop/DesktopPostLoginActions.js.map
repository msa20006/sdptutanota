{"version":3,"file":"DesktopPostLoginActions.js","sourceRoot":"","sources":["../../../../src/common/desktop/DesktopPostLoginActions.ts"],"names":[],"mappings":"AAKA,MAAM,OAAO,uBAAuB;IAEjB;IACA;IACA;IACA;IAJlB,YACkB,EAAiB,EACjB,GAAwB,EACxB,QAAyB,EACzB,QAAgB;QAHhB,OAAE,GAAF,EAAE,CAAe;QACjB,QAAG,GAAH,GAAG,CAAqB;QACxB,aAAQ,GAAR,QAAQ,CAAiB;QACzB,aAAQ,GAAR,QAAQ,CAAQ;IAC/B,CAAC;IAEJ,KAAK,CAAC,qBAAqB,CAAC,EAAE,MAAM,EAAiB;QACpD,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,CAAC,MAAM,CAAC,CAAA;QAC7C,MAAM,IAAI,CAAC,QAAQ,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAA;IACvD,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,EAAE,MAAM,EAAiB;QACjD,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,CAAC,MAAM,CAAC,CAAA;QAC7C,MAAM,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;IAC9C,CAAC;CACD","sourcesContent":["import { PostLoginAction, LoggedInEvent } from \"../api/main/LoginController\"\nimport { WindowManager } from \"./DesktopWindowManager\"\nimport { DesktopErrorHandler } from \"./DesktopErrorHandler.js\"\nimport { DesktopNotifier } from \"./DesktopNotifier.js\"\n\nexport class DesktopPostLoginActions implements PostLoginAction {\n\tconstructor(\n\t\tprivate readonly wm: WindowManager,\n\t\tprivate readonly err: DesktopErrorHandler,\n\t\tprivate readonly notifier: DesktopNotifier,\n\t\tprivate readonly windowId: number,\n\t) {}\n\n\tasync onPartialLoginSuccess({ userId }: LoggedInEvent): Promise<void> {\n\t\tthis.wm.get(this.windowId)?.setUserId(userId)\n\t\tawait this.notifier.resolveGroupedNotification(userId)\n\t}\n\n\tasync onFullLoginSuccess({ userId }: LoggedInEvent): Promise<void> {\n\t\tthis.wm.get(this.windowId)?.setUserId(userId)\n\t\tawait this.err.sendErrorReport(this.windowId)\n\t}\n}\n"]}