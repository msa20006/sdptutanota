{"version":3,"file":"WhitelabelImprintAndPrivacySettings.js","sourceRoot":"","sources":["../../../../../src/common/settings/whitelabel/WhitelabelImprintAndPrivacySettings.ts"],"names":[],"mappings":"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","sourcesContent":["import { Dialog } from \"../../gui/base/Dialog\"\nimport { lang } from \"../../misc/LanguageViewModel\"\nimport m, { Children, Component, Vnode } from \"mithril\"\nimport { TextField, TextFieldType } from \"../../gui/base/TextField.js\"\nimport { Icons } from \"../../gui/base/icons/Icons\"\nimport { IconButton } from \"../../gui/base/IconButton.js\"\nimport { ButtonSize } from \"../../gui/base/ButtonSize.js\"\n\nexport type WhitelabelImprintAndPrivacySettingsAttrs = {\n\tprivacyStatementUrl: string\n\tonPrivacyStatementUrlChanged: ((privacyStatementUrl: string) => unknown) | null\n\timprintUrl: string\n\tonImprintUrlChanged: ((imprintUrl: string) => unknown) | null\n}\n\nexport class WhitelabelImprintAndPrivacySettings implements Component<WhitelabelImprintAndPrivacySettingsAttrs> {\n\tview(vnode: Vnode<WhitelabelImprintAndPrivacySettingsAttrs>): Children {\n\t\tconst { privacyStatementUrl, onPrivacyStatementUrlChanged, imprintUrl, onImprintUrlChanged } = vnode.attrs\n\t\treturn [\n\t\t\tthis.renderWhitelabelImprintSetting(imprintUrl, onImprintUrlChanged),\n\t\t\tthis.renderPrivacyPolicySetting(privacyStatementUrl, onPrivacyStatementUrlChanged),\n\t\t]\n\t}\n\n\tprivate renderPrivacyPolicySetting(privacyStatementUrl: string, onPrivacyStatementUrlChanged: ((arg0: string) => unknown) | null): Children {\n\t\treturn m(TextField, {\n\t\t\tlabel: \"privacyPolicyUrl_label\",\n\t\t\tvalue: privacyStatementUrl,\n\t\t\tisReadOnly: true,\n\t\t\tinjectionsRight: () =>\n\t\t\t\tonPrivacyStatementUrlChanged\n\t\t\t\t\t? m(IconButton, {\n\t\t\t\t\t\t\ttitle: \"edit_action\",\n\t\t\t\t\t\t\tclick: () => this.editPrivacyStatementUrl(privacyStatementUrl, onPrivacyStatementUrlChanged),\n\t\t\t\t\t\t\ticon: Icons.Edit,\n\t\t\t\t\t\t\tsize: ButtonSize.Compact,\n\t\t\t\t\t  })\n\t\t\t\t\t: null,\n\t\t})\n\t}\n\n\tprivate editPrivacyStatementUrl(privacyStatementUrl: string, onPrivacyStatementUrlChanged: (arg0: string) => unknown) {\n\t\tlet dialog = Dialog.showActionDialog({\n\t\t\ttitle: \"privacyLink_label\",\n\t\t\tchild: {\n\t\t\t\tview: () =>\n\t\t\t\t\tm(TextField, {\n\t\t\t\t\t\tlabel: \"privacyPolicyUrl_label\",\n\t\t\t\t\t\tvalue: privacyStatementUrl,\n\t\t\t\t\t\ttype: TextFieldType.Url,\n\t\t\t\t\t\toninput: (value) => (privacyStatementUrl = value.trim()),\n\t\t\t\t\t}),\n\t\t\t},\n\t\t\tallowOkWithReturn: true,\n\t\t\tokAction: (ok) => {\n\t\t\t\tif (ok) {\n\t\t\t\t\tonPrivacyStatementUrlChanged(privacyStatementUrl)\n\t\t\t\t\tdialog.close()\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t\treturn privacyStatementUrl\n\t}\n\n\tprivate renderWhitelabelImprintSetting(imprintUrl: string, onImprintUrlChanged: ((imprintUrl: string) => unknown) | null): Children {\n\t\treturn m(TextField, {\n\t\t\tlabel: \"imprintUrl_label\",\n\t\t\tvalue: imprintUrl,\n\t\t\tisReadOnly: true,\n\t\t\tinjectionsRight: () =>\n\t\t\t\tonImprintUrlChanged\n\t\t\t\t\t? m(IconButton, {\n\t\t\t\t\t\t\ttitle: \"edit_action\",\n\t\t\t\t\t\t\tclick: () => this.showEditImprintDialog(imprintUrl, onImprintUrlChanged),\n\t\t\t\t\t\t\ticon: Icons.Edit,\n\t\t\t\t\t\t\tsize: ButtonSize.Compact,\n\t\t\t\t\t  })\n\t\t\t\t\t: null,\n\t\t})\n\t}\n\n\tprivate showEditImprintDialog(imprintUrl: string, onImprintUrlChanged: (imprintUrl: string) => unknown) {\n\t\tconst dialog = Dialog.showActionDialog({\n\t\t\ttitle: \"imprintUrl_label\",\n\t\t\tchild: {\n\t\t\t\tview: () =>\n\t\t\t\t\tm(TextField, {\n\t\t\t\t\t\tlabel: \"imprintUrl_label\",\n\t\t\t\t\t\tvalue: imprintUrl,\n\t\t\t\t\t\ttype: TextFieldType.Url,\n\t\t\t\t\t\toninput: (value) => (imprintUrl = value.trim()),\n\t\t\t\t\t}),\n\t\t\t},\n\t\t\tallowOkWithReturn: true,\n\t\t\tokAction: (ok) => {\n\t\t\t\tif (ok) {\n\t\t\t\t\tonImprintUrlChanged(imprintUrl)\n\t\t\t\t\tdialog.close()\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t\treturn imprintUrl\n\t}\n}\n"]}