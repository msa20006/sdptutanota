{"version":3,"file":"KeyboardeventFromElectronAccelerator.js","sourceRoot":"","sources":["../../../../../src/common/desktop/electron-localshortcut/KeyboardeventFromElectronAccelerator.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-nocheck\n\nconst modifiers = /^(CommandOrControl|CmdOrCtrl|Command|Cmd|Control|Ctrl|AltGr|Option|Alt|Shift|Super)/i\nconst keyCodes =\n\t/^(Plus|Space|Tab|Backspace|Delete|Insert|Return|Enter|Up|Down|Left|Right|Home|End|PageUp|PageDown|Escape|Esc|VolumeUp|VolumeDown|VolumeMute|MediaNextTrack|MediaPreviousTrack|MediaStop|MediaPlayPause|PrintScreen|F24|F23|F22|F21|F20|F19|F18|F17|F16|F15|F14|F13|F12|F11|F10|F9|F8|F7|F6|F5|F4|F3|F2|F1|[0-9A-Z)!@#$%^&*(:+<_>?~{|}\";=,\\-./`[\\\\\\]'])/i\nexport type Event = {\n\tkey?: string\n\tcode?: string\n\tmetaKey?: boolean\n\tctrlKey?: boolean\n\taltKey?: boolean\n\tshiftKey?: boolean\n}\nexport type ReducedEvent = {\n\tevent: Event\n\taccelerator: string\n}\nexport const UNSUPPORTED = {} as ReducedEvent\ntype Modifier = \"CommandOrControl\" | \"CmdOrCtrl\" | \"Command\" | \"Cmd\" | \"Control\" | \"Ctrl\" | \"AltGr\" | \"Option\" | \"Alt\" | \"Shift\" | \"Super\"\n\nfunction _command(accelerator, event, modifier): ReducedEvent {\n\tif (process.platform !== \"darwin\") {\n\t\treturn UNSUPPORTED\n\t}\n\n\tif (event.metaKey) {\n\t\tthrow new Error(\"Double `Command` modifier specified.\")\n\t}\n\n\treturn {\n\t\tevent: Object.assign({}, event, {\n\t\t\tmetaKey: true,\n\t\t}),\n\t\taccelerator: accelerator.slice(modifier.length),\n\t}\n}\n\nfunction _super(accelerator, event, modifier): ReducedEvent {\n\tif (event.metaKey) {\n\t\tthrow new Error(\"Double `Super` modifier specified.\")\n\t}\n\n\treturn {\n\t\tevent: Object.assign({}, event, {\n\t\t\tmetaKey: true,\n\t\t}),\n\t\taccelerator: accelerator.slice(modifier.length),\n\t}\n}\n\nfunction _commandorcontrol(accelerator, event, modifier): ReducedEvent {\n\tif (process.platform === \"darwin\") {\n\t\tif (event.metaKey) {\n\t\t\tthrow new Error(\"Double `Command` modifier specified.\")\n\t\t}\n\n\t\treturn {\n\t\t\tevent: Object.assign({}, event, {\n\t\t\t\tmetaKey: true,\n\t\t\t}),\n\t\t\taccelerator: accelerator.slice(modifier.length),\n\t\t}\n\t}\n\n\tif (event.ctrlKey) {\n\t\tthrow new Error(\"Double `Control` modifier specified.\")\n\t}\n\n\treturn {\n\t\tevent: Object.assign({}, event, {\n\t\t\tctrlKey: true,\n\t\t}),\n\t\taccelerator: accelerator.slice(modifier.length),\n\t}\n}\n\nfunction _alt(accelerator, event, modifier): ReducedEvent {\n\tif (modifier === \"option\" && process.platform !== \"darwin\") {\n\t\treturn UNSUPPORTED\n\t}\n\n\tif (event.altKey) {\n\t\tthrow new Error(\"Double `Alt` modifier specified.\")\n\t}\n\n\treturn {\n\t\tevent: Object.assign({}, event, {\n\t\t\taltKey: true,\n\t\t}),\n\t\taccelerator: accelerator.slice(modifier.length),\n\t}\n}\n\nfunction _shift(accelerator, event, modifier): ReducedEvent {\n\tif (event.shiftKey) {\n\t\tthrow new Error(\"Double `Shift` modifier specified.\")\n\t}\n\n\treturn {\n\t\tevent: Object.assign({}, event, {\n\t\t\tshiftKey: true,\n\t\t}),\n\t\taccelerator: accelerator.slice(modifier.length),\n\t}\n}\n\nfunction _control(accelerator, event, modifier): ReducedEvent {\n\tif (event.ctrlKey) {\n\t\tthrow new Error(\"Double `Control` modifier specified.\")\n\t}\n\n\treturn {\n\t\tevent: Object.assign({}, event, {\n\t\t\tctrlKey: true,\n\t\t}),\n\t\taccelerator: accelerator.slice(modifier.length),\n\t}\n}\n\nexport function reduceModifier({ accelerator, event }: ReducedEvent, modifier: Modifier): ReducedEvent {\n\tswitch (modifier.toLowerCase()) {\n\t\tcase \"command\":\n\t\tcase \"cmd\": {\n\t\t\treturn _command(accelerator, event, modifier)\n\t\t}\n\n\t\tcase \"super\": {\n\t\t\treturn _super(accelerator, event, modifier)\n\t\t}\n\n\t\tcase \"control\":\n\t\tcase \"ctrl\": {\n\t\t\treturn _control(accelerator, event, modifier)\n\t\t}\n\n\t\tcase \"commandOrControl\":\n\t\tcase \"cmdOrCtrl\": {\n\t\t\treturn _commandorcontrol(accelerator, event, modifier)\n\t\t}\n\n\t\tcase \"option\":\n\t\tcase \"altGr\":\n\t\tcase \"alt\": {\n\t\t\treturn _alt(accelerator, event, modifier)\n\t\t}\n\n\t\tcase \"shift\": {\n\t\t\treturn _shift(accelerator, event, modifier)\n\t\t}\n\n\t\tdefault:\n\t\t\tthrow new Error(`unknown modifier ${modifier}`)\n\t}\n}\n\nexport function reducePlus({ accelerator, event }: ReducedEvent): ReducedEvent {\n\treturn {\n\t\tevent,\n\t\taccelerator: accelerator.trim().slice(1),\n\t}\n}\n\nconst virtualKeyCodes = {\n\t\"0\": \"Digit0\",\n\t\"1\": \"Digit1\",\n\t\"2\": \"Digit2\",\n\t\"3\": \"Digit3\",\n\t\"4\": \"Digit4\",\n\t\"5\": \"Digit5\",\n\t\"6\": \"Digit6\",\n\t\"7\": \"Digit7\",\n\t\"8\": \"Digit8\",\n\t\"9\": \"Digit9\",\n\t\"-\": \"Minus\",\n\t\"=\": \"Equal\",\n\tQ: \"KeyQ\",\n\tW: \"KeyW\",\n\tE: \"KeyE\",\n\tR: \"KeyR\",\n\tT: \"KeyT\",\n\tY: \"KeyY\",\n\tU: \"KeyU\",\n\tI: \"KeyI\",\n\tO: \"KeyO\",\n\tP: \"KeyP\",\n\t\"[\": \"BracketLeft\",\n\t\"]\": \"BracketRight\",\n\tA: \"KeyA\",\n\tS: \"KeyS\",\n\tD: \"KeyD\",\n\tF: \"KeyF\",\n\tG: \"KeyG\",\n\tH: \"KeyH\",\n\tJ: \"KeyJ\",\n\tK: \"KeyK\",\n\tL: \"KeyL\",\n\t\";\": \"Semicolon\",\n\t\"'\": \"Quote\",\n\t\"`\": \"Backquote\",\n\t\"/\": \"Backslash\",\n\tZ: \"KeyZ\",\n\tX: \"KeyX\",\n\tC: \"KeyC\",\n\tV: \"KeyV\",\n\tB: \"KeyB\",\n\tN: \"KeyN\",\n\tM: \"KeyM\",\n\t\",\": \"Comma\",\n\t\".\": \"Period\",\n\t\"\\\\\": \"Slash\",\n\t\" \": \"Space\",\n}\n\nexport function reduceKey({ accelerator, event }: ReducedEvent, key: string): ReducedEvent {\n\tif (key.length > 1 || event.key) {\n\t\tthrow new Error(`Unvalid keycode \\`${key}\\`.`)\n\t}\n\n\tconst code = key.toUpperCase() in virtualKeyCodes ? virtualKeyCodes[key.toUpperCase()] : null\n\treturn {\n\t\tevent: Object.assign(\n\t\t\t{},\n\t\t\tevent,\n\t\t\t{\n\t\t\t\tkey,\n\t\t\t},\n\t\t\tcode\n\t\t\t\t? {\n\t\t\t\t\t\tcode,\n\t\t\t\t  }\n\t\t\t\t: null,\n\t\t),\n\t\taccelerator: accelerator.trim().slice(key.length),\n\t}\n}\n\nconst domKeys = Object.assign(Object.create(null), {\n\tplus: \"Add\",\n\tspace: \"Space\",\n\ttab: \"Tab\",\n\tbackspace: \"Backspace\",\n\tdelete: \"Delete\",\n\tinsert: \"Insert\",\n\treturn: \"Return\",\n\tenter: \"Return\",\n\tup: \"ArrowUp\",\n\tdown: \"ArrowDown\",\n\tleft: \"ArrowLeft\",\n\tright: \"ArrowRight\",\n\thome: \"Home\",\n\tend: \"End\",\n\tpageup: \"PageUp\",\n\tpagedown: \"PageDown\",\n\tescape: \"Escape\",\n\tesc: \"Escape\",\n\tvolumeup: \"AudioVolumeUp\",\n\tvolumedown: \"AudioVolumeDown\",\n\tvolumemute: \"AudioVolumeMute\",\n\tmedianexttrack: \"MediaTrackNext\",\n\tmediaprevioustrack: \"MediaTrackPrevious\",\n\tmediastop: \"MediaStop\",\n\tmediaplaypause: \"MediaPlayPause\",\n\tprintscreen: \"PrintScreen\",\n})\n\n// Add function keys\nfor (let i = 1; i <= 24; i++) {\n\tdomKeys[`f${i}`] = `F${i}`\n}\n\nexport function reduceCode(\n\t{ accelerator, event }: ReducedEvent,\n\t{\n\t\tcode,\n\t\tkey,\n\t}: {\n\t\tcode: string\n\t\tkey: string\n\t},\n): ReducedEvent {\n\tif (event.code) {\n\t\tthrow new Error(`Duplicated keycode \\`${key}\\`.`)\n\t}\n\n\treturn {\n\t\tevent: Object.assign(\n\t\t\t{},\n\t\t\tevent,\n\t\t\t{\n\t\t\t\tkey,\n\t\t\t},\n\t\t\tcode\n\t\t\t\t? {\n\t\t\t\t\t\tcode,\n\t\t\t\t  }\n\t\t\t\t: null,\n\t\t),\n\t\taccelerator: accelerator.trim().slice((key && key.length) || 0),\n\t}\n}\n\n/**\n * This function transform an Electron Accelerator string into\n * a DOM KeyboardEvent object.\n *\n * @param  {string} accelerator an Electron Accelerator string, e.g. `Ctrl+C` or `Shift+Space`.\n * @return {object} a DOM KeyboardEvent object derivate from the `accelerator` argument.\n */\nexport function toKeyEvent(accelerator: string): object {\n\tlet state: ReducedEvent = {\n\t\taccelerator,\n\t\tevent: {},\n\t}\n\n\twhile (state.accelerator !== \"\") {\n\t\tconst modifierMatch = state.accelerator.match(modifiers)\n\n\t\tif (modifierMatch) {\n\t\t\tconst modifier = modifierMatch[0]\n\t\t\tstate = reduceModifier(state, modifier as any)\n\n\t\t\tif (state === UNSUPPORTED) {\n\t\t\t\treturn {\n\t\t\t\t\tunsupportedKeyForPlatform: true,\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (state.accelerator.trim()[0] === \"+\") {\n\t\t\tstate = reducePlus(state)\n\t\t} else {\n\t\t\tconst codeMatch = state.accelerator.match(keyCodes)\n\n\t\t\tif (codeMatch) {\n\t\t\t\tconst code = codeMatch[0].toLowerCase()\n\n\t\t\t\tif (code in domKeys) {\n\t\t\t\t\tstate = reduceCode(state, {\n\t\t\t\t\t\tcode: domKeys[code],\n\t\t\t\t\t\tkey: code,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tstate = reduceKey(state, code)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Unvalid accelerator: \"${String(state.accelerator)}\"`)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn state.event\n}\n"]}