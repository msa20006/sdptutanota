{"version":3,"file":"MailAddressesUtils.js","sourceRoot":"","sources":["../../../../../src/common/settings/mailaddress/MailAddressesUtils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,gCAAgC,EAAE,MAAM,uCAAuC,CAAA;AAErG,OAAO,EAAE,oBAAoB,EAAE,MAAM,yCAAyC,CAAA;AAO9E,MAAM,CAAC,KAAK,UAAU,mBAAmB,CAAC,MAAuB,EAAE,iBAA2B;IAC7F,MAAM,YAAY,GAAG,MAAM,MAAM,CAAC,iBAAiB,EAAE,CAAC,gBAAgB,EAAE,CAAA;IACxE,IAAI,gBAAgB,GAAG,oBAAoB,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;IAEpF,IACC,CAAC,iBAAiB;QAClB,MAAM,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,OAAO;QACnE,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,IAAI,MAAM,CAAC,iBAAiB,EAAE,CAAC,aAAa,EAAE,CAAC,EAC5E,CAAC;QACF,gBAAgB,CAAC,IAAI,CAAC,GAAG,gCAAgC,CAAC,CAAA;IAC3D,CAAC;IAED,OAAO,gBAAgB,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,gBAAgB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAA;AACxF,CAAC;AAED,MAAM,UAAU,gBAAgB,CAAC,MAAc;IAC9C,OAAO,MAAM,KAAK,UAAU,CAAA;AAC7B,CAAC","sourcesContent":["import { AccountType, TUTA_MAIL_ADDRESS_SIGNUP_DOMAINS } from \"../../api/common/TutanotaConstants.js\"\nimport { LoginController } from \"../../api/main/LoginController.js\"\nimport { getCustomMailDomains } from \"../../api/common/utils/CustomerUtils.js\"\n\nexport interface EmailDomainData {\n\tdomain: string\n\tisPaid: boolean\n}\n\nexport async function getAvailableDomains(logins: LoginController, onlyCustomDomains?: boolean): Promise<EmailDomainData[]> {\n\tconst customerInfo = await logins.getUserController().loadCustomerInfo()\n\tlet availableDomains = getCustomMailDomains(customerInfo).map((info) => info.domain)\n\n\tif (\n\t\t!onlyCustomDomains &&\n\t\tlogins.getUserController().user.accountType !== AccountType.STARTER &&\n\t\t(availableDomains.length === 0 || logins.getUserController().isGlobalAdmin())\n\t) {\n\t\tavailableDomains.push(...TUTA_MAIL_ADDRESS_SIGNUP_DOMAINS)\n\t}\n\n\treturn availableDomains.map((domain) => ({ domain, isPaid: isPaidPlanDomain(domain) }))\n}\n\nexport function isPaidPlanDomain(domain: string): boolean {\n\treturn domain === \"tuta.com\"\n}\n"]}