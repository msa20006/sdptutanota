{"version":3,"file":"Carousel.js","sourceRoot":"","sources":["../../../../../src/common/gui/base/Carousel.ts"],"names":[],"mappings":"AAAA,OAAO,CAAiC,MAAM,SAAS,CAAA;AACvD,OAAO,EAAE,oBAAoB,EAAE,MAAM,2BAA2B,CAAA;AAChE,OAAO,EAAE,IAAI,EAAkB,MAAM,iCAAiC,CAAA;AAYtE,MAAM,OAAO,QAAQ;IACZ,YAAY,GAAuB,IAAI,CAAA;IACvC,YAAY,GAAgC,IAAI,CAAA;IAExD,IAAI,CAAC,KAA2B;QAC/B,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAA;QACzB,OAAO,CAAC,CACP,wCAAwC,EACxC;YACC,IAAI,EAAE,OAAO;YACb,sBAAsB,EAAE,UAAU;YAClC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;YACnC,KAAK,EAAE,KAAK,CAAC,KAAK;YAClB,KAAK,EAAE,KAAK,CAAC,KAAK;YAClB,QAAQ,EAAE,CAAC,UAAU,EAAE,EAAE;gBACxB,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,GAAkB,CAAA;gBACjD,IAAI,CAAC,YAAY,GAAG,IAAI,oBAAoB,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,MAAe,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAA;gBAC3G,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAA;YAC3B,CAAC;SACD,EACD,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAC/C,CAAA;IACF,CAAC;CACD;AAED,SAAS,WAAW,CAAC,KAAY;IAChC,OAAO,CAAC,CACP,4BAA4B,EAC5B;QACC,IAAI,EAAE,OAAO;QACb,WAAW,EAAE,OAAO;QACpB,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;KACnC,EACD,KAAK,CAAC,OAAO,CACb,CAAA;AACF,CAAC","sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { CalendarSwipeHandler } from \"./CalendarSwipeHandler.js\"\nimport { lang, TranslationKey } from \"../../misc/LanguageViewModel.js\"\n\ntype Slide = { label: TranslationKey; element: Children }\n\ninterface CarouselAttrs {\n\tlabel: TranslationKey\n\tslides: Slide[]\n\tclass?: string\n\tstyle?: Record<string, any>\n\tonSwipe: (isNext: boolean) => void\n}\n\nexport class Carousel implements Component<CarouselAttrs> {\n\tprivate containerDom: HTMLElement | null = null\n\tprivate swipeHandler: CalendarSwipeHandler | null = null\n\n\tview(vnode: Vnode<CarouselAttrs>): Children {\n\t\tconst attrs = vnode.attrs\n\t\treturn m(\n\t\t\t\"section.flex-space-around.column-gap-s\",\n\t\t\t{\n\t\t\t\trole: \"group\",\n\t\t\t\t\"aria-roledescription\": \"carousel\",\n\t\t\t\t\"aria-label\": lang.get(attrs.label),\n\t\t\t\tclass: attrs.class,\n\t\t\t\tstyle: attrs.style,\n\t\t\t\toncreate: (swiperNode) => {\n\t\t\t\t\tthis.containerDom = swiperNode.dom as HTMLElement\n\t\t\t\t\tthis.swipeHandler = new CalendarSwipeHandler(this.containerDom, (isNext: boolean) => attrs.onSwipe(isNext))\n\t\t\t\t\tthis.swipeHandler.attach()\n\t\t\t\t},\n\t\t\t},\n\t\t\tattrs.slides.map((slide) => renderSlide(slide)),\n\t\t)\n\t}\n}\n\nfunction renderSlide(slide: Slide): Children {\n\treturn m(\n\t\t\".full-width.min-width-full\",\n\t\t{\n\t\t\trole: \"group\",\n\t\t\t\"aria-role\": \"slide\",\n\t\t\t\"aria-label\": lang.get(slide.label),\n\t\t},\n\t\tslide.element,\n\t)\n}\n"]}