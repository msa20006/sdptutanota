{"version":3,"file":"CancellationReasonInput.js","sourceRoot":"","sources":["../../../../src/common/subscription/CancellationReasonInput.ts"],"names":[],"mappings":"AAAA,OAAO,CAAsB,MAAM,SAAS,CAAA;AAC5C,OAAO,EAAE,IAAI,EAAE,MAAM,2BAA2B,CAAA;AAChD,OAAO,EAAE,gBAAgB,EAA8B,MAAM,iCAAiC,CAAA;AAC9F,OAAO,EAAE,SAAS,EAAE,MAAM,0BAA0B,CAAA;AASpD;;GAEG;AACH,MAAM,OAAO,uBAAuB;IACnC,IAAI,CAAC,KAA0C;QAC9C,OAAO;YACN,CAAC,CAAC,mBAAmB,EAAE,IAAI,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YACxD,CAAC,CAAC,gBAAgB,EAAE;gBACnB,KAAK,EAAE,cAAc;gBACrB,KAAK,EAAE;oBACN;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,gCAAgC,CAAC;wBAChD,KAAK,EAAE,IAAI;qBACX;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,mCAAmC,CAAC;wBACnD,KAAK,EAAE,GAAG;qBACV;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,4BAA4B,CAAC;wBAC5C,KAAK,EAAE,GAAG;qBACV;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,+BAA+B,CAAC;wBAC/C,KAAK,EAAE,GAAG;qBACV;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,gCAAgC,CAAC;wBAChD,KAAK,EAAE,GAAG;qBACV;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,8BAA8B,CAAC;wBAC9C,KAAK,EAAE,GAAG;qBACV;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,8BAA8B,CAAC;wBAC9C,KAAK,EAAE,GAAG;qBACV;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,gCAAgC,CAAC;wBAChD,KAAK,EAAE,GAAG;qBACV;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,gCAAgC,CAAC;wBAChD,KAAK,EAAE,GAAG;qBACV;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,sCAAsC,CAAC;wBACtD,KAAK,EAAE,GAAG;qBACV;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,gCAAgC,CAAC;wBAChD,KAAK,EAAE,IAAI;qBACX;oBACD;wBACC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,+BAA+B,CAAC;wBAC/C,KAAK,EAAE,IAAI;qBACX;iBACD;gBACD,aAAa,EAAE,KAAK,CAAC,KAAK,CAAC,QAAQ;gBACnC,uBAAuB,EAAE,KAAK,CAAC,KAAK,CAAC,eAAe;gBACpD,aAAa,EAAE,GAAG;aACmC,CAAC;YACvD,CAAC,CAAC,SAAS,EAAE;gBACZ,KAAK,EAAE,kBAAkB;gBACzB,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,MAAM;gBACzB,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,aAAa;gBAClC,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,8BAA8B,CAAC;aACzD,CAAC;SACF,CAAA;IACF,CAAC;CACD","sourcesContent":["import m, { Children, Vnode } from \"mithril\"\nimport { lang } from \"../misc/LanguageViewModel\"\nimport { DropDownSelector, type DropDownSelectorAttrs } from \"../gui/base/DropDownSelector.js\"\nimport { TextField } from \"../gui/base/TextField.js\"\n\nexport type CancellationReasonInputAttrs = {\n\tcategory: NumberString | null\n\treason: string\n\tcategoryHandler: (category: NumberString | null) => unknown\n\treasonHandler: (reason: string) => unknown\n}\n\n/**\n * Allows the user to specify why they want to delete or downgrade their account.\n */\nexport class CancellationReasonInput {\n\tview(vnode: Vnode<CancellationReasonInputAttrs>): Children {\n\t\treturn [\n\t\t\tm(\".mt.pb-s.b.center\", lang.get(\"cancellationInfo_msg\")),\n\t\t\tm(DropDownSelector, {\n\t\t\t\tlabel: \"whyLeave_msg\",\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"experienceSamplingAnswer_label\"),\n\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonUsability_label\"),\n\t\t\t\t\t\tvalue: \"1\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonUI_label\"),\n\t\t\t\t\t\tvalue: \"2\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonPrice_label\"),\n\t\t\t\t\t\tvalue: \"3\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonSearch_label\"),\n\t\t\t\t\t\tvalue: \"4\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonSpam_label\"),\n\t\t\t\t\t\tvalue: \"5\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonImap_label\"),\n\t\t\t\t\t\tvalue: \"6\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonImport_label\"),\n\t\t\t\t\t\tvalue: \"7\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonLabels_label\"),\n\t\t\t\t\t\tvalue: \"8\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonOtherFeature_label\"),\n\t\t\t\t\t\tvalue: \"9\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonNoNeed_label\"),\n\t\t\t\t\t\tvalue: \"10\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: lang.get(\"cancellationReasonOther_label\"),\n\t\t\t\t\t\tvalue: \"11\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tselectedValue: vnode.attrs.category,\n\t\t\t\tselectionChangedHandler: vnode.attrs.categoryHandler,\n\t\t\t\tdropdownWidth: 350,\n\t\t\t} satisfies DropDownSelectorAttrs<NumberString | null>),\n\t\t\tm(TextField, {\n\t\t\t\tlabel: \"enterDetails_msg\",\n\t\t\t\tvalue: vnode.attrs.reason,\n\t\t\t\toninput: vnode.attrs.reasonHandler,\n\t\t\t\thelpLabel: () => lang.get(\"cancellationConfirmation_msg\"),\n\t\t\t}),\n\t\t]\n\t}\n}\n"]}