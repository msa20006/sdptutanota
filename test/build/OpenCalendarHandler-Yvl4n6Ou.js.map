{"version":3,"file":"OpenCalendarHandler-Yvl4n6Ou.js","names":["logins: LoginController","userId: Id"],"sources":["../../src/common/native/main/OpenCalendarHandler.ts"],"sourcesContent":["import m from \"mithril\"\nimport { LoginController } from \"../../api/main/LoginController.js\"\n\n/**\n * Handles requests for opening calendar paths from native.\n */\nexport class OpenCalendarHandler {\n\tconstructor(private readonly logins: LoginController) {}\n\n\tasync openCalendar(userId: Id): Promise<void> {\n\t\tif (this.logins.isUserLoggedIn() && this.logins.getUserController().user._id === userId) {\n\t\t\tm.route.set(\"/calendar/agenda\")\n\t\t} else {\n\t\t\tm.route.set(`/login?noAutoLogin=false&userId=${userId}&requestedPath=${encodeURIComponent(\"/calendar/agenda\")}`)\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMa,sBAAN,MAA0B;CAChC,YAA6BA,QAAyB;EAUtD,KAV6B;CAA2B;CAExD,MAAM,aAAaC,QAA2B;AAC7C,MAAI,KAAK,OAAO,gBAAgB,IAAI,KAAK,OAAO,mBAAmB,CAAC,KAAK,QAAQ,OAChF,iBAAE,MAAM,IAAI,mBAAmB;IAE/B,iBAAE,MAAM,KAAK,kCAAkC,OAAO,iBAAiB,mBAAmB,mBAAmB,CAAC,EAAE;CAEjH;AACD"}