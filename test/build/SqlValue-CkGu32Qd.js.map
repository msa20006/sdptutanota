{"version":3,"file":"SqlValue-CkGu32Qd.js","names":["params: Record<string, SqlValue>","p: SqlValue","param: SqlValue","tagged: TaggedSqlValue","tagged: Record<string, TaggedSqlValue>","p: TaggedSqlValue"],"sources":["../../src/common/api/worker/offline/SqlValue.ts"],"sourcesContent":["import { mapObject } from \"@tutao/tutanota-utils\"\n\nexport type SqlValue = null | string | number | Uint8Array\n\n/**\n * Type tag for values being passed to SQL statements\n */\nexport const enum SqlType {\n\tNull = \"SqlNull\",\n\tNumber = \"SqlNum\",\n\tString = \"SqlStr\",\n\tBytes = \"SqlBytes\",\n}\n\nexport type FormattedQuery = { query: string; params: TaggedSqlValue[] }\nexport type TaggedSqlValue =\n\t| { type: SqlType.Null; value: null }\n\t| { type: SqlType.String; value: string }\n\t| { type: SqlType.Number; value: number }\n\t| { type: SqlType.Bytes; value: Uint8Array }\n\nexport function tagSqlObject(params: Record<string, SqlValue>): Record<string, TaggedSqlValue> {\n\treturn mapObject((p: SqlValue) => tagSqlValue(p), params)\n}\n\nexport function tagSqlValue(param: SqlValue): TaggedSqlValue {\n\tif (typeof param === \"string\") {\n\t\treturn { type: SqlType.String, value: param }\n\t} else if (typeof param === \"number\") {\n\t\treturn { type: SqlType.Number, value: param }\n\t} else if (param == null) {\n\t\treturn { type: SqlType.Null, value: null }\n\t} else {\n\t\treturn { type: SqlType.Bytes, value: param }\n\t}\n}\n\nexport function untagSqlValue(tagged: TaggedSqlValue): SqlValue {\n\treturn tagged.value\n}\n\nexport function untagSqlObject(tagged: Record<string, TaggedSqlValue>): Record<string, SqlValue> {\n\treturn mapObject((p: TaggedSqlValue) => p.value, tagged)\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOkB,8BAAX;AACN;AACA;AACA;AACA;;AACA;AASM,SAAS,aAAaA,QAAkE;AAC9F,QAAO,UAAU,CAACC,MAAgB,YAAY,EAAE,EAAE,OAAO;AACzD;AAEM,SAAS,YAAYC,OAAiC;AAC5D,YAAW,UAAU,SACpB,QAAO;EAAE,MAAM,QAAQ;EAAQ,OAAO;CAAO;gBAC5B,UAAU,SAC3B,QAAO;EAAE,MAAM,QAAQ;EAAQ,OAAO;CAAO;SACnC,SAAS,KACnB,QAAO;EAAE,MAAM,QAAQ;EAAM,OAAO;CAAM;IAE1C,QAAO;EAAE,MAAM,QAAQ;EAAO,OAAO;CAAO;AAE7C;AAEM,SAAS,cAAcC,QAAkC;AAC/D,QAAO,OAAO;AACd;AAEM,SAAS,eAAeC,QAAkE;AAChG,QAAO,UAAU,CAACC,MAAsB,EAAE,OAAO,OAAO;AACxD"}