{"version":3,"file":"BubbleButton-DGGInJMg.js","names":[],"sources":["../../src/common/gui/base/buttons/BubbleButton.ts"],"sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport { BaseButton, BaseButtonAttrs } from \"./BaseButton.js\"\nimport { lang, MaybeTranslation } from \"../../../misc/LanguageViewModel.js\"\nimport { AllIcons, Icon } from \"../Icon.js\"\nimport { theme } from \"../../theme.js\"\nimport { styles } from \"../../styles.js\"\nimport { px, size } from \"../../size.js\"\n\nexport interface BubbleButtonAttrs {\n\tlabel: MaybeTranslation\n\ttext?: MaybeTranslation\n\ticon?: AllIcons\n\tonclick: BaseButtonAttrs[\"onclick\"]\n}\n\nexport function bubbleButtonHeight(): number {\n\treturn usingMobileBubbleButton() ? size.button_height : size.button_height_bubble\n}\n\nexport function usingMobileBubbleButton() {\n\treturn styles.isUsingBottomNavigation()\n}\n\nexport function bubbleButtonPadding(): string {\n\treturn usingMobileBubbleButton() ? \"plr-button-double\" : \"plr-button\"\n}\n\n/**\n * Button that renders an icon, some text next to it and additional children on the right.\n * The text will be ellipsized if it doesn't fit, unlike most buttons.\n * It will change it's look based on mobile/desktop layout to have bigger touch area for mobile devices.\n */\nexport class BubbleButton implements Component<BubbleButtonAttrs> {\n\tview({ attrs, children }: Vnode<BubbleButtonAttrs>): Children {\n\t\treturn m(\n\t\t\tBaseButton,\n\t\t\t{\n\t\t\t\tlabel: attrs.label,\n\t\t\t\ttext: attrs.text ? m(\"span.text-ellipsis\", lang.getTranslationText(attrs.text)) : lang.getTranslationText(attrs.label),\n\t\t\t\ticon:\n\t\t\t\t\tattrs.icon &&\n\t\t\t\t\tm(Icon, {\n\t\t\t\t\t\ticon: attrs.icon,\n\t\t\t\t\t\tcontainer: \"div\",\n\t\t\t\t\t\tclass: \"mr-xs mb-xs\",\n\t\t\t\t\t\tstyle: { fill: theme.button_bubble_fg },\n\t\t\t\t\t}),\n\t\t\t\ticonWrapperSelector: \".icon.mr-hpad-small\",\n\t\t\t\tstyle: { height: px(bubbleButtonHeight()), maxHeight: px(bubbleButtonHeight()) },\n\t\t\t\tclass: `smaller bubble flex center-vertically limit-width ${bubbleButtonPadding()} flash`,\n\t\t\t\tonclick: attrs.onclick,\n\t\t\t},\n\t\t\tchildren,\n\t\t)\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeO,SAAS,qBAA6B;AAC5C,QAAO,yBAAyB,GAAG,KAAK,gBAAgB,KAAK;AAC7D;AAEM,SAAS,0BAA0B;AACzC,QAAO,OAAO,yBAAyB;AACvC;AAEM,SAAS,sBAA8B;AAC7C,QAAO,yBAAyB,GAAG,sBAAsB;AACzD;IAOY,eAAN,MAA2D;CACjE,KAAK,EAAE,OAAO,UAAoC,EAAY;AAC7D,SAAO,gBACN,YACA;GACC,OAAO,MAAM;GACb,MAAM,MAAM,OAAO,gBAAE,sBAAsB,KAAK,mBAAmB,MAAM,KAAK,CAAC,GAAG,KAAK,mBAAmB,MAAM,MAAM;GACtH,MACC,MAAM,QACN,gBAAE,MAAM;IACP,MAAM,MAAM;IACZ,WAAW;IACX,OAAO;IACP,OAAO,EAAE,MAAM,MAAM,iBAAkB;GACvC,EAAC;GACH,qBAAqB;GACrB,OAAO;IAAE,QAAQ,GAAG,oBAAoB,CAAC;IAAE,WAAW,GAAG,oBAAoB,CAAC;GAAE;GAChF,QAAQ,oDAAoD,qBAAqB,CAAC;GAClF,SAAS,MAAM;EACf,GACD,SACA;CACD;AACD"}