
globalThis.env = {
  "staticUrl": "http://localhost:9000",
  "versionNumber": "264.250130.1",
  "dist": false,
  "mode": "Test",
  "timeout": 20000,
  "domainConfigs": {
    "mail.tutanota.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.tuta.com",
      "apiUrl": "https://mail.tutanota.com",
      "paymentUrl": "https://pay.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://mail.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://mail.tutanota.com/webauthnmobile",
      "webauthnRpId": "tutanota.com",
      "u2fAppId": "https://tutanota.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.tuta.com/giftcard",
      "referralBaseUrl": "https://app.tuta.com/signup",
      "websiteBaseUrl": "https://tutanota.com"
    },
    "test.tutanota.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.test.tuta.com",
      "apiUrl": "https://test.tutanota.com",
      "paymentUrl": "https://pay.test.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.test.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://test.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.test.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://test.tutanota.com/webauthnmobile",
      "webauthnRpId": "tutanota.com",
      "u2fAppId": "https://test.tutanota.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.test.tuta.com/giftcard",
      "referralBaseUrl": "https://app.test.tuta.com/signup",
      "websiteBaseUrl": "https://tutanota.com"
    },
    "app.local.tutanota.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.local.tuta.com:9000",
      "apiUrl": "https://app.local.tutanota.com:9000",
      "paymentUrl": "https://local.tutanota.com:9000/client/build/braintree.html",
      "webauthnUrl": "https://app.local.tuta.com:9000/client/build/webauthn",
      "legacyWebauthnUrl": "https://local.tutanota.com:9000/client/build/webauthn",
      "webauthnMobileUrl": "https://app.local.tuta.com:9000/client/build/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://local.tutanota.com:9000/client/build/webauthnmobile",
      "webauthnRpId": "tutanota.com",
      "u2fAppId": "https://local.tutanota.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.local.tuta.com:9000/giftcard",
      "referralBaseUrl": "https://app.local.tuta.com:9000/signup",
      "websiteBaseUrl": "https://local.tutanota.com:9000"
    },
    "app.tuta.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://mail.tutanota.com",
      "apiUrl": "https://app.tuta.com",
      "paymentUrl": "https://pay.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://mail.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://mail.tutanota.com/webauthnmobile",
      "webauthnRpId": "tuta.com",
      "u2fAppId": "https://app.tuta.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.tuta.com/giftcard",
      "referralBaseUrl": "https://app.tuta.com/signup",
      "websiteBaseUrl": "https://tuta.com"
    },
    "app.test.tuta.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://test.tutanota.com",
      "apiUrl": "https://app.test.tuta.com",
      "paymentUrl": "https://pay.test.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.test.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://test.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.test.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://test.tutanota.com/webauthnmobile",
      "webauthnRpId": "tuta.com",
      "u2fAppId": "https://app.test.tuta.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.test.tuta.com/giftcard",
      "referralBaseUrl": "https://app.test.tuta.com/signup",
      "websiteBaseUrl": "https://test.tuta.com"
    },
    "app.local.tuta.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.local.tutanota.com:9000",
      "apiUrl": "https://app.local.tuta.com:9000",
      "paymentUrl": "https://app.local.tuta.com:9000/braintree.html",
      "webauthnUrl": "https://app.local.tuta.com:9000/webauthn",
      "legacyWebauthnUrl": "https://local.tutanota.com:9000/webauthn",
      "webauthnMobileUrl": "https://app.local.tuta.com:9000/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://local.tutanota.com:9000/webauthnmobile",
      "webauthnRpId": "tuta.com",
      "u2fAppId": "https://app.local.tuta.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.local.tuta.com:9000/giftcard",
      "referralBaseUrl": "https://app.local.tuta.com:9000/signup",
      "websiteBaseUrl": "https://local.tuta.com:9000"
    },
    "localhost": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "http://localhost:9000",
      "apiUrl": "http://localhost:9000",
      "paymentUrl": "http://localhost:9000/braintree.html",
      "webauthnUrl": "http://localhost:9000/webauthn",
      "legacyWebauthnUrl": "http://localhost:9000/webauthn",
      "webauthnMobileUrl": "http://localhost:9000/webauthnmobile",
      "legacyWebauthnMobileUrl": "http://localhost:9000/webauthnmobile",
      "webauthnRpId": "localhost",
      "u2fAppId": "http://localhost:9000/u2f-appid.json",
      "giftCardBaseUrl": "http://localhost:9000/giftcard",
      "referralBaseUrl": "http://localhost:9000/signup",
      "websiteBaseUrl": "https://tuta.com"
    },
    "{hostname}": {
      "firstPartyDomain": false,
      "partneredDomainTransitionUrl": "{protocol}//{hostname}",
      "apiUrl": "{protocol}//{hostname}",
      "paymentUrl": "https://pay.tutanota.com/braintree.html",
      "webauthnUrl": "{protocol}//{hostname}/webauthn",
      "legacyWebauthnUrl": "{protocol}//{hostname}/webauthn",
      "webauthnMobileUrl": "{protocol}//{hostname}/webauthnmobile",
      "legacyWebauthnMobileUrl": "{protocol}//{hostname}/webauthnmobile",
      "webauthnRpId": "{hostname}",
      "u2fAppId": "{protocol}//{hostname}/u2f-appid.json",
      "giftCardBaseUrl": "https://app.tuta.com/giftcard",
      "referralBaseUrl": "https://app.tuta.com/signup",
      "websiteBaseUrl": "https://tuta.com"
    }
  },
  "platformId": null
};
const __NODE_GYP_better_sqlite3 = `./better-sqlite3.darwin-${typeof process !== 'undefined' ? process.arch : "unknown"}.node`
import { ProgrammingError } from "./ProgrammingError-D8yJGVtm.js";
import { DateTime } from "./luxon-D6cgmg6Q.js";
import { createBirthday } from "./TypeRefs-CR3TLWn0.js";

//#region ../src/common/misc/DateParser.ts
/**
* parses the following formats:
*
* zh-hant    2017/6/23
* hu         2017. 06. 23.
* lt-lt      2017-06-23
*
* en        6/23/2017
* fil-ph    6/23/2017
* no        6/23/2017

* sq        23.6.2017
* hr        23. 06. 2017.
* nl        23-6-2017
* de        23.6.2017
* el        23/6/2017
* fr        23/06/2017
* it        23/6/2017
* pl        23.06.2017
* pt-pt     23/06/2017
* pt-br     23/06/2017
* ro        23.06.2017
* ru        23.06.2017
* es        23/6/2017
* tr        23.06.2017
* fi        23.6.2017
* mk        23.6.2017
* sr        23.6.2017.
* cs-cz     23. 6. 2017
* da-dk     23/6/2017
* et-ee     23.6.2017
* id        23/6/2017
* bg-bg     23.06.2017 Ð³.

* @param dateString
* @returns The timestamp from the given date string
*/
const referenceDate = new Date(2017, 5, 23);
function parseDate(dateString, referenceDateRenderer) {
	const referenceParts = _cleanupAndSplit(referenceDateRenderer(referenceDate));
	const dayPos = referenceParts.findIndex((e) => e === 23);
	const monthPos = referenceParts.findIndex((e) => e === 6);
	const yearPos = referenceParts.findIndex((e) => e === 2017);
	const parts = _cleanupAndSplit(dateString);
	let day, month, year;
	if (parts.length === 3) {
		day = parts[dayPos];
		month = parts[monthPos];
		year = parts[yearPos];
	} else if (parts.length === 2) {
		if (yearPos === 0) {
			day = parts[dayPos - 1];
			month = parts[monthPos - 1];
		} else {
			day = parts[dayPos];
			month = parts[monthPos];
		}
		year = new Date().getFullYear();
	} else throw new ProgrammingError(`could not parse dateString '${dateString}' with reference date ${referenceParts}`);
	if (year < 1e3) year += 2e3;
	if (month < 1 || month > 12) throw new Error(`Invalid value ${month} for month in ${dateString}`);
	if (day < 1 || day > _getNumDaysInMonth(month, year)) throw new Error(`Invalid value ${day} for day in ${dateString}`);
	const date = new Date(year, month - 1, day);
	if (isNaN(date.getTime())) throw new Error(`Couldn't parse date string ${dateString}`);
	return date;
}
function _getNumDaysInMonth(month, year) {
	const { daysInMonth } = DateTime.fromObject({
		month,
		year
	});
	if (!daysInMonth) throw new ProgrammingError(`could not get daysInMonth for month-year ${month}-${year}`);
	return daysInMonth;
}
function parseBirthday(text, referenceDateRenderer) {
	try {
		const referenceParts = _cleanupAndSplit(referenceDateRenderer(referenceDate));
		let dayPos = referenceParts.findIndex((e) => e === 23);
		let monthPos = referenceParts.findIndex((e) => e === 6);
		let yearPos = referenceParts.findIndex((e) => e === 2017);
		let birthdayValues = _cleanupAndSplit(text);
		let day, month, year;
		if (String(birthdayValues[dayPos]).length < 3 && String(birthdayValues[monthPos]).length < 3) {
			if (birthdayValues[dayPos] < 32) day = String(birthdayValues[dayPos]);
else return null;
			if (birthdayValues[monthPos] < 13) month = String(birthdayValues[monthPos]);
else return null;
		} else return null;
		if (birthdayValues[yearPos]) if (String(birthdayValues[yearPos]).length === 4) year = String(birthdayValues[yearPos]);
else if (String(birthdayValues[yearPos]).length === 2) if (birthdayValues[yearPos] > Number(String(new Date().getFullYear()).substring(2))) year = "19" + String(birthdayValues[yearPos]);
else year = "20" + String(birthdayValues[yearPos]);
else return null;
else year = null;
		return createBirthday({
			day,
			month,
			year
		});
	} catch (e) {
		return null;
	}
}
function _cleanupAndSplit(dateString) {
	dateString = dateString.replace(/[^ 0-9./-]/g, "");
	return dateString.split(/[./-]/g).slice(0, 3).map((part) => parseInt(part));
}

//#endregion
export { _getNumDaysInMonth, parseBirthday, parseDate };
//# sourceMappingURL=DateParser-DIjdXKhX.js.map