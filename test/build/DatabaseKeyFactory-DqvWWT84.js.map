{"version":3,"file":"DatabaseKeyFactory-DqvWWT84.js","names":["crypto: DeviceEncryptionFacade"],"sources":["../../src/common/misc/credentials/DatabaseKeyFactory.ts"],"sourcesContent":["//@bundleInto:common\n\nimport type { DeviceEncryptionFacade } from \"../../api/worker/facades/DeviceEncryptionFacade\"\nimport { isOfflineStorageAvailable } from \"../../api/common/Env\"\n\n/**\n * Factory for generating an offline storage database key\n * Will return null whenever offline storage is not available\n */\nexport class DatabaseKeyFactory {\n\tconstructor(private crypto: DeviceEncryptionFacade) {}\n\n\tasync generateKey(): Promise<Uint8Array | null> {\n\t\treturn isOfflineStorageAvailable() ? this.crypto.generateKey() : null\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IASa,qBAAN,MAAyB;CAC/B,YAAoBA,QAAgC;EAMpD,KANoB;CAAkC;CAEtD,MAAM,cAA0C;AAC/C,SAAO,2BAA2B,GAAG,KAAK,OAAO,aAAa,GAAG;CACjE;AACD"}