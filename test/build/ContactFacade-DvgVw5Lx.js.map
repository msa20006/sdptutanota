{"version":3,"file":"ContactFacade-DvgVw5Lx.js","names":["entityClient: EntityClient","contacts: ReadonlyArray<Contact>","contactListId: Id"],"sources":["../../src/common/api/worker/facades/lazy/ContactFacade.ts"],"sourcesContent":["import type { Contact } from \"../../../entities/tutanota/TypeRefs.js\"\nimport { EntityClient } from \"../../../common/EntityClient.js\"\nimport { assertWorkerOrNode } from \"../../../common/Env.js\"\nimport { SetupMultipleError } from \"../../../common/error/SetupMultipleError.js\"\nimport { ImportError } from \"../../../common/error/ImportError.js\"\n\nassertWorkerOrNode()\n\nexport class ContactFacade {\n\tconstructor(private readonly entityClient: EntityClient) {}\n\n\tasync importContactList(contacts: ReadonlyArray<Contact>, contactListId: Id): Promise<void> {\n\t\ttry {\n\t\t\tawait this.entityClient.setupMultipleEntities(contactListId, contacts)\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tif (e instanceof SetupMultipleError) {\n\t\t\t\tconsole.error(\"Importing contacts failed\", e)\n\t\t\t\tthrow new ImportError(e.errors[0], \"Could not import all contacts\", e.failedInstances.length)\n\t\t\t}\n\t\t\tthrow e\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,oBAAoB;IAEP,gBAAN,MAAoB;CAC1B,YAA6BA,cAA4B;EAezD,KAf6B;CAA8B;CAE3D,MAAM,kBAAkBC,UAAkCC,eAAkC;AAC3F,MAAI;AACH,SAAM,KAAK,aAAa,sBAAsB,eAAe,SAAS;EACtE,SAAQ,GAAG;AACX,WAAQ,MAAM,EAAE;AAChB,OAAI,aAAa,oBAAoB;AACpC,YAAQ,MAAM,6BAA6B,EAAE;AAC7C,UAAM,IAAI,YAAY,EAAE,OAAO,IAAI,iCAAiC,EAAE,gBAAgB;GACtF;AACD,SAAM;EACN;CACD;AACD"}