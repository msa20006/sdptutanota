{"version":3,"file":"MobileContactSuggestionProvider-Cgo5GUEb.js","names":["mobileContactsFacade: MobileContactsFacade","query: string"],"sources":["../../src/common/native/main/MobileContactSuggestionProvider.ts"],"sourcesContent":["import { PermissionError } from \"../../api/common/error/PermissionError\"\nimport { MobileContactsFacade } from \"../common/generatedipc/MobileContactsFacade\"\nimport { ContactSuggestion } from \"../common/generatedipc/ContactSuggestion\"\nimport { ContactSuggestionProvider } from \"../../misc/RecipientsSearchModel\"\n\nexport class MobileContactSuggestionProvider implements ContactSuggestionProvider {\n\tprivate gotPermissionError: boolean = false\n\n\tconstructor(private readonly mobileContactsFacade: MobileContactsFacade) {}\n\n\tasync getContactSuggestions(query: string): Promise<readonly ContactSuggestion[]> {\n\t\tif (this.gotPermissionError) {\n\t\t\treturn []\n\t\t}\n\t\ttry {\n\t\t\treturn await this.mobileContactsFacade.findSuggestions(query)\n\t\t} catch (e) {\n\t\t\tif (e instanceof PermissionError) {\n\t\t\t\tthis.gotPermissionError = true\n\t\t\t\treturn []\n\t\t\t} else {\n\t\t\t\tthrow e\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKa,kCAAN,MAA2E;CACjF,AAAQ,qBAA8B;CAEtC,YAA6BA,sBAA4C;EAkBzE,KAlB6B;CAA8C;CAE3E,MAAM,sBAAsBC,OAAsD;AACjF,MAAI,KAAK,mBACR,QAAO,CAAE;AAEV,MAAI;AACH,UAAO,MAAM,KAAK,qBAAqB,gBAAgB,MAAM;EAC7D,SAAQ,GAAG;AACX,OAAI,aAAa,iBAAiB;AACjC,SAAK,qBAAqB;AAC1B,WAAO,CAAE;GACT,MACA,OAAM;EAEP;CACD;AACD"}