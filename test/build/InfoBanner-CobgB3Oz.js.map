{"version":3,"file":"InfoBanner-CobgB3Oz.js","names":["vnode: Vnode<NavButtonAttrs>","m","href: string | lazy<string>","a: NavButtonAttrs","attr: RouteLinkAttrs","e: MouseEvent","e: KeyboardEvent","dom: HTMLElement","ev: DragEvent","dropData: DropData","event: Event","buttonColors: NavButtonColor | null | undefined","href: string","vnode: Vnode<InfoBannerAttrs>","icon: AllIcons","type: BannerType | null","buttons: ReadonlyArray<BannerButtonAttrs | null>","helpLink?: InfoLink | null"],"sources":["../../src/common/gui/base/NavButton.ts","../../src/common/gui/base/InfoBanner.ts"],"sourcesContent":["import m, { Children, Component, RouteLinkAttrs, Vnode } from \"mithril\"\nimport { handleUncaughtError } from \"../../misc/ErrorHandler\"\nimport { px, size } from \"../size\"\nimport type { lazy } from \"@tutao/tutanota-utils\"\nimport { lazyStringValue, neverNull } from \"@tutao/tutanota-utils\"\nimport type { lazyIcon } from \"./Icon\"\nimport { Icon } from \"./Icon\"\nimport { theme } from \"../theme\"\nimport { styles } from \"../styles\"\nimport type { MaybeTranslation } from \"../../misc/LanguageViewModel\"\nimport { lang } from \"../../misc/LanguageViewModel\"\nimport { Keys } from \"../../api/common/TutanotaConstants\"\nimport { isKeyPressed } from \"../../misc/KeyManager\"\nimport { DropData, DropHandler, DropType } from \"./GuiUtils\"\nimport { assertMainOrNode, isDesktop } from \"../../api/common/Env\"\nimport { stateBgHover } from \"../builtinThemes.js\"\nimport { fileListToArray } from \"../../api/common/utils/FileUtils.js\"\n\nassertMainOrNode()\nexport type NavButtonAttrs = {\n\tlabel: MaybeTranslation\n\ticon?: lazyIcon\n\thref: string | lazy<string>\n\tisSelectedPrefix?: string | boolean\n\tclick?: (event: Event, dom: HTMLElement) => unknown\n\tcolors?: NavButtonColor\n\tdropHandler?: DropHandler\n\thideLabel?: boolean\n\tvertical?: boolean\n\tfontSize?: number\n\tsmall?: boolean\n\tcentred?: boolean\n\tleftInjection?: () => Children\n\tdisableHoverBackground?: boolean\n\tdisabled?: boolean\n\tpersistentBackground?: boolean\n\tonfocus?: () => unknown\n\tonblur?: () => unknown\n\tonkeydown?: (event: KeyboardEvent) => unknown\n\tfillSpaceAround?: boolean\n}\n\nexport class NavButton implements Component<NavButtonAttrs> {\n\tprivate _domButton!: HTMLElement\n\tprivate _draggedOver: boolean\n\tprivate _dropCounter: number // we also get drag enter/leave events from subelements, so we need to count to know when the drag leaves this button\n\n\tconstructor() {\n\t\tthis._draggedOver = false\n\t\tthis._dropCounter = 0\n\t}\n\n\tview(vnode: Vnode<NavButtonAttrs>): Children {\n\t\tconst a = vnode.attrs\n\n\t\tconst linkAttrs = this.createButtonAttributes(a)\n\t\tconst icon = a.icon?.()\n\t\tconst children = [\n\t\t\ta.leftInjection?.() ?? null,\n\t\t\ticon\n\t\t\t\t? m(Icon, {\n\t\t\t\t\t\ticon,\n\t\t\t\t\t\tclass: this._getIconClass(a),\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tfill: isNavButtonSelected(a) || this._draggedOver ? getColors(a.colors).button_selected : getColors(a.colors).button,\n\t\t\t\t\t\t},\n\t\t\t\t  })\n\t\t\t\t: null,\n\t\t\t!a.hideLabel ? m(\"span.label.click.text-ellipsis\" + (!a.vertical && icon ? \".pl-m\" : \"\"), lang.getTranslationText(a.label)) : null,\n\t\t]\n\n\t\t// allow nav button without label for registration button on mobile devices\n\t\tif (this._isExternalUrl(a.href)) {\n\t\t\treturn m(this._getNavButtonClass(a), linkAttrs, children)\n\t\t} else {\n\t\t\treturn m(m.route.Link, linkAttrs, children)\n\t\t}\n\t}\n\n\t_getUrl(href: string | lazy<string>): string {\n\t\treturn lazyStringValue(href)\n\t}\n\n\t_getNavButtonClass(a: NavButtonAttrs): string {\n\t\treturn (\n\t\t\t\"a.nav-button.noselect.items-center.click.plr-button.no-text-decoration.button-height.border-radius\" +\n\t\t\t(a.vertical ? \".col\" : \"\") +\n\t\t\t(!a.centred ? \".flex-start\" : \".flex-center\") +\n\t\t\t(a.disableHoverBackground ? \"\" : \".state-bg\") +\n\t\t\t(a.disabled ? \".no-hover\" : \"\") +\n\t\t\t(a.fillSpaceAround ?? true ? \".flex-no-shrink\" : \"\")\n\t\t)\n\t}\n\n\t_getIconClass(a: NavButtonAttrs): string {\n\t\tconst isSelected = isNavButtonSelected(a)\n\n\t\tif (a.colors === NavButtonColor.Header && !styles.isDesktopLayout()) {\n\t\t\treturn \"flex-end items-center icon-xl\" + (isSelected ? \" selected\" : \"\")\n\t\t} else if (a.small === true) {\n\t\t\treturn \"flex-center items-center icon\" + (isSelected ? \" selected\" : \"\")\n\t\t} else {\n\t\t\treturn \"flex-center items-center icon-large\" + (isSelected ? \" selected\" : \"\")\n\t\t}\n\t}\n\n\t_isExternalUrl(href: string | lazy<string>): boolean {\n\t\tlet url = this._getUrl(href)\n\n\t\treturn url != null ? url.indexOf(\"http\") === 0 : false\n\t}\n\n\tcreateButtonAttributes(a: NavButtonAttrs): RouteLinkAttrs {\n\t\tlet attr: RouteLinkAttrs = {\n\t\t\trole: \"button\",\n\t\t\t// role button for screen readers\n\t\t\thref: this._getUrl(a.href),\n\t\t\tstyle: {\n\t\t\t\tcolor: isNavButtonSelected(a) || this._draggedOver ? getColors(a.colors).button_selected : getColors(a.colors).button,\n\t\t\t\t\"font-size\": a.fontSize ? px(a.fontSize) : \"\",\n\t\t\t\tbackground: (isNavButtonSelected(a) && a.persistentBackground) || this._draggedOver ? stateBgHover : \"\",\n\t\t\t},\n\t\t\ttitle: lang.getTranslationText(a.label),\n\t\t\ttarget: this._isExternalUrl(a.href) ? \"_blank\" : undefined,\n\t\t\tselector: this._getNavButtonClass(a),\n\t\t\tonclick: (e: MouseEvent) => this.click(e, a, e.target as HTMLElement),\n\t\t\tonkeyup: (e: KeyboardEvent, dom: HTMLElement) => {\n\t\t\t\tif (isKeyPressed(e.key, Keys.SPACE)) {\n\t\t\t\t\tthis.click(e, a, dom)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonfocus: a.onfocus,\n\t\t\tonblur: a.onblur,\n\t\t\tonkeydown: a.onkeydown,\n\t\t\t\"data-testid\": `btn:${lang.getTestId(a.label)}`,\n\t\t}\n\n\t\tif (a.dropHandler) {\n\t\t\tattr.ondragenter = (ev: DragEvent) => {\n\t\t\t\tthis._dropCounter++\n\t\t\t\tthis._draggedOver = true\n\t\t\t\tev.preventDefault()\n\t\t\t}\n\n\t\t\tattr.ondragleave = (ev: DragEvent) => {\n\t\t\t\tthis._dropCounter--\n\n\t\t\t\tif (this._dropCounter === 0) {\n\t\t\t\t\tthis._draggedOver = false\n\t\t\t\t}\n\n\t\t\t\tev.preventDefault()\n\t\t\t}\n\n\t\t\tattr.ondragover = (ev: DragEvent) => {\n\t\t\t\t// needed to allow dropping\n\t\t\t\tev.preventDefault()\n\t\t\t}\n\n\t\t\tattr.ondrop = (ev: DragEvent) => {\n\t\t\t\tthis._dropCounter = 0\n\t\t\t\tthis._draggedOver = false\n\t\t\t\tev.preventDefault()\n\t\t\t\tev.stopPropagation()\n\n\t\t\t\tif (ev.dataTransfer?.getData(DropType.Mail)) {\n\t\t\t\t\tlet dropData: DropData = {\n\t\t\t\t\t\tdropType: DropType.Mail,\n\t\t\t\t\t\tmailId: ev.dataTransfer.getData(DropType.Mail),\n\t\t\t\t\t}\n\t\t\t\t\tneverNull(a.dropHandler)(dropData)\n\t\t\t\t} else if (isDesktop() && ev.dataTransfer?.files && ev.dataTransfer.files.length > 0) {\n\t\t\t\t\tneverNull(a.dropHandler)({\n\t\t\t\t\t\tdropType: DropType.ExternalFile,\n\t\t\t\t\t\tfiles: fileListToArray(ev.dataTransfer.files),\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"received onDrop DragEvent has invalid DropType or is unsupported on this platform!\")\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn attr\n\t}\n\n\tclick(event: Event, a: NavButtonAttrs, dom: HTMLElement) {\n\t\tif (!this._isExternalUrl(a.href)) {\n\t\t\tm.route.set(this._getUrl(a.href))\n\n\t\t\ttry {\n\t\t\t\tif (a.click != null) {\n\t\t\t\t\ta.click(event, dom)\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault()\n\t\t\t} catch (e) {\n\t\t\t\thandleUncaughtError(e)\n\t\t\t}\n\t\t}\n\t}\n\n\tgetHeight(): number {\n\t\treturn size.button_height\n\t}\n}\n\nexport const enum NavButtonColor {\n\tHeader = \"header\",\n\tNav = \"nav\",\n\tContent = \"content\",\n}\n\nfunction getColors(buttonColors: NavButtonColor | null | undefined) {\n\tswitch (buttonColors) {\n\t\tcase NavButtonColor.Header:\n\t\t\treturn {\n\t\t\t\tbutton: styles.isDesktopLayout() ? theme.header_button : theme.content_accent,\n\t\t\t\tbutton_selected: styles.isDesktopLayout() ? theme.header_button_selected : theme.content_accent,\n\t\t\t}\n\n\t\tcase NavButtonColor.Nav:\n\t\t\treturn {\n\t\t\t\tbutton: theme.navigation_button,\n\t\t\t\tbutton_selected: theme.navigation_button_selected,\n\t\t\t}\n\n\t\tdefault:\n\t\t\t// for nav buttons in the more dropdown menu\n\t\t\treturn {\n\t\t\t\tbutton: theme.content_button,\n\t\t\t\tbutton_selected: theme.content_button_selected,\n\t\t\t}\n\t}\n}\n\nexport function isNavButtonSelected(a: NavButtonAttrs): boolean {\n\tif (typeof a.isSelectedPrefix === \"boolean\") {\n\t\treturn a.isSelectedPrefix\n\t}\n\n\tconst selectedPrefix = a.isSelectedPrefix || lazyStringValue(a.href)\n\treturn isSelectedPrefix(selectedPrefix)\n}\n\nexport function isSelectedPrefix(href: string): boolean {\n\tconst current = m.route.get()\n\t// don't just check current.indexOf(buttonHref) because other buttons may also start with this href\n\treturn href !== \"\" && (current === href || current.indexOf(href + \"/\") === 0 || current.indexOf(href + \"?\") === 0)\n}\n","import { AllIcons, Icon } from \"./Icon.js\"\nimport m, { Children, Component, Vnode } from \"mithril\"\nimport { theme } from \"../theme.js\"\nimport type { InfoLink, TranslationKey } from \"../../misc/LanguageViewModel.js\"\nimport { lang } from \"../../misc/LanguageViewModel.js\"\nimport type { ButtonAttrs } from \"./Button.js\"\nimport { Button, ButtonType } from \"./Button.js\"\nimport { NavButton } from \"./NavButton.js\"\nimport type { lazy } from \"@tutao/tutanota-utils\"\nimport { isNotNull } from \"@tutao/tutanota-utils\"\nimport { Icons } from \"./icons/Icons.js\"\nimport { px, size } from \"../size.js\"\n\nconst WARNING_RED = \"#ca0606\"\n\nexport const enum BannerType {\n\tInfo = \"info\",\n\tWarning = \"warning\",\n}\n\nexport type BannerButtonAttrs = Omit<ButtonAttrs, \"type\">\n\nexport interface InfoBannerAttrs {\n\tmessage: TranslationKey | lazy<Children>\n\ticon: AllIcons\n\thelpLink?: InfoLink | null\n\tbuttons: ReadonlyArray<BannerButtonAttrs | null>\n\ttype?: BannerType\n}\n\n/**\n * A low profile banner with a message and 0 or more buttons\n */\nexport class InfoBanner implements Component<InfoBannerAttrs> {\n\tview(vnode: Vnode<InfoBannerAttrs>): Children {\n\t\tconst { message, icon, helpLink, buttons, type } = vnode.attrs\n\t\t// Adjust the top and bottom spacing because the buttons have a minimum height of 44px.\n\t\t// This way the clickable area of the button overlaps with the text and the border a bit without having\n\t\t// too much empty space\n\t\tconst buttonContainerStyle =\n\t\t\thelpLink != null || buttons.length > 0\n\t\t\t\t? {\n\t\t\t\t\t\tmarginTop: \"-10px\",\n\t\t\t\t\t\tmarginBottom: \"-6px\",\n\t\t\t\t  }\n\t\t\t\t: undefined\n\t\treturn m(\n\t\t\t\".center-vertically.border-bottom.pr-s.pl.border-radius.mt-xs\",\n\t\t\t{\n\t\t\t\tstyle: {\n\t\t\t\t\tborder: `solid 2px ${type === BannerType.Warning ? WARNING_RED : theme.content_border}`,\n\t\t\t\t\t// keep the distance to the bottom of the banner the same in the case that buttons aren't present\n\t\t\t\t\tminHeight: buttons.length > 0 ? undefined : px(37),\n\t\t\t\t},\n\t\t\t},\n\t\t\t[\n\t\t\t\tm(\".mt-s.mr-s.abs\", this.renderIcon(icon, type ?? null)), // absolute position makes the icon fixed to the top left corner of the banner\n\t\t\t\tm(\n\t\t\t\t\t\"\",\n\t\t\t\t\t{ style: { \"margin-left\": px(size.icon_size_large + 1) } }, // allow room for the icon\n\t\t\t\t\t[\n\t\t\t\t\t\tm(\".mr.pt-s.pb-s\", typeof message === \"function\" ? message() : m(\".small.text-break\", lang.get(message))),\n\t\t\t\t\t\tm(\".flex.ml-negative-s\", { style: buttonContainerStyle }, [this.renderButtons(buttons), this.renderHelpLink(helpLink)]),\n\t\t\t\t\t],\n\t\t\t\t),\n\t\t\t],\n\t\t)\n\t}\n\n\trenderIcon(icon: AllIcons, type: BannerType | null): Children {\n\t\treturn m(Icon, {\n\t\t\ticon,\n\t\t\tstyle: {\n\t\t\t\tfill: type === BannerType.Warning ? WARNING_RED : theme.content_button,\n\t\t\t\tdisplay: \"block\",\n\t\t\t},\n\t\t})\n\t}\n\n\trenderButtons(buttons: ReadonlyArray<BannerButtonAttrs | null>): Children {\n\t\tif (buttons.length === 0) return null\n\t\treturn m(\n\t\t\t\".small.flex.row\",\n\t\t\tbuttons.filter(isNotNull).map((attrs) => m(Button, { ...attrs, type: ButtonType.Secondary })),\n\t\t)\n\t}\n\n\trenderHelpLink(helpLink?: InfoLink | null): Children | null {\n\t\tif (helpLink == null) return null\n\n\t\treturn [\n\t\t\t// Push the help button all the way to the right\n\t\t\tm(\".flex-grow\"),\n\t\t\tm(\n\t\t\t\t\".button-content\",\n\t\t\t\t{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tmarginRight: \"-10px\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tm(NavButton, {\n\t\t\t\t\ticon: () => Icons.QuestionMark,\n\t\t\t\t\thref: helpLink,\n\t\t\t\t\tsmall: true,\n\t\t\t\t\thideLabel: true,\n\t\t\t\t\tcentred: true,\n\t\t\t\t\tlabel: \"help_label\",\n\t\t\t\t}),\n\t\t\t),\n\t\t]\n\t}\n}\n"],"mappings":"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"}