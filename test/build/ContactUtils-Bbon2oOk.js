
globalThis.env = {
  "staticUrl": "http://localhost:9000",
  "versionNumber": "264.250130.1",
  "dist": false,
  "mode": "Test",
  "timeout": 20000,
  "domainConfigs": {
    "mail.tutanota.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.tuta.com",
      "apiUrl": "https://mail.tutanota.com",
      "paymentUrl": "https://pay.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://mail.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://mail.tutanota.com/webauthnmobile",
      "webauthnRpId": "tutanota.com",
      "u2fAppId": "https://tutanota.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.tuta.com/giftcard",
      "referralBaseUrl": "https://app.tuta.com/signup",
      "websiteBaseUrl": "https://tutanota.com"
    },
    "test.tutanota.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.test.tuta.com",
      "apiUrl": "https://test.tutanota.com",
      "paymentUrl": "https://pay.test.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.test.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://test.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.test.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://test.tutanota.com/webauthnmobile",
      "webauthnRpId": "tutanota.com",
      "u2fAppId": "https://test.tutanota.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.test.tuta.com/giftcard",
      "referralBaseUrl": "https://app.test.tuta.com/signup",
      "websiteBaseUrl": "https://tutanota.com"
    },
    "app.local.tutanota.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.local.tuta.com:9000",
      "apiUrl": "https://app.local.tutanota.com:9000",
      "paymentUrl": "https://local.tutanota.com:9000/client/build/braintree.html",
      "webauthnUrl": "https://app.local.tuta.com:9000/client/build/webauthn",
      "legacyWebauthnUrl": "https://local.tutanota.com:9000/client/build/webauthn",
      "webauthnMobileUrl": "https://app.local.tuta.com:9000/client/build/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://local.tutanota.com:9000/client/build/webauthnmobile",
      "webauthnRpId": "tutanota.com",
      "u2fAppId": "https://local.tutanota.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.local.tuta.com:9000/giftcard",
      "referralBaseUrl": "https://app.local.tuta.com:9000/signup",
      "websiteBaseUrl": "https://local.tutanota.com:9000"
    },
    "app.tuta.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://mail.tutanota.com",
      "apiUrl": "https://app.tuta.com",
      "paymentUrl": "https://pay.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://mail.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://mail.tutanota.com/webauthnmobile",
      "webauthnRpId": "tuta.com",
      "u2fAppId": "https://app.tuta.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.tuta.com/giftcard",
      "referralBaseUrl": "https://app.tuta.com/signup",
      "websiteBaseUrl": "https://tuta.com"
    },
    "app.test.tuta.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://test.tutanota.com",
      "apiUrl": "https://app.test.tuta.com",
      "paymentUrl": "https://pay.test.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.test.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://test.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.test.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://test.tutanota.com/webauthnmobile",
      "webauthnRpId": "tuta.com",
      "u2fAppId": "https://app.test.tuta.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.test.tuta.com/giftcard",
      "referralBaseUrl": "https://app.test.tuta.com/signup",
      "websiteBaseUrl": "https://test.tuta.com"
    },
    "app.local.tuta.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.local.tutanota.com:9000",
      "apiUrl": "https://app.local.tuta.com:9000",
      "paymentUrl": "https://app.local.tuta.com:9000/braintree.html",
      "webauthnUrl": "https://app.local.tuta.com:9000/webauthn",
      "legacyWebauthnUrl": "https://local.tutanota.com:9000/webauthn",
      "webauthnMobileUrl": "https://app.local.tuta.com:9000/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://local.tutanota.com:9000/webauthnmobile",
      "webauthnRpId": "tuta.com",
      "u2fAppId": "https://app.local.tuta.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.local.tuta.com:9000/giftcard",
      "referralBaseUrl": "https://app.local.tuta.com:9000/signup",
      "websiteBaseUrl": "https://local.tuta.com:9000"
    },
    "localhost": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "http://localhost:9000",
      "apiUrl": "http://localhost:9000",
      "paymentUrl": "http://localhost:9000/braintree.html",
      "webauthnUrl": "http://localhost:9000/webauthn",
      "legacyWebauthnUrl": "http://localhost:9000/webauthn",
      "webauthnMobileUrl": "http://localhost:9000/webauthnmobile",
      "legacyWebauthnMobileUrl": "http://localhost:9000/webauthnmobile",
      "webauthnRpId": "localhost",
      "u2fAppId": "http://localhost:9000/u2f-appid.json",
      "giftCardBaseUrl": "http://localhost:9000/giftcard",
      "referralBaseUrl": "http://localhost:9000/signup",
      "websiteBaseUrl": "https://tuta.com"
    },
    "{hostname}": {
      "firstPartyDomain": false,
      "partneredDomainTransitionUrl": "{protocol}//{hostname}",
      "apiUrl": "{protocol}//{hostname}",
      "paymentUrl": "https://pay.tutanota.com/braintree.html",
      "webauthnUrl": "{protocol}//{hostname}/webauthn",
      "legacyWebauthnUrl": "{protocol}//{hostname}/webauthn",
      "webauthnMobileUrl": "{protocol}//{hostname}/webauthnmobile",
      "legacyWebauthnMobileUrl": "{protocol}//{hostname}/webauthnmobile",
      "webauthnRpId": "{hostname}",
      "u2fAppId": "{protocol}//{hostname}/u2f-appid.json",
      "giftCardBaseUrl": "https://app.tuta.com/giftcard",
      "referralBaseUrl": "https://app.tuta.com/signup",
      "websiteBaseUrl": "https://tuta.com"
    }
  },
  "platformId": null
};
const __NODE_GYP_better_sqlite3 = `./better-sqlite3.darwin-${typeof process !== 'undefined' ? process.arch : "unknown"}.node`
import { assertMainOrNode } from "./Env-D5xGlXfw.js";
import { lang } from "./LanguageViewModel-BNC5ekpO.js";
import { ContactMessengerHandleType, ContactSocialType } from "./TutanotaConstants-3bwAESYA.js";
import { formatDate } from "./Formatter-zB15D6XI.js";
import { isoDateToBirthday } from "./BirthdayUtils-BcCMglSq.js";

//#region ../src/common/contactsFunctionality/ContactUtils.ts
assertMainOrNode();
function getContactDisplayName(contact) {
	if (contact.nickname != null && contact.nickname !== "") return contact.nickname;
else return `${contact.firstName} ${contact.lastName}`.trim();
}
function getContactListName(contact) {
	let name = `${contact.firstName} ${contact.lastName}`.trim();
	if (name.length === 0) name = contact.company.trim();
	return name;
}
function formatBirthdayNumeric(birthday) {
	if (birthday.year) return formatDate(new Date(Number(birthday.year), Number(birthday.month) - 1, Number(birthday.day)));
else return lang.formats.simpleDateWithoutYear.format(new Date(Number(2016), Number(birthday.month) - 1, Number(birthday.day)));
}
function formatContactDate(isoDate) {
	if (isoDate) try {
		return formatBirthdayNumeric(isoDateToBirthday(isoDate));
	} catch (e) {}
	return "";
}
function getSocialUrl(contactId) {
	let socialUrlType = "";
	let http = "https://";
	let worldwidew = "www.";
	const isSchemePrefixed = contactId.socialId.indexOf("http") !== -1;
	const isWwwDotPrefixed = contactId.socialId.indexOf(worldwidew) !== -1;
	if (!isSchemePrefixed && !isWwwDotPrefixed) switch (contactId.type) {
		case ContactSocialType.TWITTER:
			socialUrlType = "twitter.com/";
			break;
		case ContactSocialType.FACEBOOK:
			socialUrlType = "facebook.com/";
			break;
		case ContactSocialType.XING:
			socialUrlType = "xing.com/profile/";
			break;
		case ContactSocialType.LINKED_IN: socialUrlType = "linkedin.com/in/";
	}
	if (isSchemePrefixed) http = "";
	if (isSchemePrefixed || isWwwDotPrefixed) worldwidew = "";
	return `${http}${worldwidew}${socialUrlType}${contactId.socialId.trim()}`;
}
function getWebsiteUrl(websiteUrl) {
	let http = "https://";
	let worldwidew = "www.";
	const isSchemePrefixed = websiteUrl.indexOf("http") !== -1;
	const isWwwDotPrefixed = websiteUrl.indexOf(worldwidew) !== -1;
	if (isSchemePrefixed) http = "";
	if (isSchemePrefixed || isWwwDotPrefixed) worldwidew = "";
	return `${http}${worldwidew}${websiteUrl}`.trim();
}
function getMessengerHandleUrl(handle) {
	const replaceNumberExp = new RegExp(/[^0-9+]/g);
	switch (handle.type) {
		case ContactMessengerHandleType.SIGNAL: return `sgnl://signal.me/#p/${handle.handle.replaceAll(replaceNumberExp, "")}`;
		case ContactMessengerHandleType.WHATSAPP: return `whatsapp://send?phone=${handle.handle.replaceAll(replaceNumberExp, "")}`;
		case ContactMessengerHandleType.TELEGRAM: return `tg://resolve?domain=${handle.handle}`;
		case ContactMessengerHandleType.DISCORD: return `discord://-/users/${handle.handle}`;
		default: return "";
	}
}
function extractStructuredMailAddresses(addresses) {
	return addresses.map((address) => ({
		address: address.address,
		type: address.type,
		customTypeName: address.customTypeName
	}));
}
function extractStructuredAddresses(addresses) {
	return addresses.map((address) => ({
		address: address.address,
		type: address.type,
		customTypeName: address.customTypeName
	}));
}
function extractStructuredPhoneNumbers(numbers) {
	return numbers.map((number) => ({
		number: number.number,
		type: number.type,
		customTypeName: number.customTypeName
	}));
}
function extractStructuredCustomDates(dates) {
	return dates.map((date) => ({
		dateIso: date.dateIso,
		type: date.type,
		customTypeName: date.customTypeName
	}));
}
function extractStructuredWebsites(websites) {
	return websites.map((website) => ({
		url: website.url,
		type: website.type,
		customTypeName: website.customTypeName
	}));
}
function extractStructuredRelationships(relationships) {
	return relationships.map((relation) => ({
		person: relation.person,
		type: relation.type,
		customTypeName: relation.customTypeName
	}));
}
function extractStructuredMessengerHandle(handles) {
	return handles.map((handle) => ({
		type: handle.type,
		customTypeName: handle.customTypeName,
		handle: handle.handle
	}));
}

//#endregion
export { extractStructuredAddresses, extractStructuredCustomDates, extractStructuredMailAddresses, extractStructuredMessengerHandle, extractStructuredPhoneNumbers, extractStructuredRelationships, extractStructuredWebsites, formatBirthdayNumeric, formatContactDate, getContactDisplayName, getContactListName, getMessengerHandleUrl, getSocialUrl, getWebsiteUrl };
//# sourceMappingURL=ContactUtils-Bbon2oOk.js.map