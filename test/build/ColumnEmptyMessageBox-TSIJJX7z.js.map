{"version":3,"file":"ColumnEmptyMessageBox-TSIJJX7z.js","names":[],"sources":["../../src/common/gui/base/ColumnEmptyMessageBox.ts"],"sourcesContent":["import m, { Children, Component, Vnode } from \"mithril\"\nimport type { MaybeTranslation } from \"../../misc/LanguageViewModel\"\nimport { lang } from \"../../misc/LanguageViewModel\"\nimport type { AllIcons } from \"./Icon\"\nimport { Icon } from \"./Icon\"\nimport { px, size } from \"../size\"\nimport { assertMainOrNode } from \"../../api/common/Env\"\n\nassertMainOrNode()\n\n// If you change this make sure you pass through all the attrs\nexport type InfoMessaggeBoxAttrs = {\n\tmessage: MaybeTranslation\n\ticon?: AllIcons\n\tcolor: string\n\tbottomContent?: Children\n\tbackgroundColor?: string\n}\n\n/** Displays a big message with an option icon above it. */\nexport class IconMessageBox implements Component<InfoMessaggeBoxAttrs> {\n\tview({ attrs }: Vnode<InfoMessaggeBoxAttrs>): Children {\n\t\treturn m(\".flex.col.items-center.justify-center.mlr\", [\n\t\t\tattrs.icon\n\t\t\t\t? m(Icon, {\n\t\t\t\t\t\ticon: attrs.icon,\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tfill: attrs.color,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclass: \"icon-message-box\",\n\t\t\t\t  })\n\t\t\t\t: null,\n\t\t\tm(\n\t\t\t\t\".h2.text-center.text-preline\",\n\t\t\t\t{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tcolor: attrs.color,\n\t\t\t\t\t},\n\t\t\t\t\t\"data-testid\": `message_box:${lang.getTestId(attrs.message)}`,\n\t\t\t\t},\n\t\t\t\tlang.getTranslationText(attrs.message),\n\t\t\t),\n\t\t])\n\t}\n}\n\nexport type ColumnEmptyMessageBoxAttrs = InfoMessaggeBoxAttrs\n\n/**\n * A message displaying a text. A message box can be displayed on the background of a column if the column is empty. The text inside of it will be centered vertically, taking the icon into account.\n */\n\nexport default class ColumnEmptyMessageBox implements Component<ColumnEmptyMessageBoxAttrs> {\n\tview({ attrs }: Vnode<ColumnEmptyMessageBoxAttrs>): Children {\n\t\treturn m(\n\t\t\t\".fill-absolute.flex.col.items-center.justify-center.overflow-hidden\",\n\t\t\t{\n\t\t\t\tstyle: {\n\t\t\t\t\tbackgroundColor: attrs?.backgroundColor,\n\t\t\t\t},\n\t\t\t},\n\t\t\tm(\n\t\t\t\t\".flex.col.items-center\",\n\t\t\t\t{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\t// move up *only* this element, not the whole .fill-absolute parent to not overflow into the items above us\n\t\t\t\t\t\t\"margin-top\": px(attrs.icon ? -size.icon_message_box - size.vpad_xl : -size.vpad_xl),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\t// If we pass plain attrs all lifecycle callbacks we attach from the outside will be called twice, once on the wrong element.\n\t\t\t\t\tm(IconMessageBox, {\n\t\t\t\t\t\tmessage: attrs.message,\n\t\t\t\t\t\ticon: attrs.icon,\n\t\t\t\t\t\tcolor: attrs.color,\n\t\t\t\t\t}),\n\t\t\t\t\tattrs.bottomContent ?? m(\".button-height\"),\n\t\t\t\t],\n\t\t\t),\n\t\t)\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,kBAAkB;IAYL,iBAAN,MAAgE;CACtE,KAAK,EAAE,OAAoC,EAAY;AACtD,SAAO,gBAAE,6CAA6C,CACrD,MAAM,OACH,gBAAE,MAAM;GACR,MAAM,MAAM;GACZ,OAAO,EACN,MAAM,MAAM,MACZ;GACD,OAAO;EACN,EAAC,GACF,MACH,gBACC,gCACA;GACC,OAAO,EACN,OAAO,MAAM,MACb;GACD,gBAAgB,cAAc,KAAK,UAAU,MAAM,QAAQ,CAAC;EAC5D,GACD,KAAK,mBAAmB,MAAM,QAAQ,CACtC,AACD,EAAC;CACF;AACD;IAQoB,wBAAN,MAA6E;CAC3F,KAAK,EAAE,OAA0C,EAAY;AAC5D,SAAO,gBACN,uEACA,EACC,OAAO,EACN,iBAAiB,OAAO,gBACxB,EACD,GACD,gBACC,0BACA,EACC,OAAO,EAEN,cAAc,GAAG,MAAM,QAAQ,KAAK,mBAAmB,KAAK,WAAW,KAAK,QAAQ,CACpF,EACD,GACD,CAEC,gBAAE,gBAAgB;GACjB,SAAS,MAAM;GACf,MAAM,MAAM;GACZ,OAAO,MAAM;EACb,EAAC,EACF,MAAM,iBAAiB,gBAAE,iBAAiB,AAC1C,EACD,CACD;CACD;AACD"}