
globalThis.env = {
  "staticUrl": "http://localhost:9000",
  "versionNumber": "264.250130.1",
  "dist": false,
  "mode": "Test",
  "timeout": 20000,
  "domainConfigs": {
    "mail.tutanota.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.tuta.com",
      "apiUrl": "https://mail.tutanota.com",
      "paymentUrl": "https://pay.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://mail.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://mail.tutanota.com/webauthnmobile",
      "webauthnRpId": "tutanota.com",
      "u2fAppId": "https://tutanota.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.tuta.com/giftcard",
      "referralBaseUrl": "https://app.tuta.com/signup",
      "websiteBaseUrl": "https://tutanota.com"
    },
    "test.tutanota.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.test.tuta.com",
      "apiUrl": "https://test.tutanota.com",
      "paymentUrl": "https://pay.test.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.test.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://test.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.test.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://test.tutanota.com/webauthnmobile",
      "webauthnRpId": "tutanota.com",
      "u2fAppId": "https://test.tutanota.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.test.tuta.com/giftcard",
      "referralBaseUrl": "https://app.test.tuta.com/signup",
      "websiteBaseUrl": "https://tutanota.com"
    },
    "app.local.tutanota.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.local.tuta.com:9000",
      "apiUrl": "https://app.local.tutanota.com:9000",
      "paymentUrl": "https://local.tutanota.com:9000/client/build/braintree.html",
      "webauthnUrl": "https://app.local.tuta.com:9000/client/build/webauthn",
      "legacyWebauthnUrl": "https://local.tutanota.com:9000/client/build/webauthn",
      "webauthnMobileUrl": "https://app.local.tuta.com:9000/client/build/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://local.tutanota.com:9000/client/build/webauthnmobile",
      "webauthnRpId": "tutanota.com",
      "u2fAppId": "https://local.tutanota.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.local.tuta.com:9000/giftcard",
      "referralBaseUrl": "https://app.local.tuta.com:9000/signup",
      "websiteBaseUrl": "https://local.tutanota.com:9000"
    },
    "app.tuta.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://mail.tutanota.com",
      "apiUrl": "https://app.tuta.com",
      "paymentUrl": "https://pay.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://mail.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://mail.tutanota.com/webauthnmobile",
      "webauthnRpId": "tuta.com",
      "u2fAppId": "https://app.tuta.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.tuta.com/giftcard",
      "referralBaseUrl": "https://app.tuta.com/signup",
      "websiteBaseUrl": "https://tuta.com"
    },
    "app.test.tuta.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://test.tutanota.com",
      "apiUrl": "https://app.test.tuta.com",
      "paymentUrl": "https://pay.test.tutanota.com/braintree.html",
      "webauthnUrl": "https://app.test.tuta.com/webauthn",
      "legacyWebauthnUrl": "https://test.tutanota.com/webauthn",
      "webauthnMobileUrl": "https://app.test.tuta.com/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://test.tutanota.com/webauthnmobile",
      "webauthnRpId": "tuta.com",
      "u2fAppId": "https://app.test.tuta.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.test.tuta.com/giftcard",
      "referralBaseUrl": "https://app.test.tuta.com/signup",
      "websiteBaseUrl": "https://test.tuta.com"
    },
    "app.local.tuta.com": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "https://app.local.tutanota.com:9000",
      "apiUrl": "https://app.local.tuta.com:9000",
      "paymentUrl": "https://app.local.tuta.com:9000/braintree.html",
      "webauthnUrl": "https://app.local.tuta.com:9000/webauthn",
      "legacyWebauthnUrl": "https://local.tutanota.com:9000/webauthn",
      "webauthnMobileUrl": "https://app.local.tuta.com:9000/webauthnmobile",
      "legacyWebauthnMobileUrl": "https://local.tutanota.com:9000/webauthnmobile",
      "webauthnRpId": "tuta.com",
      "u2fAppId": "https://app.local.tuta.com/u2f-appid.json",
      "giftCardBaseUrl": "https://app.local.tuta.com:9000/giftcard",
      "referralBaseUrl": "https://app.local.tuta.com:9000/signup",
      "websiteBaseUrl": "https://local.tuta.com:9000"
    },
    "localhost": {
      "firstPartyDomain": true,
      "partneredDomainTransitionUrl": "http://localhost:9000",
      "apiUrl": "http://localhost:9000",
      "paymentUrl": "http://localhost:9000/braintree.html",
      "webauthnUrl": "http://localhost:9000/webauthn",
      "legacyWebauthnUrl": "http://localhost:9000/webauthn",
      "webauthnMobileUrl": "http://localhost:9000/webauthnmobile",
      "legacyWebauthnMobileUrl": "http://localhost:9000/webauthnmobile",
      "webauthnRpId": "localhost",
      "u2fAppId": "http://localhost:9000/u2f-appid.json",
      "giftCardBaseUrl": "http://localhost:9000/giftcard",
      "referralBaseUrl": "http://localhost:9000/signup",
      "websiteBaseUrl": "https://tuta.com"
    },
    "{hostname}": {
      "firstPartyDomain": false,
      "partneredDomainTransitionUrl": "{protocol}//{hostname}",
      "apiUrl": "{protocol}//{hostname}",
      "paymentUrl": "https://pay.tutanota.com/braintree.html",
      "webauthnUrl": "{protocol}//{hostname}/webauthn",
      "legacyWebauthnUrl": "{protocol}//{hostname}/webauthn",
      "webauthnMobileUrl": "{protocol}//{hostname}/webauthnmobile",
      "legacyWebauthnMobileUrl": "{protocol}//{hostname}/webauthnmobile",
      "webauthnRpId": "{hostname}",
      "u2fAppId": "{protocol}//{hostname}/u2f-appid.json",
      "giftCardBaseUrl": "https://app.tuta.com/giftcard",
      "referralBaseUrl": "https://app.tuta.com/signup",
      "websiteBaseUrl": "https://tuta.com"
    }
  },
  "platformId": null
};
const __NODE_GYP_better_sqlite3 = `./better-sqlite3.darwin-${typeof process !== 'undefined' ? process.arch : "unknown"}.node`
import "./dist-CJHwsXKY.js";
import "./EntityUtils-RQxXZlcV.js";
import "./TypeModels-XIXYys8J.js";
import "./TypeRefs-CR3TLWn0.js";
import "./FileUtils-W-u2-gZz.js";
import { dist_default } from "./dist-Ci1bEzYU.js";
import { EXECUTABLE_EXTENSIONS, looksExecutable, nonClobberingFilename, swapFilename } from "./PathUtils-DFfSo_TG.js";
import path from "node:path";

//#region tests/desktop/PathUtilsTest.ts
dist_default.spec("PathUtils", function() {
	dist_default.spec("nonClobberingFileName Test", function() {
		dist_default("noClash", function() {
			dist_default(nonClobberingFilename(["bye.txt"], "hello.ext")).equals("hello.ext");
		});
		dist_default("emptyDir", function() {
			dist_default(nonClobberingFilename([], "hello.ext")).equals("hello.ext");
		});
		dist_default("emptyString", function() {
			dist_default(nonClobberingFilename([""], "hello.ext")).equals("hello.ext");
		});
		dist_default("duplicateFileNonClashing", function() {
			dist_default(nonClobberingFilename(["hallo.txt", "hallo.txt"], "hello.ext")).equals("hello.ext");
		});
		dist_default("duplicateFileClashing", function() {
			dist_default(nonClobberingFilename(["hello.ext", "hello.ext"], "hello.ext")).equals("hello-1.ext");
		});
		dist_default("clashingFiles", function() {
			dist_default(nonClobberingFilename(["hello.ext"], "hello.ext")).equals("hello-1.ext");
			dist_default(nonClobberingFilename(["hello.ext", "hello-1.ext"], "hello.ext")).equals("hello-2.ext");
			dist_default(nonClobberingFilename([
				"hello.ext",
				"hello-1.ext",
				"hello-2.ext"
			], "hello.ext")).equals("hello-3.ext");
			dist_default(nonClobberingFilename([
				"hello.ext",
				"hello-1.ext",
				"hello-2.ext",
				"hello-3.ext",
				"hello-4.ext",
				"hello-5.ext",
				"hello-6.ext",
				"hello-7.ext",
				"hello-8.ext",
				"hello-9.ext",
				"hello-10.ext"
			], "hello.ext")).equals("hello-11.ext");
		});
		dist_default("numberedFileNameNonClashing", function() {
			dist_default(nonClobberingFilename(["hello.ext"], "hello-1.ext")).equals("hello-1.ext");
		});
		dist_default("numberedFileNameClashing", function() {
			dist_default(nonClobberingFilename(["hello-1.ext"], "hello-1.ext")).equals("hello-1-1.ext");
		});
		dist_default("intermediate value", function() {
			dist_default(nonClobberingFilename([
				"hello.ext",
				"hello-3.ext",
				"hello-1.ext",
				"hello-undefined.ext",
				"hello-Infinity.ext"
			], "hello.ext")).equals("hello-2.ext");
			dist_default(nonClobberingFilename([
				"hello-0.ext",
				"hello.ext",
				"hello-3.ext",
				"hello-1.ext"
			], "hello.ext")).equals("hello-2.ext");
			dist_default(nonClobberingFilename([
				"hello--2.ext",
				"hello-0.ext",
				"hello-3.ext",
				"hello-1.ext"
			], "hello.ext")).equals("hello.ext");
		});
		dist_default("truncated clashes", function() {
			dist_default(nonClobberingFilename([
				"hello-.ext",
				"hello.",
				"hello",
				"ello.ext"
			], "hello.ext")).equals("hello.ext");
		});
		dist_default("almost clashes", function() {
			dist_default(nonClobberingFilename([
				"hello.ext",
				"hello-a.ext",
				"hello-01.ext",
				"hello-0x01.ext"
			], "hello.ext")).equals("hello-1.ext");
		});
		dist_default("dotfiles", function() {
			dist_default(nonClobberingFilename([".ext"], ".ext")).equals(".ext-1");
			dist_default(nonClobberingFilename([".ext.txt"], ".ext.txt")).equals(".ext-1.txt");
		});
		dist_default("malformedFilename", function() {
			dist_default(nonClobberingFilename([""], "")).equals("-1");
			dist_default(nonClobberingFilename(["hello.ext"], "")).equals("");
		});
		dist_default("invalid/reserved filenames", function() {
			dist_default(nonClobberingFilename([], "\0--.exe")).equals("_-__-_.exe");
			env.platformId = "win32";
			dist_default(nonClobberingFilename(["CON-1.exe"], "CON.exe")).equals("CON_.exe");
			dist_default(nonClobberingFilename([], ".")).equals("._");
			dist_default(nonClobberingFilename(["._"], ".")).equals("._-1");
			dist_default(nonClobberingFilename([], "..")).equals(".._");
			dist_default(nonClobberingFilename([".._"], "..")).equals(".-1._");
			dist_default(nonClobberingFilename([], "<>|?/\\.mp3")).equals("______.mp3");
			dist_default(nonClobberingFilename([], "CON<>|?/\\CON.mp3")).equals("CON______CON.mp3");
			dist_default(nonClobberingFilename([], "PRN.<p2.")).equals("PRN_._p2_");
			dist_default(nonClobberingFilename([], "LPT0")).equals("LPT0_");
			dist_default(nonClobberingFilename([], "COM9")).equals("COM9_");
			dist_default(nonClobberingFilename([], "AUX.AUX")).equals("AUX_.AUX");
			dist_default(nonClobberingFilename([], "NUL")).equals("NUL_");
			dist_default(nonClobberingFilename([], "nul")).equals("nul_");
			dist_default(nonClobberingFilename([], "NULNUL")).equals("NULNUL");
			dist_default(nonClobberingFilename([], ".NUL")).equals(".NUL");
			dist_default(nonClobberingFilename([], "<>|?/\\CON.")).equals("______CON_");
			env.platformId = "linux";
			dist_default(nonClobberingFilename([], "nul")).equals("nul");
			dist_default(nonClobberingFilename([], "..")).equals(".._");
		});
	});
	dist_default.spec("swapFileName Test", function() {
		dist_default("replace file with file, posix", function() {
			dist_default(swapFilename("/a/b/c.txt", "d.txt")).equals("/a/b/d.txt");
			dist_default(swapFilename("a/b/c.txt", "d.txt")).equals("a/b/d.txt");
			dist_default(swapFilename("/a/b/c.txt", "d")).equals("/a/b/d");
			dist_default(swapFilename("/a/b/c", "d.txt")).equals("/a/b/d.txt");
			dist_default(swapFilename("/a/b/c", "d.txt")).equals("/a/b/d.txt");
			dist_default(swapFilename("/", "bla.txt")).equals("/bla.txt");
		});
		dist_default("replace file with file, windows", function() {
			dist_default(swapFilename("C:\\tmp\\file.html", "text.txt", path.win32)).equals("C:\\tmp\\text.txt");
			dist_default(swapFilename("C:\\tmp\\file.html", "text", path.win32)).equals("C:\\tmp\\text");
			dist_default(swapFilename("C:\\tmp\\folder\\", "text", path.win32)).equals("C:\\tmp\\text");
			dist_default(swapFilename("tmp\\file.html", "text.txt", path.win32)).equals("tmp\\text.txt");
			dist_default(swapFilename("tmp", "text.txt", path.win32)).equals("text.txt");
			dist_default(swapFilename("C:\\", "text.txt", path.win32)).equals("C:\\text.txt");
		});
	});
	dist_default.spec("looksExecutable", function() {
		function testDoesLookExecutable(filename) {
			dist_default(`should detect "${filename}" as looking executable`, function() {
				dist_default(looksExecutable(filename)).equals(true);
			});
		}
		for (const extension of EXECUTABLE_EXTENSIONS) testDoesLookExecutable(`someFile.${extension}`);
		for (const extension of EXECUTABLE_EXTENSIONS) testDoesLookExecutable(`C:\\a\\b\\someFile.${extension}`);
		for (const extension of EXECUTABLE_EXTENSIONS) testDoesLookExecutable(`C:\\a\\b\\.${extension}`);
		for (const extension of EXECUTABLE_EXTENSIONS) testDoesLookExecutable(`/a/b/someFile.${extension}`);
		for (const extension of EXECUTABLE_EXTENSIONS) testDoesLookExecutable(`/a/b/.${extension}`);
		for (const extension of EXECUTABLE_EXTENSIONS) testDoesLookExecutable(`file:///a/b/someFile.${extension}`);
		for (const extension of EXECUTABLE_EXTENSIONS) testDoesLookExecutable(`file:///a/b/.${extension}`);
		for (const extension of EXECUTABLE_EXTENSIONS) testDoesLookExecutable(`.${extension}`);
		dist_default("should not detect non executable extensions as looking executable", function() {
			dist_default(looksExecutable("picture.jpg")).equals(false);
			dist_default(looksExecutable(".jpg")).equals(false);
		});
	});
});

//#endregion
//# sourceMappingURL=PathUtilsTest-Dh7_jHT_.js.map