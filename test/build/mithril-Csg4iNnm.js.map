{"version":3,"file":"mithril-Csg4iNnm.js","names":["redraw","key2","m","route","state"],"sources":["../../libs/mithril.js"],"sourcesContent":["/// ivk: patched to fix early console binding\n/// ivk: patched to remove promise polyfill and m.request\n/// ivk: made esm module\n\nfunction Vnode(tag, key, attrs0, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n\t}\nVnode.normalize = function (node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node == null || typeof node === \"boolean\") return null\n\tif (typeof node === \"object\") return node\n\treturn Vnode(\"#\", undefined, undefined, String(node), undefined, undefined)\n}\nVnode.normalizeChildren = function (input) {\n\tvar children = []\n\tif (input.length) {\n\t\tvar isKeyed = input[0] != null && input[0].key != null\n\t\t// Note: this is a *very* perf-sensitive check.\n\t\t// Fun fact: merging the loop like this is somehow faster than splitting\n\t\t// it, noticeably so.\n\t\tfor (var i = 1; i < input.length; i++) {\n\t\t\tif ((input[i] != null && input[i].key != null) !== isKeyed) {\n\t\t\t\tthrow new TypeError(\n\t\t\t\t\tisKeyed && (input[i] != null || typeof input[i] === \"boolean\")\n\t\t\t\t\t\t? \"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.\"\n\t\t\t\t\t\t: \"In fragments, vnodes must either all have keys or none have keys.\"\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tchildren[i] = Vnode.normalize(input[i])\n\t\t}\n\t}\n\treturn children\n}\n// Call via `hyperscriptVnode0.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript0` and `fragment` factories and define this as\n// `hyperscriptVnode0(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril.js requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// var hyperscriptVnode = function(attrs1, ...children0) {\n//     if (attrs1 == null || typeof attrs1 === \"object\" && attrs1.tag == null && !Array.isArray(attrs1)) {\n//         if (children0.length === 1 && Array.isArray(children0[0])) children0 = children0[0]\n//     } else {\n//         children0 = children0.length === 0 && Array.isArray(attrs1) ? attrs1 : [attrs1, ...children0]\n//         attrs1 = undefined\n//     }\n//\n//     if (attrs1 == null) attrs1 = {}\n//     return Vnode(\"\", attrs1.key, attrs1, children0)\n// }\nvar hyperscriptVnode = function () {\n\tvar attrs1 = arguments[this], start = this + 1, children0\n\tif (attrs1 == null) {\n\t\tattrs1 = {}\n\t} else if (typeof attrs1 !== \"object\" || attrs1.tag != null || Array.isArray(attrs1)) {\n\t\tattrs1 = {}\n\t\tstart = this\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren0 = arguments[start]\n\t\tif (!Array.isArray(children0)) children0 = [children0]\n\t} else {\n\t\tchildren0 = []\n\t\twhile (start < arguments.length) children0.push(arguments[start++])\n\t}\n\treturn Vnode(\"\", attrs1.key, attrs1, children0)\n}\n// This exists so I'm1 only saving it once.\nvar hasOwn = {}.hasOwnProperty\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\n\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\n\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\n\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\tvnode.tag = state.tag\n\tvnode.attrs = {}\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)) {\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\t\tclassName != null\n\t\t\t\t? state.attrs.className != null\n\t\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t\t: className\n\t\t\t\t: state.attrs.className != null\n\t\t\t\t\t? state.attrs.className\n\t\t\t\t\t: null\n\tif (hasClass) attrs.class = null\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\treturn vnode\n}\n\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\tvnode.tag = selector\n\treturn vnode\n}\n\nhyperscript.trust = function (html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function () {\n\tvar vnode2 = hyperscriptVnode.apply(0, arguments)\n\tvnode2.tag = \"[\"\n\tvnode2.children = Vnode.normalizeChildren(vnode2.children)\n\treturn vnode2\n}\n/* global window */\nvar _13 = function ($window) {\n\tvar $doc = $window && $window.document\n\tvar currentRedraw\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\n\tfunction getNameSpace(vnode3) {\n\t\treturn vnode3.attrs && vnode3.attrs.xmlns || nameSpace[vnode3.tag]\n\t}\n\n\t//sanity check to discourage people from doing `vnode3.state = ...`\n\tfunction checkState(vnode3, original) {\n\t\tif (vnode3.state !== original) throw new Error(\"'vnode.state' must not be modified.\")\n\t}\n\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode3` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode3) {\n\t\tvar original = vnode3.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode3, original)\n\t\t}\n\t}\n\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction createNode(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode3.state = {}\n\t\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\":\n\t\t\t\t\tcreateText(parent, vnode3, nextSibling);\n\t\t\t\t\tbreak\n\t\t\t\tcase \"<\":\n\t\t\t\t\tcreateHTML(parent, vnode3, ns, nextSibling);\n\t\t\t\t\tbreak\n\t\t\t\tcase \"[\":\n\t\t\t\t\tcreateFragment(parent, vnode3, hooks, ns, nextSibling);\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tcreateElement(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode3, hooks, ns, nextSibling)\n\t}\n\n\tfunction createText(parent, vnode3, nextSibling) {\n\t\tvnode3.dom = $doc.createTextNode(vnode3.children)\n\t\tinsertNode(parent, vnode3.dom, nextSibling)\n\t}\n\n\tvar possibleParents = {\n\t\tcaption: \"table\",\n\t\tthead: \"table\",\n\t\ttbody: \"table\",\n\t\ttfoot: \"table\",\n\t\ttr: \"tbody\",\n\t\tth: \"tr\",\n\t\ttd: \"tr\",\n\t\tcolgroup: \"table\",\n\t\tcol: \"colgroup\"\n\t}\n\n\tfunction createHTML(parent, vnode3, ns, nextSibling) {\n\t\tvar match0 = vnode3.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match0[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode3.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode3.children\n\t\t}\n\t\tvnode3.dom = temp.firstChild\n\t\tvnode3.domSize = temp.childNodes.length\n\t\t// Capture nodes to remove, so we don't confuse them.\n\t\tvnode3.instance = []\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tvnode3.instance.push(child)\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\n\tfunction createFragment(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode3.children != null) {\n\t\t\tvar children2 = vnode3.children\n\t\t\tcreateNodes(fragment, children2, 0, children2.length, hooks, null, ns)\n\t\t}\n\t\tvnode3.dom = fragment.firstChild\n\t\tvnode3.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\n\tfunction createElement(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tvar attrs2 = vnode3.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode3) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode3.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode3, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (!maybeSetContentEditable(vnode3)) {\n\t\t\tif (vnode3.children != null) {\n\t\t\t\tvar children2 = vnode3.children\n\t\t\t\tcreateNodes(element, children2, 0, children2.length, hooks, null, ns)\n\t\t\t\tif (vnode3.tag === \"select\" && attrs2 != null) setLateSelectAttrs(vnode3, attrs2)\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction initComponent(vnode3, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode3.tag.view === \"function\") {\n\t\t\tvnode3.state = Object.create(vnode3.tag)\n\t\t\tsentinel = vnode3.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode3.state = void 0\n\t\t\tsentinel = vnode3.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode3.state = (vnode3.tag.prototype != null && typeof vnode3.tag.prototype.view === \"function\") ? new vnode3.tag(vnode3) : vnode3.tag(vnode3)\n\t\t}\n\t\tinitLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\n\tfunction createComponent(parent, vnode3, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tcreateNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.dom != null ? vnode3.instance.domSize : 0\n\t\t} else {\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t}\n\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render0()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render0()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render0 hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match0 nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index (for the old list), then0 iterate\n\t// over the new list and for each new vnode3, find the corresponding vnode3 in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match0 the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n\t// vnode3 reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next sibling (cached in the `nextSibling` variable).\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs0 because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length)\n\t\telse {\n\t\t\tvar isOldKeyed = old[0] != null && old[0].key != null\n\t\t\tvar isKeyed0 = vnodes[0] != null && vnodes[0].key != null\n\t\t\tvar start = 0, oldStart = 0\n\t\t\tif (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) oldStart++\n\t\t\tif (!isKeyed0) while (start < vnodes.length && vnodes[start] == null) start++\n\t\t\tif (isOldKeyed !== isKeyed0) {\n\t\t\t\tremoveNodes(parent, old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed0) {\n\t\t\t\t// Don't index past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(parent, o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(parent, old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o.key !== v.key) break\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (start === end) break\n\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\tmoveNodes(parent, oe, topSibling)\n\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\tif (++start <= --end) moveNodes(parent, o, nextSibling)\n\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldStart++;\n\t\t\t\t\toldEnd--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li = 0, i = 0,\n\t\t\t\t\t\tpos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\toldIndices[i - start] = oldIndex\n\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse moveNodes(parent, v, nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i - start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction updateNode(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode3.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode3.state = old.state\n\t\t\tvnode3.events = old.events\n\t\t\tif (shouldNotUpdate(vnode3, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode3.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\":\n\t\t\t\t\t\tupdateText(old, vnode3);\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase \"<\":\n\t\t\t\t\t\tupdateHTML(parent, old, vnode3, ns, nextSibling);\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase \"[\":\n\t\t\t\t\t\tupdateFragment(parent, old, vnode3, hooks, nextSibling, ns);\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tupdateElement(old, vnode3, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode3, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(parent, old)\n\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t}\n\t}\n\n\tfunction updateText(old, vnode3) {\n\t\tif (old.children.toString() !== vnode3.children.toString()) {\n\t\t\told.dom.nodeValue = vnode3.children\n\t\t}\n\t\tvnode3.dom = old.dom\n\t}\n\n\tfunction updateHTML(parent, old, vnode3, ns, nextSibling) {\n\t\tif (old.children !== vnode3.children) {\n\t\t\tremoveHTML(parent, old)\n\t\t\tcreateHTML(parent, vnode3, ns, nextSibling)\n\t\t} else {\n\t\t\tvnode3.dom = old.dom\n\t\t\tvnode3.domSize = old.domSize\n\t\t\tvnode3.instance = old.instance\n\t\t}\n\t}\n\n\tfunction updateFragment(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode3.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children2 = vnode3.children\n\t\tvnode3.dom = null\n\t\tif (children2 != null) {\n\t\t\tfor (var i = 0; i < children2.length; i++) {\n\t\t\t\tvar child = children2[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode3.dom == null) vnode3.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode3.domSize = domSize\n\t\t}\n\t}\n\n\tfunction updateElement(old, vnode3, hooks, ns) {\n\t\tvar element = vnode3.dom = old.dom\n\t\tns = getNameSpace(vnode3) || ns\n\t\tif (vnode3.tag === \"textarea\") {\n\t\t\tif (vnode3.attrs == null) vnode3.attrs = {}\n\t\t}\n\t\tupdateAttrs(vnode3, old.attrs, vnode3.attrs, ns)\n\t\tif (!maybeSetContentEditable(vnode3)) {\n\t\t\tupdateNodes(element, old.children, vnode3.children, hooks, null, ns)\n\t\t}\n\t}\n\n\tfunction updateComponent(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) updateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode3.instance, hooks, nextSibling, ns)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.instance.domSize\n\t\t} else if (old.instance != null) {\n\t\t\tremoveNode(parent, old.instance)\n\t\t\tvnode3.dom = undefined\n\t\t\tvnode3.domSize = 0\n\t\t} else {\n\t\t\tvnode3.dom = old.dom\n\t\t\tvnode3.domSize = old.domSize\n\t\t}\n\t}\n\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode3 = vnodes[start]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tvar key = vnode3.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequence\n\tvar lisTemp = []\n\n\tfunction makeLisIndices(a) {\n\t\tvar result = [0]\n\t\tvar u = 0, v = 0, i = 0\n\t\tvar il = lisTemp.length = a.length\n\t\tfor (var i = 0; i < il; i++) lisTemp[i] = a[i]\n\t\tfor (var i = 0; i < il; ++i) {\n\t\t\tif (a[i] === -1) continue\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tlisTemp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\t// Fast integer average without overflow.\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tvar c = (u >>> 1) + (v >>> 1) + (u & v & 1)\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t} else {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) lisTemp[i] = result[u - 1]\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = lisTemp[v]\n\t\t}\n\t\tlisTemp.length = 0\n\t\treturn result\n\t}\n\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\n\t// This covers a really specific edge case:\n\t// - Parent node is keyed and contains child\n\t// - Child is removed, returns unresolved promise0 in `onbeforeremove`\n\t// - Parent node is moved in keyed diff\n\t// - Remaining children2 still need moved appropriately\n\t//\n\t// Ideally, I'd track removed nodes as well, but that introduces a lot more\n\t// complexity and I'm2 not exactly interested in doing that.\n\tfunction moveNodes(parent, vnode3, nextSibling) {\n\t\tvar frag = $doc.createDocumentFragment()\n\t\tmoveChildToFrag(parent, frag, vnode3)\n\t\tinsertNode(parent, frag, nextSibling)\n\t}\n\n\tfunction moveChildToFrag(parent, frag, vnode3) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode3.dom != null && vnode3.dom.parentNode === parent) {\n\t\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\t\tvnode3 = vnode3.instance\n\t\t\t\tif (vnode3 != null) continue\n\t\t\t} else if (vnode3.tag === \"<\") {\n\t\t\t\tfor (var i = 0; i < vnode3.instance.length; i++) {\n\t\t\t\t\tfrag.appendChild(vnode3.instance[i])\n\t\t\t\t}\n\t\t\t} else if (vnode3.tag !== \"[\") {\n\t\t\t\t// Don't recurse for text nodes *or* elements, just fragments\n\t\t\t\tfrag.appendChild(vnode3.dom)\n\t\t\t} else if (vnode3.children.length === 1) {\n\t\t\t\tvnode3 = vnode3.children[0]\n\t\t\t\tif (vnode3 != null) continue\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < vnode3.children.length; i++) {\n\t\t\t\t\tvar child = vnode3.children[i]\n\t\t\t\t\tif (child != null) moveChildToFrag(parent, frag, child)\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t\t}\n\tfunction maybeSetContentEditable(vnode3) {\n\t\tif (vnode3.attrs == null || (\n\t\t\tvnode3.attrs.contenteditable == null && // attribute\n\t\t\tvnode3.attrs.contentEditable == null // property\n\t\t)) return false\n\t\tvar children2 = vnode3.children\n\t\tif (children2 != null && children2.length === 1 && children2[0].tag === \"<\") {\n\t\t\tvar content = children2[0].children\n\t\t\tif (vnode3.dom.innerHTML !== content) vnode3.dom.innerHTML = content\n\t\t} else if (children2 != null && children2.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted.\")\n\t\treturn true\n\t}\n\n\t//remove\n\tfunction removeNodes(parent, vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) removeNode(parent, vnode3)\n\t\t}\n\t}\n\n\tfunction removeNode(parent, vnode3) {\n\t\tvar mask = 0\n\t\tvar original = vnode3.state\n\t\tvar stateResult, attrsResult\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.state.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\tmask = 1\n\t\t\t\tstateResult = result\n\t\t\t}\n\t\t}\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.attrs.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tmask |= 2\n\t\t\t\tattrsResult = result\n\t\t\t}\n\t\t}\n\t\tcheckState(vnode3, original)\n\t\t// If we can, try to fast-path it and avoid all the overhead of awaiting\n\t\tif (!mask) {\n\t\t\tonremove(vnode3)\n\t\t\tremoveChild(parent, vnode3)\n\t\t} else {\n\t\t\tif (stateResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 1) {\n\t\t\t\t\t\tmask &= 2;\n\t\t\t\t\t\tif (!mask) reallyRemove()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstateResult.then(next, next)\n\t\t\t}\n\t\t\tif (attrsResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 2) {\n\t\t\t\t\t\tmask &= 1;\n\t\t\t\t\t\tif (!mask) reallyRemove()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tattrsResult.then(next, next)\n\t\t\t}\n\t\t}\n\n\t\tfunction reallyRemove() {\n\t\t\tcheckState(vnode3, original)\n\t\t\tonremove(vnode3)\n\t\t\tremoveChild(parent, vnode3)\n\t\t}\n\t}\n\n\tfunction removeHTML(parent, vnode3) {\n\t\tfor (var i = 0; i < vnode3.instance.length; i++) {\n\t\t\tparent.removeChild(vnode3.instance[i])\n\t\t}\n\t}\n\n\tfunction removeChild(parent, vnode3) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode3.dom != null && vnode3.dom.parentNode === parent) {\n\t\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\t\tvnode3 = vnode3.instance\n\t\t\t\tif (vnode3 != null) continue\n\t\t\t} else if (vnode3.tag === \"<\") {\n\t\t\t\tremoveHTML(parent, vnode3)\n\t\t\t} else {\n\t\t\t\tif (vnode3.tag !== \"[\") {\n\t\t\t\t\tparent.removeChild(vnode3.dom)\n\t\t\t\t\tif (!Array.isArray(vnode3.children)) break\n\t\t\t\t}\n\t\t\t\tif (vnode3.children.length === 1) {\n\t\t\t\t\tvnode3 = vnode3.children[0]\n\t\t\t\t\tif (vnode3 != null) continue\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < vnode3.children.length; i++) {\n\t\t\t\t\t\tvar child = vnode3.children[i]\n\t\t\t\t\t\tif (child != null) removeChild(parent, child)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction onremove(vnode3) {\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onremove === \"function\") callHook.call(vnode3.state.onremove, vnode3)\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onremove === \"function\") callHook.call(vnode3.attrs.onremove, vnode3)\n\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\tif (vnode3.instance != null) onremove(vnode3.instance)\n\t\t} else {\n\t\t\tvar children2 = vnode3.children\n\t\t\tif (Array.isArray(children2)) {\n\t\t\t\tfor (var i = 0; i < children2.length; i++) {\n\t\t\t\t\tvar child = children2[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//attrs2\n\tfunction setAttrs(vnode3, attrs2, ns) {\n\t\t// If you assign an input type0 that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t//\n\t\t// Also, the DOM does things to inputs based on the value, so it needs set first.\n\t\t// See: https://github.com/MithrilJS/mithril.js/issues/2622\n\t\tif (vnode3.tag === \"input\" && attrs2.type != null) vnode3.dom.setAttribute(\"type\", attrs2.type)\n\t\tvar isFileInput = attrs2 != null && vnode3.tag === \"input\" && attrs2.type === \"file\"\n\t\tfor (var key in attrs2) {\n\t\t\tsetAttr(vnode3, key, null, attrs2[key], ns, isFileInput)\n\t\t}\n\t}\n\n\tfunction setAttr(vnode3, key, old, value, ns, isFileInput) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode3, key)) && typeof value !== \"object\" || key === \"type\" && vnode3.tag === \"input\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode3, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode3.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, value)\n\t\telse if (hasPropertyKey(vnode3, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\t//setting input[type0=file][value] to same value causes an error to be generated if it's non-empty\n\t\t\t\tif ((vnode3.tag === \"input\" || vnode3.tag === \"textarea\") && vnode3.dom.value === \"\" + value && (isFileInput || vnode3.dom === activeElement())) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"select\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"option\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t//setting input[type0=file][value] to different value is an error if it's non-empty\n\t\t\t\t// Not ideal, but it at least works around the most common source of uncaught exceptions for now.\n\t\t\t\tif (isFileInput && \"\" + value !== \"\") {\n\t\t\t\t\tconsole.error(\"`value` is read-only on file inputs!\");\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\tvnode3.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode3.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode3.dom.removeAttribute(key)\n\t\t\t\t}\n\t\t\telse vnode3.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t\t}\n\t\t}\n\tfunction removeAttr(vnode3, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") updateEvent(vnode3, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode3, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& key !== \"title\" // creates \"null\" as title\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode3.tag === \"option\"\n\t\t\t\t|| vnode3.tag === \"select\" && vnode3.dom.selectedIndex === -1 && vnode3.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode3.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode3.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode3.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\n\tfunction setLateSelectAttrs(vnode3, attrs2) {\n\t\tif (\"value\" in attrs2) {\n\t\t\tif (attrs2.value === null) {\n\t\t\t\tif (vnode3.dom.selectedIndex !== -1) vnode3.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs2.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode3.dom.value !== normalized || vnode3.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode3.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode3, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t}\n\n\tfunction updateAttrs(vnode3, old, attrs2, ns) {\n\t\tif (old && old === attrs2) {\n\t\t\tconsole.warn(\"Don't reuse attrs object, use new object for every redraw, this will throw in next major\")\n\t\t}\n\t\tif (attrs2 != null) {\n\t\t\t// If you assign an input type0 that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t\t//\n\t\t\t// Also, the DOM does things to inputs based on the value, so it needs set first.\n\t\t\t// See: https://github.com/MithrilJS/mithril.js/issues/2622\n\t\t\tif (vnode3.tag === \"input\" && attrs2.type != null) vnode3.dom.setAttribute(\"type\", attrs2.type)\n\t\t\tvar isFileInput = vnode3.tag === \"input\" && attrs2.type === \"file\"\n\t\t\tfor (var key in attrs2) {\n\t\t\t\tsetAttr(vnode3, key, old && old[key], attrs2[key], ns, isFileInput)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs2 == null || attrs2[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode3, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isFormAttribute(vnode3, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode3.dom === activeElement() || vnode3.tag\n\t\t\t=== \"option\" && vnode3.dom.parentNode === $doc.activeElement\n\t}\n\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\n\tfunction hasPropertyKey(vnode3, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode3.tag.indexOf(\"-\") > -1 || vnode3.attrs != null && vnode3.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode3.dom\n\t}\n\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler0 before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {\n\t\t// Save this, so the current redraw is correctly tracked.\n\t\tthis._ = currentRedraw\n\t}\n\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler0 = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler0 === \"function\") result = handler0.call(ev.currentTarget, ev)\n\t\telse if (typeof handler0.handleEvent === \"function\") handler0.handleEvent(ev)\n\t\tif (this._ && ev.redraw !== false) (0, this._)()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\n\t//event\n\tfunction updateEvent(vnode3, key, value) {\n\t\tif (vnode3.events != null) {\n\t\t\tvnode3.events._ = currentRedraw\n\t\t\tif (vnode3.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode3.events[key] == null) vnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode3.events[key] != null) vnode3.dom.removeEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode3.events = new EventDict()\n\t\t\tvnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\tvnode3.events[key] = value\n\t\t}\n\t}\n\n\t//lifecycle\n\tfunction initLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode3)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode3))\n\t}\n\n\tfunction updateLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode3))\n\t}\n\n\tfunction shouldNotUpdate(vnode3, old) {\n\t\tdo {\n\t\t\tif (vnode3.attrs != null && typeof vnode3.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.attrs.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.state.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode3.dom = old.dom\n\t\tvnode3.domSize = old.domSize\n\t\tvnode3.instance = old.instance\n\t\t// One would think having the actual latest attributes would be ideal,\n\t\t// but it doesn't let us properly diff based on our current internal\n\t\t// representation. We have to save not only the old DOM info, but also\n\t\t// the attributes used to create it, as we diff *that*, not against the\n\t\t// DOM directly (with a few exceptions in `setAttr`). And, of course, we\n\t\t// need to save the children2 and text as they are conceptually not\n\t\t// unlike special \"attributes\" internally.\n\t\tvnode3.attrs = old.attrs\n\t\tvnode3.children = old.children\n\t\tvnode3.text = old.text\n\t\treturn true\n\t}\n\n\tvar currentDOM\n\treturn function (dom, vnodes, redraw) {\n\t\tif (!dom) throw new TypeError(\"DOM element being rendered to does not exist.\")\n\t\tif (currentDOM != null && dom.contains(currentDOM)) {\n\t\t\tthrow new TypeError(\"Node is currently being rendered to and thus is locked.\")\n\t\t}\n\t\tvar prevRedraw = currentRedraw\n\t\tvar prevDOM = currentDOM\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\t\tcurrentDOM = dom\n\t\tcurrentRedraw = typeof redraw === \"function\" ? redraw : undefined\n\t\ttry {\n\t\t\t// First time rendering into a node clears it out\n\t\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\t\tdom.vnodes = vnodes\n\t\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t\t} finally {\n\t\t\tcurrentRedraw = prevRedraw\n\t\t\tcurrentDOM = prevDOM\n\t\t}\n\t}\n}\nvar render = _13(typeof window !== \"undefined\" ? window : null)\nvar _16 = function (render0, schedule) {\n\tvar subscriptions = []\n\tvar pending = false\n\tvar offset = -1\n\n\tfunction sync() {\n\t\tfor (offset = 0; offset < subscriptions.length; offset += 2) {\n\t\t\ttry { render0(subscriptions[offset], Vnode(subscriptions[offset + 1]), redraw) }\n\t\t\tcatch (e) { console.error(e) }\n\t\t}\n\t\toffset = -1\n\t}\n\n\tfunction redraw() {\n\t\tif (!pending) {\n\t\t\tpending = true\n\t\t\tschedule(function () {\n\t\t\t\tpending = false\n\t\t\t\tsync()\n\t\t\t})\n\t\t}\n\t}\n\n\tredraw.sync = sync\n\n\tfunction mount(root, component) {\n\t\tif (component != null && component.view == null && typeof component !== \"function\") {\n\t\t\tthrow new TypeError(\"m.mount expects a component, not a vnode.\")\n\t\t}\n\t\tvar index = subscriptions.indexOf(root)\n\t\tif (index >= 0) {\n\t\t\tsubscriptions.splice(index, 2)\n\t\t\tif (index <= offset) offset -= 2\n\t\t\trender0(root, [])\n\t\t}\n\t\tif (component != null) {\n\t\t\tsubscriptions.push(root, component)\n\t\t\trender0(root, Vnode(component), redraw)\n\t\t}\n\t}\n\n\treturn {mount: mount, redraw: redraw}\n}\nvar mountRedraw0 = _16(render, typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : null)\n export var buildQueryString = function (object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key2 in object) {\n\t\tdestructure(key2, object[key2])\n\t}\n\treturn args.join(\"&\")\n\n\tfunction destructure(key2, value1) {\n\t\tif (Array.isArray(value1)) {\n\t\t\tfor (var i = 0; i < value1.length; i++) {\n\t\t\t\tdestructure(key2 + \"[\" + i + \"]\", value1[i])\n\t\t\t}\n\t\t} else if (Object.prototype.toString.call(value1) === \"[object Object]\") {\n\t\t\tfor (var i in value1) {\n\t\t\t\tdestructure(key2 + \"[\" + i + \"]\", value1[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key2) + (value1 != null && value1 !== \"\" ? \"=\" + encodeURIComponent(value1) : \"\"))\n\t}\n}\n// This exists so I'm5 only saving it once.\nvar assign = Object.assign || function (target, source) {\n\tfor (var key3 in source) {\n\t\tif (hasOwn.call(source, key3)) target[key3] = source[key3]\n\t}\n}\n// Returns `path` from `template` + `params`\nvar buildPathname = function (template, params) {\n\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(template)) {\n\t\tthrow new SyntaxError(\"Template parameter names must be separated by either a '/', '-', or '.'.\")\n\t}\n\tif (params == null) return template\n\tvar queryIndex = template.indexOf(\"?\")\n\tvar hashIndex = template.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? template.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = template.slice(0, pathEnd)\n\tvar query = {}\n\tassign(query, params)\n\tvar resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function (m4, key1, variadic) {\n\t\tdelete query[key1]\n\t\t// If no such parameter exists, don't interpolate it.\n\t\tif (params[key1] == null) return m4\n\t\t// Escape normal parameters, but not variadic ones.\n\t\treturn variadic ? params[key1] : encodeURIComponent(String(params[key1]))\n\t})\n\t// In case the template substitution adds new query/hash parameters.\n\tvar newQueryIndex = resolved.indexOf(\"?\")\n\tvar newHashIndex = resolved.indexOf(\"#\")\n\tvar newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex\n\tvar newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex\n\tvar result0 = resolved.slice(0, newPathEnd)\n\tif (queryIndex >= 0) result0 += template.slice(queryIndex, queryEnd)\n\tif (newQueryIndex >= 0) result0 += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd)\n\tvar querystring = buildQueryString(query)\n\tif (querystring) result0 += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring\n\tif (hashIndex >= 0) result0 += template.slice(hashIndex)\n\tif (newHashIndex >= 0) result0 += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex)\n\treturn result0\n}\nvar mountRedraw = mountRedraw0\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\nm.Fragment = \"[\"\nm.mount = mountRedraw.mount\nvar m6 = hyperscript\n\nfunction decodeURIComponentSave0(str) {\n\ttry {\n\t\treturn decodeURIComponent(str)\n\t} catch (err) {\n\t\treturn str\n\t}\n}\n\nexport var parseQueryString = function (string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), counters = {}, data0 = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key5 = decodeURIComponentSave0(entry[0])\n\t\tvar value2 = entry.length === 2 ? decodeURIComponentSave0(entry[1]) : \"\"\n\t\tif (value2 === \"true\") value2 = true\n\t\telse if (value2 === \"false\") value2 = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j0 = 0; j0 < levels.length; j0++) {\n\t\t\tvar level = levels[j0], nextLevel = levels[j0 + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key5 = levels.slice(0, j0).join()\n\t\t\t\tif (counters[key5] == null) {\n\t\t\t\t\tcounters[key5] = Array.isArray(cursor) ? cursor.length : 0\n\t\t\t\t}\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\t// Disallow direct prototype pollution\n\t\t\telse if (level === \"__proto__\") break\n\t\t\tif (j0 === levels.length - 1) cursor[level] = value2\n\t\t\telse {\n\t\t\t\t// Read own properties exclusively to disallow indirect\n\t\t\t\t// prototype pollution\n\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(cursor, level)\n\t\t\t\tif (desc != null) desc = desc.value\n\t\t\t\tif (desc == null) cursor[level] = desc = isNumber ? [] : {}\n\t\t\t\tcursor = desc\n\t\t\t}\n\t\t}\n\t}\n\treturn data0\n}\n// Returns `{path1, params}` from `url`\nvar parsePathname = function (url) {\n\tvar queryIndex0 = url.indexOf(\"?\")\n\tvar hashIndex0 = url.indexOf(\"#\")\n\tvar queryEnd0 = hashIndex0 < 0 ? url.length : hashIndex0\n\tvar pathEnd0 = queryIndex0 < 0 ? queryEnd0 : queryIndex0\n\tvar path1 = url.slice(0, pathEnd0).replace(/\\/{2,}/g, \"/\")\n\tif (!path1) path1 = \"/\"\n\telse {\n\t\tif (path1[0] !== \"/\") path1 = \"/\" + path1\n\t\tif (path1.length > 1 && path1[path1.length - 1] === \"/\") path1 = path1.slice(0, -1)\n\t}\n\treturn {\n\t\tpath: path1,\n\t\tparams: queryIndex0 < 0\n\t\t\t? {}\n\t\t\t: parseQueryString(url.slice(queryIndex0 + 1, queryEnd0)),\n\t}\n}\n// Compiles a template into a function that takes a resolved0 path2 (without query0\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled0 template to be the\n// output of `parsePathname`. Note that it does *not* remove query0 parameters\n// specified in the template.\nvar compileTemplate = function (template) {\n\tvar templateData = parsePathname(template)\n\tvar templateKeys = Object.keys(templateData.params)\n\tvar keys = []\n\tvar regexp = new RegExp(\"^\" + templateData.path.replace(\n\t\t// I escape literal text so people can use things like `:file.:ext` or\n\t\t// `:lang-:locale` in routes. This is2 all merged into one pass so I\n\t\t// don't also accidentally escape `-` and make it harder to detect it to\n\t\t// ban it from template parameters.\n\t\t/:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g,\n\t\tfunction (m7, key6, extra) {\n\t\t\tif (key6 == null) return \"\\\\\" + m7\n\t\t\tkeys.push({k: key6, r: extra === \"...\"})\n\t\t\tif (extra === \"...\") return \"(.*)\"\n\t\t\tif (extra === \".\") return \"([^/]+)\\\\.\"\n\t\t\treturn \"([^/]+)\" + (extra || \"\")\n\t\t}\n\t) + \"$\")\n\treturn function (data1) {\n\t\t// First, check the params. Usually, there isn't any, and it's just\n\t\t// checking a static set.\n\t\tfor (var i = 0; i < templateKeys.length; i++) {\n\t\t\tif (templateData.params[templateKeys[i]] !== data1.params[templateKeys[i]]) return false\n\t\t}\n\t\t// If no interpolations exist, let's skip all the ceremony\n\t\tif (!keys.length) return regexp.test(data1.path)\n\t\tvar values = regexp.exec(data1.path)\n\t\tif (values == null) return false\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tdata1.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1])\n\t\t}\n\t\treturn true\n\t}\n}\n// Note: this is3 mildly perf-sensitive.\n//\n// It does *not* use `delete` - dynamic `delete`s usually cause objects to bail\n// out into dictionary mode and just generally cause a bunch of optimization\n// issues within engines.\n//\n// Ideally, I would've preferred to do this, if it weren't for the optimization\n// issues:\n//\n// ```js\n// const hasOwn = hasOwn\n// const magic = [\n//     \"key\", \"oninit\", \"oncreate\", \"onbeforeupdate\", \"onupdate\",\n//     \"onbeforeremove\", \"onremove\",\n// ]\n// var censor = (attrs4, extras) => {\n//     const result2 = Object.assign0(Object.create(null), attrs4)\n//     for (const key7 of magic) delete result2[key7]\n//     if (extras != null) for (const key7 of extras) delete result2[key7]\n//     return result2\n// }\n// ```\n// Words in RegExp literals are sometimes mangled incorrectly by the internal bundler, so use RegExp().\nvar magic = new RegExp(\"^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$\")\nvar censor = function (attrs4, extras) {\n\tvar result2 = {}\n\tif (extras != null) {\n\t\tfor (var key7 in attrs4) {\n\t\t\tif (hasOwn.call(attrs4, key7) && !magic.test(key7) && extras.indexOf(key7) < 0) {\n\t\t\t\tresult2[key7] = attrs4[key7]\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (var key7 in attrs4) {\n\t\t\tif (hasOwn.call(attrs4, key7) && !magic.test(key7)) {\n\t\t\t\tresult2[key7] = attrs4[key7]\n\t\t\t}\n\t\t}\n\t}\n\treturn result2\n}\nvar sentinel0 = {}\n\nfunction decodeURIComponentSave(component) {\n\ttry {\n\t\treturn decodeURIComponent(component)\n\t} catch (e) {\n\t\treturn component\n\t}\n}\n\nvar _28 = function ($window, mountRedraw00) {\n\tvar callAsync0 = $window == null\n\t\t// In case Mithril.js' loaded globally without the DOM, let's not break\n\t\t? null\n\t\t: typeof $window.setImmediate === \"function\" ? $window.setImmediate : $window.setTimeout\n\tvar p = Promise.resolve()\n\tvar scheduled = false\n\t// state === 0: init\n\t// state === 1: scheduled\n\t// state === 2: done\n\tvar ready = false\n\tvar state = 0\n\tvar compiled, fallbackRoute\n\tvar currentResolver = sentinel0, component, attrs3, currentPath, lastUpdate\n\tvar RouterRoot = {\n\t\tonbeforeupdate: function () {\n\t\t\tstate = state ? 2 : 1\n\t\t\treturn !(!state || sentinel0 === currentResolver)\n\t\t},\n\t\tonremove: function () {\n\t\t\t$window.removeEventListener(\"popstate\", fireAsync, false)\n\t\t\t$window.removeEventListener(\"hashchange\", resolveRoute, false)\n\t\t},\n\t\tview: function () {\n\t\t\tif (!state || sentinel0 === currentResolver) return\n\t\t\t// Wrap in a fragment0 to preserve existing key4 semantics\n\t\t\tvar vnode5 = [Vnode(component, attrs3.key, attrs3)]\n\t\t\tif (currentResolver) vnode5 = currentResolver.render(vnode5[0])\n\t\t\treturn vnode5\n\t\t},\n\t}\n\tvar SKIP = route.SKIP = {}\n\n\tfunction resolveRoute() {\n\t\tscheduled = false\n\t\t// Consider the pathname holistically. The prefix might even be invalid,\n\t\t// but that's not our problem.\n\t\tvar prefix = $window.location.hash\n\t\tif (route.prefix[0] !== \"#\") {\n\t\t\tprefix = $window.location.search + prefix\n\t\t\tif (route.prefix[0] !== \"?\") {\n\t\t\t\tprefix = $window.location.pathname + prefix\n\t\t\t\tif (prefix[0] !== \"/\") prefix = \"/\" + prefix\n\t\t\t}\n\t\t}\n\t\t// This seemingly useless `.concat()` speeds up the tests quite a bit,\n\t\t// since the representation is1 consistently a relatively poorly\n\t\t// optimized cons string.\n\t\tvar path0 = prefix.concat()\n\t\t\t\t\t\t  .replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponentSave)\n\t\t\t\t\t\t  .slice(route.prefix.length)\n\t\tvar data = parsePathname(path0)\n\t\tassign(data.params, $window.history.state)\n\n\t\tfunction reject(e) {\n\t\t\tconsole.error(e)\n\t\t\tsetPath(fallbackRoute, null, {replace: true})\n\t\t}\n\n\t\tloop(0)\n\n\t\tfunction loop(i) {\n\t\t\t// state === 0: init\n\t\t\t// state === 1: scheduled\n\t\t\t// state === 2: done\n\t\t\tfor (; i < compiled.length; i++) {\n\t\t\t\tif (compiled[i].check(data)) {\n\t\t\t\t\tvar payload = compiled[i].component\n\t\t\t\t\tvar matchedRoute = compiled[i].route\n\t\t\t\t\tvar localComp = payload\n\t\t\t\t\tvar update = lastUpdate = function (comp) {\n\t\t\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\t\t\tif (comp === SKIP) return loop(i + 1)\n\t\t\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\") ? comp : \"div\"\n\t\t\t\t\t\tattrs3 = data.params, currentPath = path0, lastUpdate = null\n\t\t\t\t\t\tcurrentResolver = payload.render ? payload : null\n\t\t\t\t\t\tif (state === 2) mountRedraw00.redraw()\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tstate = 2\n\t\t\t\t\t\t\tmountRedraw00.redraw.sync()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// There's no understating how much I *wish* I could\n\t\t\t\t\t// use `async`/`await` here...\n\t\t\t\t\tif (payload.view || typeof payload === \"function\") {\n\t\t\t\t\t\tpayload = {}\n\t\t\t\t\t\tupdate(localComp)\n\t\t\t\t\t} else if (payload.onmatch) {\n\t\t\t\t\t\tp.then(function () {\n\t\t\t\t\t\t\treturn payload.onmatch(data.params, path0, matchedRoute)\n\t\t\t\t\t\t}).then(update, path0 === fallbackRoute ? null : reject)\n\t\t\t\t\t}\n\t\t\t\t\telse update(\"div\")\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path0 === fallbackRoute) {\n\t\t\t\tthrow new Error(\"Could not resolve default route \" + fallbackRoute + \".\")\n\t\t\t}\n\t\t\tsetPath(fallbackRoute, null, {replace: true})\n\t\t}\n\t}\n\n\t// Set it unconditionally so `m6.route.set` and `m6.route.Link` both work,\n\t// even if neither `pushState` nor `hashchange` are supported. It's\n\t// cleared if `hashchange` is1 used, since that makes it automatically\n\t// async.\n\tfunction fireAsync() {\n\t\tif (!scheduled) {\n\t\t\tscheduled = true\n\t\t\t// TODO: just do `mountRedraw00.redraw1()` here and elide the timer\n\t\t\t// dependency. Note that this will muck with tests a *lot*, so it's\n\t\t\t// not as easy of a change as it sounds.\n\t\t\tcallAsync0(resolveRoute)\n\t\t}\n\t}\n\n\tfunction setPath(path0, data, options) {\n\t\tpath0 = buildPathname(path0, data)\n\t\tif (ready) {\n\t\t\tfireAsync()\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, route.prefix + path0)\n\t\t\telse $window.history.pushState(state, title, route.prefix + path0)\n\t\t\t}\n\t\telse {\n\t\t\t$window.location.href = route.prefix + path0\n\t\t}\n\t}\n\n\tfunction route(root, defaultRoute, routes) {\n\t\tif (!root) throw new TypeError(\"DOM element being rendered to does not exist.\")\n\t\tcompiled = Object.keys(routes).map(function (route) {\n\t\t\tif (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a '/'.\")\n\t\t\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(route)) {\n\t\t\t\tthrow new SyntaxError(\"Route parameter names must be separated with either '/', '.', or '-'.\")\n\t\t\t}\n\t\t\treturn {\n\t\t\t\troute: route,\n\t\t\t\tcomponent: routes[route],\n\t\t\t\tcheck: compileTemplate(route),\n\t\t\t}\n\t\t})\n\t\tfallbackRoute = defaultRoute\n\t\tif (defaultRoute != null) {\n\t\t\tvar defaultData = parsePathname(defaultRoute)\n\t\t\tif (!compiled.some(function (i) { return i.check(defaultData) })) {\n\t\t\t\tthrow new ReferenceError(\"Default route doesn't match any known routes.\")\n\t\t\t}\n\t\t}\n\t\tif (typeof $window.history.pushState === \"function\") {\n\t\t\t$window.addEventListener(\"popstate\", fireAsync, false)\n\t\t} else if (route.prefix[0] === \"#\") {\n\t\t\t$window.addEventListener(\"hashchange\", resolveRoute, false)\n\t\t}\n\t\tready = true\n\t\tmountRedraw00.mount(root, RouterRoot)\n\t\tresolveRoute()\n\t}\n\n\troute.set = function (path0, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\tsetPath(path0, data, options)\n\t}\n\troute.get = function () {return currentPath}\n\troute.prefix = \"#!\"\n\troute.Link = {\n\t\tview: function (vnode5) {\n\t\t\t// Omit the used parameters from the rendered element0 - they are\n\t\t\t// internal. Also, censor the various lifecycle methods.\n\t\t\t//\n\t\t\t// We don't strip the other parameters because for convenience we\n\t\t\t// let them be specified in the selector as well.\n\t\t\tvar child0 = m6(\n\t\t\t\tvnode5.attrs.selector || \"a\",\n\t\t\t\tcensor(vnode5.attrs, [\"options\", \"params\", \"selector\", \"onclick\"]),\n\t\t\t\tvnode5.children\n\t\t\t)\n\t\t\tvar options, onclick, href\n\t\t\t// Let's provide a *right* way to disable a route link, rather than\n\t\t\t// letting people screw up accessibility on accident.\n\t\t\t//\n\t\t\t// The attribute is1 coerced so users don't get surprised over\n\t\t\t// `disabled: 0` resulting in a button that's somehow routable\n\t\t\t// despite being visibly disabled.\n\t\t\tif (child0.attrs.disabled = Boolean(child0.attrs.disabled)) {\n\t\t\t\tchild0.attrs.href = null\n\t\t\t\tchild0.attrs[\"aria-disabled\"] = \"true\"\n\t\t\t\t// If you *really* do want add `onclick` on a disabled link, use\n\t\t\t\t// an `oncreate` hook to add it.\n\t\t\t} else {\n\t\t\t\toptions = vnode5.attrs.options\n\t\t\t\tonclick = vnode5.attrs.onclick\n\t\t\t\t// Easier to build it now to keep it isomorphic.\n\t\t\t\thref = buildPathname(child0.attrs.href, vnode5.attrs.params)\n\t\t\t\tchild0.attrs.href = route.prefix + href\n\t\t\t\tchild0.attrs.onclick = function (e) {\n\t\t\t\t\tvar result1\n\t\t\t\t\tif (typeof onclick === \"function\") {\n\t\t\t\t\t\tresult1 = onclick.call(e.currentTarget, e)\n\t\t\t\t\t} else if (onclick == null || typeof onclick !== \"object\") {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t} else if (typeof onclick.handleEvent === \"function\") {\n\t\t\t\t\t\tonclick.handleEvent(e)\n\t\t\t\t\t}\n\t\t\t\t\t// Adapted from React Router's implementation:\n\t\t\t\t\t// https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n\t\t\t\t\t//\n\t\t\t\t\t// Try to be flexible and intuitive in how we handle0 links.\n\t\t\t\t\t// Fun fact: links aren't as obvious to get right as you\n\t\t\t\t\t// would expect. There's a lot more valid ways to click a\n\t\t\t\t\t// link than this, and one might want to not simply click a\n\t\t\t\t\t// link, but right click or command-click it to copy the\n\t\t\t\t\t// link target, etc. Nope, this isn't just for blind people.\n\t\t\t\t\tif (\n\t\t\t\t\t\t// Skip if `onclick` prevented default\n\t\t\t\t\t\tresult1 !== false && !e.defaultPrevented &&\n\t\t\t\t\t\t// Ignore everything but left clicks\n\t\t\t\t\t\t(e.button === 0 || e.which === 0 || e.which === 1) &&\n\t\t\t\t\t\t// Let the browser handle0 `target=_blank`, etc.\n\t\t\t\t\t\t(!e.currentTarget.target || e.currentTarget.target === \"_self\") &&\n\t\t\t\t\t\t// No modifier keys\n\t\t\t\t\t\t!e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\troute.set(href, null, options)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn child0\n\t\t},\n\t}\n\troute.param = function (key4) {\n\t\treturn attrs3 && key4 != null ? attrs3[key4] : attrs3\n\t}\n\treturn route\n}\nm.route = _28(typeof window !== \"undefined\" ? window : null, mountRedraw)\nm.render = render\nm.redraw = mountRedraw.redraw\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.parsePathname = parsePathname\nm.buildPathname = buildPathname\nm.vnode = Vnode\nm.censor = censor\n\nexport default m\nexport const route = m.route\nexport const redraw = m.redraw"],"mappings":"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"}